<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Blog | gracefullight.dev</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://gracefullight.dev/en/page/3/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="gcY9SiftHgQoJjBZ7IgwNNN5_atLPAX6kWb1nFVfa6E"><meta data-rh="true" name="msvalidate.01" content="65AD1E28C0D057CEB3C68FBC0293E55B"><meta data-rh="true" name="naver-site-verification" content="d024c2837887f72dc7b3792b958be74d69ba9593"><meta data-rh="true" name="yandex-verification" content="6672f93d837354fb"><meta data-rh="true" name="baidu-site-verification" content="yZEdU1ABcR"><meta data-rh="true" name="facebook-domain-verification" content="uelupjqqsm5egzlhy1aev2rfxow5yt"><meta data-rh="true" property="og:title" content="Blog | gracefullight.dev"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gracefullight.dev/en/page/3/"><link data-rh="true" rel="alternate" href="https://gracefullight.dev/page/3/" hreflang="ko"><link data-rh="true" rel="alternate" href="https://gracefullight.dev/en/page/3/" hreflang="en"><link data-rh="true" rel="alternate" href="https://gracefullight.dev/page/3/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RFS69RSYOJ-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/en/rss.xml" title="gracefullight.dev RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/atom.xml" title="gracefullight.dev Atom Feed">
<link rel="alternate" type="application/json" href="/en/feed.json" title="gracefullight.dev JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E99DNE7S05"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E99DNE7S05",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="gracefullight.dev" href="/en/opensearch.xml">
<link rel="icon" href="/en/img/favicon-32x32.png">
<link rel="manifest" href="/en/manifest.json">
<meta name="theme-color" content="#f28913">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f28913">
<link rel="apple-touch-icon" href="/en/img/apple-touch-icon.png">
<link rel="preconnect" href="https://pagead2.googlesyndication.com">
<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3004788392777865" async crossorigin="anonymous"></script>
<link rel="preconnect" href="https://www.clarity.ms">
<script>!function(t,e,n,a,c,i,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(i=e.createElement(a)).async=1,i.src="https://www.clarity.ms/tag/aongv9xgi6",(r=e.getElementsByTagName(a)[0]).parentNode.insertBefore(i,r)}(window,document,"clarity","script")</script>
<link rel="preconnect" href="https://wcs.naver.net">
<script src="https://wcs.naver.net/wcslog.js" async></script>
<script>if(!wcs_add)var wcs_add={};wcs_add.wa="156bc73a81e3bd0",window.wcs&&wcs_do()</script>
<link rel="preconnect" href="https://cdn.channel.io">
<script>!function(){var n=window;if(n.ChannelIO)return(window.console.error||window.console.log||function(){})("ChannelIO script included twice.");var e=function(){e.c(arguments)};function t(){if(!n.ChannelIOInitialized){n.ChannelIOInitialized=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.channel.io/plugin/ch-plugin-web.js",e.charset="UTF-8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}e.q=[],e.c=function(n){e.q.push(n)},n.ChannelIO=e,"complete"===document.readyState?t():window.attachEvent?window.attachEvent("onload",t):(window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1))}(),ChannelIO("boot",{pluginKey:"0fd130ba-a1a6-4b7e-802a-e82a885a7fd8"})</script>
<link rel="preconnect" href="https://static.cloudflareinsights.com">
<script src="https://static.cloudflareinsights.com/beacon.min.js" defer="defer" data-cf-beacon="{&quot;token&quot;:&quot;c0899829e72b45e98dff77241127252c&quot;}"></script><link rel="stylesheet" href="/en/assets/css/styles.63d369e3.css">
<link rel="preload" href="/en/assets/js/runtime~main.4536a7eb.js" as="script">
<link rel="preload" href="/en/assets/js/main.c640b60b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_eCmA" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/favicon-32x32.png" alt="gracefullight.dev blog logo" class="themedImage_VNzL themedImage--light_cQK3"><img src="/en/img/favicon-32x32.png" alt="gracefullight.dev blog logo" class="themedImage_VNzL themedImage--dark_mHiA"></div><b class="navbar__title text--truncate">gracefullight.dev</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_R7eB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/page/3/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/en/page/3/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a class="navbar__item navbar__link" href="/en/archive/">Archives</a><a class="navbar__item navbar__link" href="/en/tags/">Tags</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_aDWD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.linkedin.com/in/gracefullight" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_aDWD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_bwri"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_otwU"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_t2Py thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_JYw4 margin-bottom--md">Recent posts</div><ul class="sidebarItemList_HmXd clean-list"><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/10/14/professional-engineer-it-conversence/">기술사 - 융합 IT</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/10/09/ielts-speaking/">IELTS Speaking</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/10/09/ielts-writing/">IETLS Writing</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/10/07/professional-engineer-it-governance/">기술사 - IT경영</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/10/07/professional-engineer-information-overview/">정보통신분야 기술사 훑어보기</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/10/04/refactoring-writing/">Refactoring Writing</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/10/01/smartpass-review/">인천공항의 매직패스, 스마트패스 사용법과 후기</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/09/03/refactoring-speaking/">Refactoring Speaking</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/08/07/refactoring-grammer/">Refactoring Grammer</a></li><li class="sidebarItem_GFUO"><a class="sidebarItemLink_CLsE" href="/en/2023/07/09/prisma-troubleshooting/">Prisma troubleshooting</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="An overview of the benefits and challenges of using TypeScript in collaboration, including its popularity and ability to prevent bugs."><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2022/01/16/typescript-협업/">TypeScript 협업</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2022-01-16T20:09:51.000Z" itemprop="datePublished">January 16, 2022</time> · <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>써본 사람은 빠져나올 수 없지만 안 써본 사람에게 필요성과 타입스크립트가 어렵지않다라는 것을 어필하기 위한 삽질기랄까..</p><h2 class="anchor anchorWithStickyNavbar_GW2n" id="앞서">앞서<a href="#앞서" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>프로그래밍 언어를 잘 쓴 다는 건 그 언어에 대한 API (man)에 익숙해지고, 업데이트 이력을 꾸준히 팔로잉 하는 것이다.</li><li>언어는 컴퓨터공학 (운영체제, 네트워크, 자료구조) 위에 올라간 표현의 수단이니 한 언어에 익숙하다면 다른 언어가 어렵다라고 느껴지지는 않아야한다 하지만 그렇지 않은 경우가 생각보다 많다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="도입-전">도입 전<a href="#도입-전" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_GW2n" id="동향-관련">동향 관련<a href="#동향-관련" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>Stackoverflow Developer Survey 2021: Most popular Technologies <a href="https://insights.stackoverflow.com/survey/2021#most-popular-technologies-language-prof" target="_blank" rel="noopener noreferrer">1</a></li><li>MS, Google <a href="https://news.dartlang.org/2017/04/dart-typescript-and-official-languages.html" target="_blank" rel="noopener noreferrer">2</a></li><li>Kakao <a href="https://tech.kakao.com/2020/09/21/kakao-fe-platform-team/" target="_blank" rel="noopener noreferrer">3</a>, Naver <a href="https://d2.naver.com/helloworld/2177909" target="_blank" rel="noopener noreferrer">4</a>, Toss <a href="https://toss.tech/article/toss-frontend-chapter" target="_blank" rel="noopener noreferrer">5</a></li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="데이터">데이터<a href="#데이터" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>To Type or Not to Type: Quantifying Detectable Bugs in JavaScript: 타입스크립트 사용시 자바스크립트 프로젝트에서 발견된 버그의 15%를 컴파일 시점에 미리 방지 가능 (UCL, MS 연구) <a href="https://earlbarr.com/publications/typestudy.pdf" target="_blank" rel="noopener noreferrer">6</a></li><li>JSConf Hawaii 2019 (Airbnb): 진행된 프로젝트의 사후 분석 결과, 발견된 버그의 38%가 타입스크립트에서는 방지할 수 있었던 것 <a href="https://youtu.be/P-J9Eg7hJwE?t=709" target="_blank" rel="noopener noreferrer">7</a></li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="유지보수">유지보수<a href="#유지보수" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>param, return type 주석 필요 없음</li><li>헝가리안 표기법 필요 없음</li><li>타입 검증으로 컴파일시 사전 오류 제거</li><li>항상 최신 자바스크립트 문법 지원<ul><li>자바스크립트의 경우 stage 를 모니터링하고 바벨 플러그인을 유지보수 해야하나, 타입스크립트는 stage-3 이상 지원 <a href="https://github.com/tc39/proposals" target="_blank" rel="noopener noreferrer">8</a></li><li>타입스크립트의 릴리즈노트만 팔로잉</li></ul></li><li>IDE 내에서 라이브러리 인터페이스 확인 가능 (d.ts)</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="도입-후">도입 후<a href="#도입-후" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>도입 후는 항상 타입관련 문제가 많다.</p><h3 class="anchor anchorWithStickyNavbar_GW2n" id="tsconfig">tsconfig<a href="#tsconfig" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li><code>noImplicityAny: true</code> 를 켜야 말아야하나는 소모적인 논쟁이라 생각한다.<ul><li>any 는 마이그레이션 단계에서만 허용되어야한다. 그 경우 <code>any[]</code>, <code>{ [id: string]: any }</code> 로 더 구체적으로 정의하는 게 낫다.</li><li>모르는 타입에 대해선 <code>unknown</code> 으로 정의할 수 있고, 이를 사용하는 측에서 타입 단언으로 처리할 수 있다.</li></ul></li><li><code>strict: true</code> 를 항상 켜야한다. <a href="https://www.typescriptlang.org/ko/tsconfig#strict" target="_blank" rel="noopener noreferrer">9</a></li><li><code>target</code> 은 es2017 이상으로 한다. 더 낮은 브라우저 지원이 필요한 경우 한 벌 더 빌드한다. <a href="https://web.dev/publish-modern-javascript/" target="_blank" rel="noopener noreferrer">10</a></li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="type-vs-interface">type vs interface<a href="#type-vs-interface" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>interface 를 사용한다.</p></blockquote><ul><li>OCP: interface 는 확장에 열려있다. <a href="https://www.typescriptlang.org/ko/docs/handbook/2/everyday-types.html#%ED%83%80%EC%9E%85-%EB%B3%84%EC%B9%AD%EA%B3%BC-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90" target="_blank" rel="noopener noreferrer">11</a></li><li>교차 타입에서 퍼포먼스적으로 좋다. <a href="https://github.com/microsoft/TypeScript/wiki/Performance#preferring-interfaces-over-intersections" target="_blank" rel="noopener noreferrer">12</a></li><li>핸드북에서 권장된다. <code>You should prefer interface. Use type when you need specific features.</code> <a href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html#defining-types" target="_blank" rel="noopener noreferrer">13</a></li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="i-prefix">I prefix<a href="#i-prefix" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>인터페이스의 I prefix 는 제거한다.</p></blockquote><ul><li>개인적으로 이건 자바의 잔재라고 생각한다.</li><li>typescript-eslint/recommeneded 룰에서 삭제되었다. <a href="https://github.com/typescript-eslint/typescript-eslint/issues/374" target="_blank" rel="noopener noreferrer">14</a></li><li>MS/Typescript 컨트리뷰트 가이드라인에서 권장된다. <a href="https://github.com/microsoft/TypeScript/wiki/Coding-guidelines" target="_blank" rel="noopener noreferrer">15</a></li><li>Bad naming 룰이다. <a href="https://stackoverflow.com/questions/31876947/confused-about-the-interface-and-class-coding-guidelines-for-typescript/41967120#41967120" target="_blank" rel="noopener noreferrer">16</a></li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="type-only-importexport">type-only import/export<a href="#type-only-importexport" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>타입을 명시적으로 import/export 한다.</p></blockquote><ul><li><code>import</code> 가 반 페이지를 넘어가다보면 어떤게 class 인지, interface 인지 한 눈에 파악하기 힘드나, type-only import 구문을 사용하면 해결 된다. <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-8.html#type-only-imports-and-export" target="_blank" rel="noopener noreferrer">17</a></li><li>런타임 코드 사이즈를 줄일 수 있다. <a href="https://www.typescriptlang.org/tsconfig#importsNotUsedAsValues" target="_blank" rel="noopener noreferrer">18</a></li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="arraytype-vs-type">Array\&lt;Type<!-- -->&gt;<!-- --> vs Type[]<a href="#arraytype-vs-type" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>typescript-eslint/array-type: array-simple 룰을 따른다.</p></blockquote><ul><li>Array with simple type: <code>number[]</code></li><li>Array with non-simple type: <code>Array&lt;Foo &amp; Bar&gt;</code></li><li>Readonly array with simple type: <code>readonly number[]</code></li><li>Readonly array with non-simple type: <code>readonly Array&lt;Foo &amp; Bar&gt;</code> <a href="https://github.com/typescript-eslint/typescript-eslint/blob/main/packages/eslint-plugin/docs/rules/array-type.md" target="_blank" rel="noopener noreferrer">19</a></li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="as-const-vs-enum-vs-const-enum">as const vs enum vs const enum<a href="#as-const-vs-enum-vs-const-enum" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p><code>as const</code> 를 사용한다.</p></blockquote><ul><li>상수 속성으로 사용하기 위한다면 as const 으로 충분하다.<ul><li>as const 는 상수 내 재할당을 금지 (readonly property로 선언, deeply const)</li><li>enum 은 참조코드 생김</li><li>const enum 은 값이 할당</li></ul></li></ul><div class="language-ts codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockTitle_NRbt">input</div><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-ts codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// const</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> timezone </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Seoul&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">JP</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Tokyo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">VN</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Ho_Chi_Minh&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">PH</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Manila&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">enum</span><span class="token plain"> TimezoneAsEnum </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Seoul&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">JP</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Tokyo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">VN</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Ho_Chi_Minh&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">PH</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Manila&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// const enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">enum</span><span class="token plain"> TimezoneAsConstEnum </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Seoul&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">JP</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Tokyo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">VN</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Ho_Chi_Minh&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">PH</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Manila&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// const</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin" style="color:rgb(86, 156, 214)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">timezone</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin" style="color:rgb(86, 156, 214)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">TimezoneAsEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// const enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin" style="color:rgb(86, 156, 214)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">TimezoneAsConstEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-ts codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockTitle_NRbt">output</div><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-ts codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// const</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> timezone </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Seoul&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">JP</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Tokyo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">VN</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Ho_Chi_Minh&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">PH</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Manila&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> TimezoneAsEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">TimezoneAsEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  TimezoneAsEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;KR&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Seoul&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  TimezoneAsEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;JP&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Tokyo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  TimezoneAsEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;VN&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Ho_Chi_Minh&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  TimezoneAsEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;PH&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Manila&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">TimezoneAsEnum </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">TimezoneAsEnum </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// const</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin" style="color:rgb(86, 156, 214)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">timezone</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin" style="color:rgb(86, 156, 214)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">TimezoneAsEnum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// const enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin" style="color:rgb(86, 156, 214)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Seoul&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">/* KR */</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Proposal for ECMAScript enums 이 채택될 때를 위해 enum 을 사용해야한다는 주장이 있다. <a href="https://github.com/rbuckton/proposal-enum" target="_blank" rel="noopener noreferrer">20</a>, <a href="https://www.typescriptlang.org/docs/handbook/enums.html#objects-vs-enums" target="_blank" rel="noopener noreferrer">21</a></li></ul><h4 class="anchor anchorWithStickyNavbar_GW2n" id="역참조">역참조<a href="#역참조" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>enums 의 역참조를 사용하는 경우는 다음과 같다.</p><div class="language-ts codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-ts codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// enum 을 역참조하는 경우</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">enum</span><span class="token plain"> Color </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">RED</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">ORANGE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// let red = Color.RED;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// Color[0] === &quot;RED&quot;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_GW2n" id="문자열-열거형">문자열 열거형<a href="#문자열-열거형" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>JS와 TS의 동작이 달라질 수 있으므로 (런타임에서 사용방법이 달라질 수 있으므로) 리터럴의 유니온을 사용하는 게 낫다.</p><div class="language-ts codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-ts codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// type Timezone = &quot;Asia/Seoul&quot; | &quot;Asia/Tokyo&quot; | &quot;Asia/Ho_Chi_Minh&quot; | &quot;Asia/Manila&quot;;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">enum</span><span class="token plain"> Timezone </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Seoul&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">JP</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Tokyo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">VN</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Ho_Chi_Minh&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token constant" style="color:rgb(100, 102, 149)">PH</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Manila&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">getTimezone</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">timezone</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Timezone</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// JS 에서는 정상</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// TS 에서는 Asia/Seoul 형식은 Timezone 형식의 매개변수에 할당될 수 없습니다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">getTimezone</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Asia/Seoul&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// import 해야 정상</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> Timezone </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./enums&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">getTimezone</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">Timezone</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">KR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_GW2n" id="es6-private-vs-private-accessor">ES6 Private vs Private accessor<a href="#es6-private-vs-private-accessor" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>Private accessor 를 사용한다.</p></blockquote><ul><li>ES6 private 은 구현을 WeakSet 으로 해놨으므로 특별한 경우가 아니라면 (윈도우에서 접근 불가능하게 해야하는 경우) 접근자로도 충분하다.</li></ul><div class="language-ts codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockTitle_NRbt">input</div><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-ts codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Test</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">#es6Private</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">private</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">accessorPrivate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-ts codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockTitle_NRbt">output</div><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-ts codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token plain"> _Test_instances</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> _Test_es6Private</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Test</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">constructor</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    _Test_instances</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">accessorPrivate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">_Test_instances </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">WeakSet</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function-variable function" style="color:rgb(220, 220, 170)">_Test_es6Private</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">_Test_es6Private</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_GW2n" id="dom">DOM<a href="#dom" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><table><thead><tr><th>Type</th><th>Example</th></tr></thead><tbody><tr><td>EventTarget</td><td>window, XMLHttpRequest</td></tr><tr><td>Node</td><td>document, Text, comment</td></tr><tr><td>Element</td><td>HTMLElement, SVGElement</td></tr><tr><td>HTMLElement</td><td>\&lt;b<!-- -->&gt;<!-- -->, \&lt;i<!-- -->&gt;</td></tr><tr><td>HTML<code>*</code>Element</td><td>HTMLButtonElement, HTMLInputElement</td></tr></tbody></table><ul><li>브라우저에 라이브러리를 만드는 경우나 ref 를 사용하는 경우는 위 DOM 구조를 확실히 알아야한다.</li><li>이벤트 핸들러를 구현할 시 인라인함수로 만들면 타입스크립트가 타입추론을 더 쉽게 할 수 있다.</li><li><a href="https://github.com/g-plane/typed-query-selector" target="_blank" rel="noopener noreferrer">g-plane/typed-query-selector</a>이 타입을 추가하여 DOM 엘레먼트 선택시 타입을 바로 반환받을 수 있다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="유틸리티-라이브러리">유틸리티 라이브러리<a href="#유틸리티-라이브러리" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>Lodash 와 같은 유틸리티 라이브러리를 사용하자.</p></blockquote><ul><li>타입 흐름을 개선하고, 가독성을 높이고, 명시적인 타입 구문의 필요성을 줄이기 위해 유틸 메소드를 직접 구현하는 것보단 유틸 라이브러리를 사용하는 것이 낫다.</li><li><a href="https://github.com/lodash/lodash" target="_blank" rel="noopener noreferrer">Lodash</a> 나 <a href="https://github.com/ReactiveX/rxjs" target="_blank" rel="noopener noreferrer">RxJS</a>가 있다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="유틸리티-타입">유틸리티 타입<a href="#유틸리티-타입" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>새로운 유틸리티 타입을 지정하기 전에 <a href="https://github.com/sindresorhus/type-fest" target="_blank" rel="noopener noreferrer">sindresorhus/type-fest</a>에서 사용할 수 있는 유틸리티 타입이 있는지 확인하자.</li><li>왠만한 케이스는 커버가 가능하다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="export-internal-interface">export internal interface<a href="#export-internal-interface" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>어차피 사용측에서 가져갈 수 있으므로 미리 내보낸다.</p></blockquote><div class="language-ts codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-ts codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// 선언측</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Name</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  first</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  last</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Employee</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  name</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  joined</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Date</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getEmployee</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Employee</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 사용측</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">type</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Employee</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> ReturnType</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> getEmployee</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">type</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Name</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> Parameters</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> getEmployee</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>위처럼 사용측에서 가져갈 수 있다.</li><li>내부 인터페이스는 <code>export interface</code> 로 내보내주자.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="마이그레이션">마이그레이션<a href="#마이그레이션" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>의존성 관계도를 뽑아서 바텀업으로 마이그레이션한다. 첫 번째 모듈은 유틸리티 모듈일 것이다. 툴은 <a href="https://github.com/pahen/madge" target="_blank" rel="noopener noreferrer">madge</a></li><li>자동으로 도전해보고 싶다면 <a href="https://github.com/airbnb/ts-migrate" target="_blank" rel="noopener noreferrer">airbnb/ts-migrate</a></li><li>점진적으로 진행하여 타입커버리지를 직접 확인하고 싶은 경우 <a href="https://github.com/plantain-00/type-coverage" target="_blank" rel="noopener noreferrer">plaintain-00/type-coverage</a></li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="여담">여담<a href="#여담" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>추가할 게 생긴다면 계속 추가해볼 예정이다.</li><li><a href="https://www.typescriptlang.org/ko/play" target="_blank" rel="noopener noreferrer">Typescript/Playground</a> 로 코드를 공유하면 시간절약이 가능하다.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/typescript/">typescript</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Workshop 섹션때문인지, 재택환경 때문인지 작년보다 내용이 없었다."><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/12/03/cds-2021/">Chrome dev summit 2021 빠르게 훑기</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-12-03T00:02:53.000Z" itemprop="datePublished">December 3, 2021</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Workshop 섹션때문인지, 재택환경 때문인지 작년보다 내용이 없었다.</p><h2 class="anchor anchorWithStickyNavbar_GW2n" id="building-a-more-private-web">Building a more private web<a href="#building-a-more-private-web" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><div style="width:640px;height:360px"></div><ul><li>New privacy-Preserving Technologies</li><li>FLoC 관련 이라 앞부분 스킵</li><li>UA-CH (User Agent Client Hints API): 유저 브라우저 핑거프린팅 방지<ul><li>기존 UA 에는 버전, 플랫폼 정보들이 담김.</li><li><a href="https://developer.chrome.com/docs/privacy-sandbox/user-agent/" target="_blank" rel="noopener noreferrer">UA String Reduction</a> 2022-04부터 시작</li><li>User Agent Client Hints 로 마이그레이션 해야함.<ul><li>https 만 가능</li><li><a href="https://web.dev/migrate-to-ua-ch/" target="_blank" rel="noopener noreferrer">https://web.dev/migrate-to-ua-ch/</a></li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="how-leading-developers-build-innovative-web-experiences">How leading developers build innovative web experiences<a href="#how-leading-developers-build-innovative-web-experiences" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>최신 기술 쓴 회사 소개</p><p><a href="https://www.youtube.com/watch?v=1vGVrC03_jo" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=1vGVrC03_jo</a></p><ul><li>KAPWING: 온라인 비디오 에디터<ul><li>Indexed DB</li><li>Web Socket API</li><li>Web Audio API</li><li>Media Recorder API</li><li>Web Workers</li><li>PWA</li><li>(+) Web Codecs</li><li>(+) WebGL</li><li>(+) Media Source Extensions</li></ul></li><li>Zoom<ul><li>PWA Desktop Web Codes API 로 Chrome OS 지원</li><li>런칭 후 16.9M 유저 증가 (전년대비 7M 증가)</li></ul></li><li>Google Meet<ul><li>PWA: Custom background using WASM SIMD and WebGL.</li></ul></li><li>Youtube Primium.<ul><li>PWA: SW, CacheStorage, IndexedDB, Web Share API, Navigation Preload.</li></ul></li><li>Tiktok: creating a multi-form-factor, frictionless experience.<ul><li>Workbox to Prefetch videos.</li><li>expand PWA desktop.</li><li>트래픽 10배 상승</li></ul></li><li>Adobe Photoshop Web<ul><li>Chrome 과 웹플랫폼팀과 코웤</li><li>wasm 을 사용해서 퍼포먼스 패널티 기능 구현.</li><li>Storage Foundation API.</li><li>피드백 환영</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="understanding-performance-with-core-web-vitals">Understanding performance with Core Web Vitals<a href="#understanding-performance-with-core-web-vitals" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p><a href="https://www.youtube.com/watch?v=F0NYT7DIlDQ" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=F0NYT7DIlDQ</a></p><ul><li>구글과 자바스크립트 프레임워크 간의 퍼포먼스 협업 <a href="https://web.dev/introducing-aurora/" target="_blank" rel="noopener noreferrer">Aurora</a></li><li>PageSpeed Insights 리뉴얼</li><li>라이트하우스에서 <a href="https://web.dev/lighthouse-user-flows/" target="_blank" rel="noopener noreferrer">유저 플로우 측정 가능</a><ul><li>Warm load 나 스크롤 등을 시뮬레이션하고 테스트 가능</li></ul></li><li>개발자모드 Recorder 탭에서 puppteer 테스트를 만들어서 export 할 수 있다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="the-new-responsive-design">The new responsive design<a href="#the-new-responsive-design" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p><a href="https://www.youtube.com/watch?v=dhrX_biPH8c" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=dhrX_biPH8c</a></p><ul><li><code>@container</code>: parent 영역에 따른 반응형</li><li><code>Nesting css</code></li><li><code>@media (pefers-colors-scheme: dark)</code><ul><li>개발자도구 &gt; Rendering &gt; Emulate auto dark mode 가능</li></ul></li><li><a href="https://web.dev/patterns/layout/" target="_blank" rel="noopener noreferrer">https://web.dev/patterns/layout/</a></li><li><a href="https://web.dev/learn/css/" target="_blank" rel="noopener noreferrer">https://web.dev/learn/css/</a></li><li><a href="https://web.dev/learn/layout" target="_blank" rel="noopener noreferrer">https://web.dev/learn/layout</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/cds/">cds</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/chrome/">chrome</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/conference/">conference</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="A1: Do more, with less"><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/12/02/feconf-2021/">feconf 2021</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-12-02T07:19:12.000Z" itemprop="datePublished">December 2, 2021</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_GW2n" id="a1-do-more-with-less">A1: Do more, with less<a href="#a1-do-more-with-less" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>UI 개발의 일반적인 문제</p><p>화면마다 매번 새로 디자인 되는 컴포넌트: UI의 파편화로 생산성 감소
새로 구현하는게 맘편해요...</p><p>디자인 일관성 다운 -&gt; 중복코드 파편화 -&gt; 유지보수가 어려운 UI 코드 무한루프</p><p>디자인시스템 구성요소</p><ul><li>토큰: 컬러, 타이포그래피, 사이즈, 여백, 트랜지션…</li><li>컴포넌트: 토큰을 가지고 컴포넌트의 생김새 정의<ul><li>Primary, fill, normal, disabled…</li></ul></li><li>패턴: Danger fill &gt; 한 화면에 하나만 사용, 경고용도로 사용</li></ul><p>스펙을 가지고 스토리북 생성</p><p>디자인 시스템 가이드 정의 &gt; 디자인과 개발에 동일한 컴포넌트 구현 및 사용 &gt; 커뮤니케이션 비용 다운, 효율성 일관성, 퀄리티 증가</p><p>100명 이상 소통하기에 다른 문제가 생겼다.</p><ul><li>코드를 디자인에 일치시키는 어려움 (14:25)</li><li>비주얼 중심의 디자이너 언어 &lt;-&gt; 기능 중심의 개발자 언어<ul><li>Blue: Primary</li><li>Red: Danger</li></ul></li><li>엄격함과 유연함 사이에 절충이 필요했다.</li></ul><p>스케치로 만들고 직접 리액트 컴포넌트를 수동으로 만들었다.</p><ul><li>휴먼 에러가 생기고, 스케치컴포넌트와 리액트컴포넌트를 서로 비교해야했다.</li><li>디자인과 코드 사이에 의존 관계를 만들어야한다.</li><li>기존 디자인툴은 모든 프롭의 조합을 그려놓아야한다. (스티커 붙히기) 파워포인트로 디자인만들기 급..<ul><li>디자인 툴에서도 코드를 사용할 수 있으면 좋을텐데.. &gt; 프레이머로 전환</li></ul></li></ul><p>프레이머</p><ul><li>모든 요소가 리액트 컴포넌트로 이루어짐 22:17분</li><li>디자이너가 프롭을 정의하고 입력할 수 있음</li><li>컨셉 검증을 위해 리액트로 작성된 라이브러리를 프레이머로 옮김</li><li>리액트 컴포넌트 수정시 디자인 컴포넌트도 수정되어 코드 동기화가 완료됨</li></ul><p>언어가 다른것</p><ul><li>제플린, 피그마에서 디자인한건지 디자인시스템컴포넌트인지를 확인하려면 일일히 눌러봐야함<ul><li>토스에서는 손가락 이모지를 앞에 넣어서 명시적으로 이름을 바꿧음<ul><li>button-1. fill-medium-primary (style, size, color)</li></ul></li><li>박스에 버튼이 있는경우, 알 수가 없음.. 박스에 들어가는 버튼인지 버튼만을 넣는것인지... (29:49)</li></ul></li></ul><p>왜 디자인을 다시 개발해야하는가?
프레이머로 커스텀 핸드오프 기능 구현</p><ul><li>클릭시 전체 자식 노드의 프롭 정보를 노출시킴 (32:09)</li><li>개발자와 디자이너의 언어도 일치시킴</li></ul><p>DST (Design Syntax Tree)</p><ul><li>리액트 노드의 형태를 모방해서 기계가 파싱가능한 트리구조로 추상화 (33:41)</li><li>DST Element (34:22) -&gt; DST React Renderer (35:20) (35:38)</li></ul><div class="language-json codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-json codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;elementType&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;AmountTop&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;properties&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;title&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;subtitle&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;button&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;elementType&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;properties&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token property">&quot;Title&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token property">&quot;Type&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token property">&quot;Style&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;fill&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>디자인을 바로 코드로 옮기는 목표 달성</p><p>엄격함과 유연함</p><ul><li>디자인 시스템에 컴포넌트가 있는줄 몰랐어요</li><li>구멍인 줄은 알았는데 자유롭게 쓰고 싶었어요</li><li>컴포넌트를 쓰긴 했는데 패턴을 어긴지 몰랐어요 등등..</li><li>커스텀 컴포넌트 계속 만들면 디자인시스템 도입 이전하고 똑같음</li><li>리스트 컴포넌트 스펙 참조 (41:21)<ul><li>디자이너가 컴포넌트 목록을 잘 몰라서 새로 만드는 경우</li><li>가이드가 힘들었음 (43:26)</li><li>디자인 시스템 관리자가 매번 패턴 점검 필요</li></ul></li></ul><p>디자인 린터 (디자인 시스템 커버리지 계산기)</p><ul><li>권장 패턴이 아닌 경우 알림</li><li>DST 를 통해 디자인 분석</li><li>크롬 확장프로그램으로<ul><li>프레이머 웹사이트의 html 에서 Dst 정보 파싱</li><li>DST 에서 컴포넌트 관계 분석</li><li>권장 패턴에 맞게 사용중인지 계산 (권장 패턴 요소 개수 / 전체 요소 개수) (44:50)</li><li>학습비용과 전파비용을 극복함</li></ul></li></ul><p>React + DST (46:20)</p><ul><li>DST 의 스펙만 확장시키면 됨</li><li>Server driven UI 나 다른 언어 컴포넌트로 전환도 가능해보임.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="a6-swc">A6: swc<a href="#a6-swc" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>많은 벤더가 전환 중</li></ul><p>개인적인 의견: 엄청 빨라짐, 아직 롤업 플러그인 지원은 미비, 모든 Node 생태계가 러스트로 이동 중, swcpack 프로덕션 기대</p><h2 class="anchor anchorWithStickyNavbar_GW2n" id="b1-recoil">B1: recoil<a href="#b1-recoil" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>개인적인 의견: 인포그래픽 아름다워서 공유용으로 적합.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/conference/">conference</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/javascript/">javascript</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="개요"><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/11/17/nodejs-alpine3-13-benchmark/">nodejs alpine3.13 테스트</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-11-17T23:24:45.000Z" itemprop="datePublished">November 17, 2021</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_GW2n" id="개요">개요<a href="#개요" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>docker nodejs base image 에 alpine3.13 에 대한 이미지가 있어서 <a href="https://alpinelinux.org/posts/Alpine-3.13.0-released.html" target="_blank" rel="noopener noreferrer">릴리즈노트</a>를 확인했다.</li><li><code>Node.js (LTS) is compiled with -O2 instead of -Os which noticeably improves performance.</code> 란 구문이 눈에 띄었다.</li><li>noticeably improves 란 추상적인 표현은 호기심을 자극하기에 충분했다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="히스토리">히스토리<a href="#히스토리" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>처음에 빌드 플래그 변경을 제안한 사람에 따르면, 빌드 플래그 수정으로 <a href="https://lists.alpinelinux.org/~alpine/devel/%3C1593625212.dirkptm3b0.none%40localhost%3E" target="_blank" rel="noopener noreferrer">15% speedup 이 있을 것</a>이라고 하였다.</li><li>이에 몇몇 알파인 패키지들이 O2 로 전환되었고, Node.js도 <a href="https://git.alpinelinux.org/aports/commit/?id=53dd8b58d838892bd9fe4849d7e239e0406e14eb" target="_blank" rel="noopener noreferrer">2020-12-19 커밋</a>에 포함되었다.</li><li>여기엔 아래와 같은 코멘트가 달려있고, <a href="https://github.com/v8/web-tooling-benchmark" target="_blank" rel="noopener noreferrer">v8/web-tooling-benchmark</a>를 사용한 것으로 보였다.</li></ul><div class="language-bash codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-bash codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Compiling with O2 instead of Os increases binary size by ~10%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># (53.1 MiB -&gt; 58.6 MiB), but also increases performance by ~20%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># according to v8/web-tooling-benchmark</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_GW2n" id="테스트1">테스트1<a href="#테스트1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>빌드 플래그의 변경으로 nodejs 유저가 베이스 이미지의 버전을 하나 올려주는 것만으로 어플리케이션의 성능을 20% 까지 올릴 수 있다는 이야기로 보였다.</li><li><a href="https://github.com/fastify/benchmarks" target="_blank" rel="noopener noreferrer">fastify/benchmarks</a> 레파지토리의 <a href="https://github.com/fastify/benchmarks/blob/master/benchmarks/express.js" target="_blank" rel="noopener noreferrer">Express.js</a> 를 아래처럼 도커라이징했다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="nodelts-alpine312">node:lts-alpine3.12<a href="#nodelts-alpine312" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-dockerfile codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token plain"># 테스트 당시 LTS === 14</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">FROM node:lts-alpine3.12</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">RUN mkdir -p /usr/src/app \</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  &amp;&amp; chown node:node -R /usr/src/app</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">WORKDIR /usr/src/app</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">COPY --chown=node:node package*.json ./</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">USER node</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">RUN npm install &amp;&amp; npm cache clean --force</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">COPY --chown=node:node . .</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">EXPOSE 3000</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">CMD [ &quot;node&quot;, &quot;server.js&quot; ]</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_GW2n" id="nodelts-alpine313">node:lts-alpine3.13<a href="#nodelts-alpine313" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-dockerfile codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token plain"># 테스트 당시 LTS === 14</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">FROM node:lts-alpine3.13</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">RUN mkdir -p /usr/src/app \</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  &amp;&amp; chown node:node -R /usr/src/app</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">WORKDIR /usr/src/app</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">COPY --chown=node:node package*.json ./</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">USER node</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">RUN npm install &amp;&amp; npm cache clean --force</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">COPY --chown=node:node . .</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">EXPOSE 3000</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">CMD [ &quot;node&quot;, &quot;server.js&quot; ]</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_GW2n" id="결과1">결과1<a href="#결과1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>컨테이너는 테스트되는 이미지만을 띄웠고, docker 4CPUs, 6G RAM 에서 실행했다.</p><p><code>autocannon -c 100 -d 40 -p 10 localhost:3000</code></p><p>부푼 기대만큼 결과가 같게 나왔으면 좋겠지만 결과 추가를 못할만큼 Latency, Req/Sec, Bytes/Sec 모든 수치에서 엎치락 뒤치락하는 모습을 보였다.</p><h2 class="anchor anchorWithStickyNavbar_GW2n" id="테스트2">테스트2<a href="#테스트2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>noticeably improves 는 CPU intensive Task 를 비교해봐야하는 것일까란 의문만 남았다.</li><li>node official image 를 확인해보니 <a href="https://github.com/nodejs/docker-node/blob/main/16/alpine3.13/Dockerfile" target="_blank" rel="noopener noreferrer">nodejs.org의 배포본</a>을 풀어 사용하는 것으로 보였다.</li><li>따라서 이미지를 alpine 패키지를 사용할 수 있게 재구성하고 테스트했다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="alpine313">alpine:3.13<a href="#alpine313" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><div class="language-dockerfile codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token plain">FROM alpine:3.13</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">RUN apk add --update nodejs npm</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">RUN addgroup -g 1000 node \</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  &amp;&amp; adduser -u 1000 -G node -s /bin/sh -D node \</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  &amp;&amp; mkdir -p /usr/src/app \</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  &amp;&amp; chown node:node -R /usr/src/app</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">WORKDIR /usr/src/app</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">COPY --chown=node:node package*.json ./</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">USER node</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">RUN npm install &amp;&amp; npm cache clean --force</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">COPY --chown=node:node . .</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">EXPOSE 3000</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">CMD [ &quot;node&quot;, &quot;server.js&quot; ]</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_GW2n" id="결과2">결과2<a href="#결과2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>더 느렸다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="결론">결론<a href="#결론" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>noticeably improves, ~20% 란 문구로 인해 <code>fastify/benchmarks</code> 로직으로 도커라이징하여 테스트해보았으나 비슷한 퍼포먼스를 보여주었다.</li><li>위의 수치를 검증할 수 있는 테스트베드가 있다면 돌려보고 싶다. (링크 있으시면 공유부탁드립니다.)</li></ul><h1>참조</h1><ul><li>Build flag 비교: <a href="https://wiki.kldp.org/wiki.php/GccOptimizationOptions" target="_blank" rel="noopener noreferrer">GCC Optimization Options</a></li><li><a href="https://git.alpinelinux.org/aports/tree/main/nodejs/APKBUILD?h=3.13-stable" target="_blank" rel="noopener noreferrer">alpine3.13 nodejs apkbuild</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/javascript/">javascript</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/nodejs/">nodejs</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/alpine/">alpine</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/docker/">docker</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="- [ ] yarn set version berry"><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/09/11/yarn-berry-마이그레이션-체크리스트/">yarn berry 마이그레이션 체크리스트</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-09-11T23:13:42.000Z" itemprop="datePublished">September 11, 2021</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><ul class="contains-task-list containsTaskList_fSR9"><li class="task-list-item"><input type="checkbox" disabled=""> <code>yarn set version berry</code></li><li class="task-list-item"><input type="checkbox" disabled=""> <code>rm -rf node_modules package-lock.json</code></li><li class="task-list-item"><input type="checkbox" disabled=""> <code>yarn</code></li><li class="task-list-item"><input type="checkbox" disabled=""> <a href="https://yarnpkg.com/getting-started/qa#which-files-should-be-gitignored" target="_blank" rel="noopener noreferrer">.gitignore 추가</a></li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->package.scripts 에서 다른 스크립트를 실행하는 경우, yarn 을 붙혀서 실행</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->.husky 변경<ul class="contains-task-list containsTaskList_fSR9"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->package.scripts <code>&quot;postinstall&quot;: &quot;husky install&quot;</code></li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->실행 훅 스크립트를 <code>npx --no-install</code> 에서 <code>yarn</code> 으로 변경</li></ul></li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Dockerfile 변경 (node 기본이미지에 <a href="https://github.com/nodejs/docker-node#image-variants" target="_blank" rel="noopener noreferrer">yarn은 베이스로 설치되어 있음</a>)<ul class="contains-task-list containsTaskList_fSR9"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->yarn build</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->entrypoint 커맨드</li></ul></li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->의존관계 패키지 추가 설치</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->테스트</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/javascript/">javascript</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/typescript/">typescript</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/yarn/">yarn</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="- 현재(210911) 메인테이너를 구하는 프로젝트이므로 이슈가 수정되지 않는다."><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/09/11/rollup-plugin-postcss-의-path-alias-문제/">rollup-plugin-postcss 의 path alias 문제</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-09-11T22:31:22.000Z" itemprop="datePublished">September 11, 2021</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><ul><li><a href="https://github.com/egoist/rollup-plugin-postcss/issues/217" target="_blank" rel="noopener noreferrer">현재(210911) 메인테이너를 구하는 프로젝트</a>이므로 이슈가 수정되지 않는다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="scss-alias">scss alias<a href="#scss-alias" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><div class="language-scss codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-scss codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// ~는 노드 모듈 처리된다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">@import</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;~@material&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// @styles 로 사용하고 싶을 경우가 있다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">@import</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;@styles/mystyle&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>두 번째의 경우는 scss 시트를 처리해주면서 <code>(plugin postcss) Error: Can&#x27;t find stylesheet to import.</code> 와 같은 에러를 뱉는다.</li><li>웹팩의 경우 <code>resolve.alias</code> 가 알아서 처리를 해주지만, rollup-plugin-postcss 의 sass-loader 에서 importer 를 추가해줘야할 것 같았다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="sass-loader">sass-loader<a href="#sass-loader" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>이 플러그인의 sass-loader 는 <a href="https://github.com/egoist/rollup-plugin-postcss/blob/master/src/sass-loader.js#L79" target="_blank" rel="noopener noreferrer">dart-sass 의 importer 를 확장</a>해서 쉽게 추가가 가능해보였다.</li><li>그러나 아무리 확장처리를 해도 importer 에서 해당 경로가 리졸브 되지 않았고 <a href="https://github.com/egoist/rollup-plugin-postcss/issues?q=importer" target="_blank" rel="noopener noreferrer">관련 이슈</a>가 3개, PR이 2개 등록된 것을 확인할 수 있다.</li><li>이 걸 해결하려면 postcss.use.sass 사용시에 importer 를 override 해주는 custom sass-loader 를 직접 만들어야한다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="custom-sass-loader">custom-sass-loader<a href="#custom-sass-loader" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li><a href="https://github.com/egoist/rollup-plugin-postcss/blob/master/src/sass-loader.js" target="_blank" rel="noopener noreferrer">https://github.com/egoist/rollup-plugin-postcss/blob/master/src/sass-loader.js</a></li><li><code>pity</code> 는 promisify 로 대체 가능하여 지웠고 <code>import-cwd</code> 도 node 코어를 사용하게 변경했다.</li><li><code>p-queue</code> 도 child_process 로 대체 가능해보인다.</li></ul><div class="language-ts codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-ts codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> createRequire </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;module&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> path </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;path&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> promisify </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;util&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> resolve </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;resolve&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> PQueue </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;p-queue&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">loadModule</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">moduleId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">moduleId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// Ignore error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">createRequire</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">resolve</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">cwd</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;noop.js&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">moduleId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// Ignore error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// This queue makes sure node-sass leaves one thread available for executing fs tasks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// See: https://github.com/sass/node-sass/issues/857</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> threadPoolSize </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">env</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:rgb(100, 102, 149)">UV_THREADPOOL_SIZE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> workQueue </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">PQueue</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> concurrency</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> threadPoolSize </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> moduleRe </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">^~([a-z\d]|@).+</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-flags">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">getUrlOfPartial</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> parsedUrl </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">parsedUrl</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation">dir</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">path</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation">sep</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">_</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">parsedUrl</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation">base</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> resolvePromise </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">promisify</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">resolve</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// List of supported SASS modules in the order of preference</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> sassModuleIds </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;node-sass&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;sass&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  name</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;sass&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  test</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.(sass|scss)$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> code </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name builtin" style="color:rgb(86, 156, 214)">Promise</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">resolve</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> reject</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> sass </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">loadSassOrThrow</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> render </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">promisify</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">sass</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">render</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">bind</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">sass</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> data </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">data </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      workQueue</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token function" style="color:rgb(220, 220, 170)">render</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          </span><span class="token operator" style="color:rgb(212, 212, 212)">...</span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          file</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          data</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> data </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> code</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          indentedSyntax</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.sass$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">test</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          sourceMap</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sourceMap</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          importer</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> importer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> done</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">moduleRe</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">test</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token comment" style="color:rgb(106, 153, 85)">// 이부분에 alias importer 가 추가되어야한다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">^@styles</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">test</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">done</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                    file</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">replace</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                      </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">^@styles</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                      path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">resolve</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;./src/styles&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">done</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> file</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> url </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> moduleUrl </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">slice</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> partialUrl </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getUrlOfPartial</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">moduleUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> options </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                basedir</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">importer</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                extensions</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.scss&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.sass&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.css&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">finishImport</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token function" style="color:rgb(220, 220, 170)">done</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  </span><span class="token comment" style="color:rgb(106, 153, 85)">// Do not add `.css` extension in order to inline the file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  file</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">endsWith</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.css&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">?</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">replace</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\.css$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">next</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token comment" style="color:rgb(106, 153, 85)">// Catch all resolving errors, return the original file and pass responsibility back to other custom importers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token function" style="color:rgb(220, 220, 170)">done</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> file</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> url </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token comment" style="color:rgb(106, 153, 85)">// Give precedence to importing a partial</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token function" style="color:rgb(220, 220, 170)">resolvePromise</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">partialUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">then</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">finishImport</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">catch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                    error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">code </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;MODULE_NOT_FOUND&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                    error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">code </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;ENOENT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token function" style="color:rgb(220, 220, 170)">resolvePromise</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">moduleUrl</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">then</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">finishImport</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">catch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">next</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token function" style="color:rgb(220, 220, 170)">next</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">concat</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">importer </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">then</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token keyword" style="color:rgb(86, 156, 214)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> file </span><span class="token keyword" style="color:rgb(86, 156, 214)">of</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">stats</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">includedFiles</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              </span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">dependencies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token function" style="color:rgb(220, 220, 170)">resolve</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              code</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">css</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">toString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">              map</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">map </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">toString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">catch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">reject</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 이하 생략...</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_GW2n" id="rollupconfigjs">rollup.config.js<a href="#rollupconfigjs" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>위의 커스터마이징된 sass-loader 를 <code>use: [&#x27;sass&#x27;]</code> 대신 등록해준다.</p><div class="language-js codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-js codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">postcss</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 추가</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token literal-property property">loaders</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">customSassLoader</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 제거</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// use: [&#x27;sass&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>결론</h1><ul><li><code>rollup-plugin-postcss</code> 는 이슈가 있어 확장을 직접해야하고 이는 유지보수 포인트로 다가올 수 있다.</li><li><code>postcss-import</code> 는 alias 기능이 없어 사용이 불가능하다.</li><li><code>postcss-import-alias</code> 등등의 alias 를 추가한 라이브러리도 불가능한데, 이는 <a href="https://github.com/egoist/rollup-plugin-postcss/blob/master/src/loaders.js#L36" target="_blank" rel="noopener noreferrer">postcssLoader 가 먼저 등록</a> 되는데 의외의 결과이다. <code>rollup-plugin-postcss</code> 를 직접 로컬에서 빌드해서 해당 지점을 확인해볼 수 있겠지만 PR 을 받지 않으므로 의미도 없다.</li><li><a href="https://github.com/thgh/rollup-plugin-scss" target="_blank" rel="noopener noreferrer">rollup-plugin-scss</a>를 사용하고 postcss 를 processor 로 줘서 반대로 처리할 수 있어보이는데, 빌드 파이프라인을 다 리팩토링을 해야하므로 나중에 도전해보는걸로 하자.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/javascript/">javascript</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/rollup/">rollup</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="- prototype 은 constructor 와 상속을 이해하기 위해 필요하다."><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/05/01/js-prototype-spec/">ecma 스펙으로 알아보는 prototype</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-05-01T18:16:27.000Z" itemprop="datePublished">May 1, 2021</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><ul><li>prototype 은 constructor 와 상속을 이해하기 위해 필요하다.</li><li>여러 코드 예시를 가지고 이걸 설명하려고 하는 포스팅이 많은데 이것도 정작 중요한 스펙에 대한 내용이 다 빠져있다.</li></ul><h1>Prototype</h1><ul><li><a href="https://262.ecma-international.org/11.0/#sec-terms-and-definitions-prototype" target="_blank" rel="noopener noreferrer">4.3.5 prototype 사양서</a>의 내용은 다음과 같다.</li></ul><blockquote><p>다른 객체에 공유 프로퍼티를 제공하는 객체</p></blockquote><ul><li>NOTE: 생성자가 객체를 만들 때 그 객체는 암묵적으로 생성자의 prototype 속성을 참조한다.</li><li>생성자의 prototype 프로퍼티는 <code>constructor.prototype</code> 에 의해 참조될 수 있고 객체의 프로토타입에 추가된 프로퍼티는 상속을 통해 프로토타입을 공유하는 모든 객체에 공유된다.</li><li><code>Object.create</code> 함수를 사용하여 명시적으로 지정된 프로토타입으로 객체를 만들 수 있다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="new-실행-단계">new 실행 단계<a href="#new-실행-단계" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li><a href="https://262.ecma-international.org/11.0/#sec-ecmascript-function-objects-construct-argumentslist-newtarget" target="_blank" rel="noopener noreferrer">9.2.2 [[Construct]] 사양서</a>의 내용은 다음과 같다.</li></ul><blockquote><p>ECMAScript의 function 객체 F에 대한 내부 메소드 <code>[[Construct]]</code> 가 argumentsList 와 newTarget 파라미터와 함께 호출된다. argumentsList 는 빈 List 가 가능하다.</p></blockquote><ol><li>Assert: F는 ECMAScript function object이다.</li><li>Assert: newTarget은 Object이다.</li><li>Let callerContext를 현재 execution context로 설정한다.</li><li>kind는 <code>F.[[ConstructorKind]]</code>로 설정한다.</li><li>if kind가 <code>base</code>라면<ul><li>a. <strong>thisArgument를 newTarget의 prototype을 가지는 새로운 객체로 설정한다.</strong></li></ul></li><li>calleeContext는 <code>PrepareForOrdinaryCall(F, newTarget)</code>로 설정한다.</li><li>Assert: calleeContext는 이제 현재 실행 중인 execution context이다.</li><li><strong>If kind가 <code>base</code>라면, <code>OrdinaryCallBindThis(F, calleeContext, thisArgument)</code>로 this 바인딩을 한다.</strong></li><li>constructorEnv를 calleeContext의 LexicalEnvironment로 설정한다.</li><li>envRec를 constructorEnv의 EnvironmentRecord로 설정한다.</li><li><strong>함수 F를 argumentList로 실행한 결과를 result로 설정한다.</strong></li><li>calleeContext를 execution context stack에서 삭제하고 callerContext를 현재 execution context로 복구한다.</li><li>If <code>result.[[Type]]</code>이 return이면<ul><li>a. <code>result.[[Value]]</code>가 객체이면 <code>result.[[Value]]</code>를 반환한다.</li><li>b. If kind가 <code>base</code>이면 thisArgument를 반환한다.</li><li>c. If <code>result.[[Value]]</code> 가 undefined 가 아니라면 TypeError를 발생시킨다.</li></ul></li><li>아니라면, result를 반환한다.</li><li><strong>EnviromnetRecord의 this를 반환한다.</strong></li></ol><h3 class="anchor anchorWithStickyNavbar_GW2n" id="5a">5.a<a href="#5a" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>여기서 this를 newTarget의 prototype을 가지는 객체로 생성한다.</li><li>이 사양으로 프로토타입 체인이 실행된다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="8">8<a href="#8" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>위에서 생성된 객체를 this로 설정한다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="11">11<a href="#11" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>argumentsList를 파라미터로 넘긴 생성자 함수 F로 새로운 객체를 초기화한다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="15">15<a href="#15" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>초기화된 this를 함수 호출의 결과로 반환한다.</li><li>이 사양으로 new 키워드로 실행시 <code>return this;</code> 구문이 없는데도 인스턴스가 반환된다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="기타-특성">기타 특성<a href="#기타-특성" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>함수 객체의 prototype은 Object.prototype에 대한 delegation link와 constructor 속성을 가진 객체의 참조를 가진다.</li><li>constructor 속성은 함수 객체에 대한 역참조를 가지고 있다. (재귀적)</li><li>함수는 Function.prototype 에 대한 델리게이션 링크를 가지고 있어 apply와 call을 상속받는다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="__proto__-와-prototype-의-차이">_<!-- -->_<!-- -->proto<!-- -->_<!-- -->_<!-- --> 와 prototype 의 차이<a href="#__proto__-와-prototype-의-차이" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li><code>__proto__</code> 는 내부 슬롯인 <code>[[Prototype]]</code>에 접근하는 접근자 프로퍼티다.</li><li>함수 객체만이 가지고 있는 <code>prototype</code> 프로퍼티는 생성자 함수가 생성할 인스턴스의 프로토타입을 가리킨다.<ul><li>따라서 화살표 함수나 메소드 축약 문법으로 생성한 함수는 프로토타입을 가지지 않는다.</li></ul></li></ul><h1>참조</h1><ul><li><a href="https://262.ecma-international.org/11.0/#table-6" target="_blank" rel="noopener noreferrer">6.1.7.2 Object Internal Methods and Internal Slots</a></li><li><a href="https://262.ecma-international.org/11.0/#sec-makeconstructor" target="_blank" rel="noopener noreferrer">9.2.5 MakeConstructor</a></li><li><a href="https://262.ecma-international.org/11.0/#sec-function-instances-prototype" target="_blank" rel="noopener noreferrer">19.2.4.3 prototype</a></li><li><a href="https://262.ecma-international.org/11.0/#sec-additional-properties-of-the-object.prototype-object" target="_blank" rel="noopener noreferrer">Additional Properties of the Object.prototype Object</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/javascript/">javascript</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="- this 는 함수나 스코프 기반으로 결정되는 것이 아니라 호출 방법에 따라 변경된다."><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/05/01/js-this-spec/">ecma 스펙으로 알아보는 this</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-05-01T15:04:56.000Z" itemprop="datePublished">May 1, 2021</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><ul><li>this 는 함수나 스코프 기반으로 결정되는 것이 아니라 호출 방법에 따라 변경된다.</li><li>여러 코드 예시를 가지고 이걸 설명하려고 하는 포스팅이 많은데 이것도 정작 중요한 스펙에 대한 내용이 다 빠져있다.</li><li>this 가 어떻게 동작하나요? 에 대한 대답은 하나다. <strong>ECMA OrdinaryCallBindThis 사양대로 동작합니다.</strong></li></ul><h1>OrdinaryCallBindThis</h1><ul><li><a href="https://262.ecma-international.org/#sec-ordinarycallbindthis" target="_blank" rel="noopener noreferrer">사양서</a>의 내용은 다음과 같다.</li></ul><blockquote><p>OrdinaryCallBindThis가 호출되었을 때 함수 F와 실행 컨텍스트 calleeContext 그리고 ECMAScript 값인 thisArgument 를 활용하여 다음 단계를 수행한다.</p></blockquote><ol><li>thisMode 를 <code>F.[[thisMode]]</code> 으로 설정한다.</li><li>if thisMode가 lexical 이면 undefined 를 반환한다.</li><li>calleeRealm을 <code>F.[[Realm]]</code> 으로 설정한다.</li><li>localEnv를 calleeContenxt 의 LexicalEnvironment 로 설정한다.</li><li><strong>if thisMode 가 &quot;strict&quot; 라면 thisValue 는 thisArgument 로 설정한다.</strong></li><li><strong>else</strong><ul><li><strong>a. if thisArgument 가 undefined 또는 null 이면</strong><ul><li>i. globalEnv를 <code>calleeRealm.[[GlobalEnv]]</code> 로 설정한다.</li><li>ii. globalEnvRec는 globalEnv 의 EnvironmentRecord 로 설정한다.</li><li>iii. Assert: globalEnvRec 는 global EnvironmentRecord 이다.</li><li><strong>iv. thisValue 를 <code>GlobalEnvRec.[[GlobalThisValue]]</code> 로 설정한다.</strong></li></ul></li><li>b. else<ul><li><strong>i. thisValue 를 thisArgument 를 객체로 변환 (ToObject) 하여 설정한다.</strong></li><li>ii. NOTE: ToObject는 calleeRealm을 사용하여 래퍼 객체를 생성한다.</li></ul></li></ul></li><li>envRec 를 localEnv 의 EnviromentRecord 로 설정한다.</li><li>Assert: envRec 는 function EnviromentRecord 이다.</li><li>Assert: <code>envRec.[[ThisBindingStatus]]</code>가 초기화되지 않았으므로 10번은 abrupt completion 을 반환하지 않는다.</li><li>envRec.BindThisValue(thisValue) 를 반환한다.</li></ol><ul><li>볼드체로 표시한 부분을 잘 보자.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="5">5<a href="#5" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>이 사양으로 인해 <code>use strict</code> 사용시에 동작이 변경된다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="6aiv">6.a.iv<a href="#6aiv" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>이 사양으로 인해 <code>this</code> 가 <code>window</code>로 선언된다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="6bi">6.b.i<a href="#6bi" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>이 사양으로 인해 <code>this</code>에 값을 넘길 경우 객체로 변경된다.</li></ul><h1>참조</h1><ul><li><a href="https://262.ecma-international.org/#sec-ecmascript-function-objects" target="_blank" rel="noopener noreferrer">ECMAScript Function Objects</a></li><li><a href="https://262.ecma-international.org/#sec-strict-mode-of-ecmascript" target="_blank" rel="noopener noreferrer">The Strict Mode of ECMAScript</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/javascript/">javascript</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="- 한동안 이 타이틀의 문서가 유행했다."><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/04/29/what-happens-when-type-url/">URL을 입력하면 발생하는 일</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-04-29T23:02:15.000Z" itemprop="datePublished">April 29, 2021</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><ul><li>한동안 이 타이틀의 문서가 유행했다.</li><li>프론트엔드를 알고있는지에 대해 지표로 확인되는 것 같고, 네트워크와 브라우저의 렌더링 기법까지 알아야하기 때문에 확산되는 듯한데 정작 가장 중요한 캐시레이어에 대한 정보가 없었다.</li></ul><h1>플로우</h1><ul><li>모바일 크롬에서 URL을 입력했다고 가정하자.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="예외단계">예외단계<a href="#예외단계" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_GW2n" id="wifi">Wifi<a href="#wifi" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>AP 와 802.11 프로토콜로 연결을 마치면 DHCP 프로토콜을 통해 IP를 할당받는다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="모바일-네트워크">모바일 네트워크<a href="#모바일-네트워크" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>핸드폰이 RRC 유휴상태에 있으므로 폰의 무선 전파가 근처의 중계탑과 동기화를 마친 다음 요청을 보내 무선 전파 컨텍스트를 성립시킨다.</li><li>핸드폰이 중계탑에서 리소스를 할당받고 정해진 데이터율과 전력으로 데이터를 전송할 준비를 마친다.</li><li>요청시 패킷<ul><li>코어 네트워크 -&gt; 서빙게이트웨이 -&gt; 패킷게이트웨이 -&gt; 외부 네트워크로 연동된다.</li></ul></li><li>응답시 패킷<ul><li>외부 네트워크 -&gt; 패킷게이트웨이 -&gt; 서빙게이트웨이 -&gt; 이동성관리엔티티 (MME) -&gt; 핸드폰이 유휴상태일 경우 중계탑에 브로드캐스팅 -&gt; 무선 전파 컨텍스트 재수립 -&gt; 사용자 위치를 서빙게이트웨이로 전송 -&gt; 중게탑과 서빙게이트웨이 간에 터널링 -&gt; 핸드폰으로 응답 전송</li></ul></li><li>IP 는 패킷게이트웨이에서 관리한다.</li><li>RRC 협상 -&gt; DNS 룩업 -&gt; TCP 핸드쉐이크 -&gt; TLS 핸드쉐이크 -&gt; HTTP 요청 순이다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="오프라인">오프라인<a href="#오프라인" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>캐시스토리지 내에 캐싱된 페이지 또는 Fallback이 있는지 확인하고 반환한다.</li><li>메모리 캐시에 있는지 확인한다.</li><li>ETag, Must-Revalidate 캐시 컨트롤 헤더를 가지고 있지 않다면 HTTP 브라우저 캐시에 있는지 확인하고 반환한다.</li></ul><h3 class="anchor anchorWithStickyNavbar_GW2n" id="크로미움">크로미움<a href="#크로미움" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>크로미움 기반 브라우저는 NXDomain 하이재킹을 방지하기 위해 굉장히 재미있는 일을 한다.</li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/chrome/browser/intranet_redirect_detector.cc#154" target="_blank" rel="noopener noreferrer">이 코드</a>는 fake 도메인으로 질의를 3회 진행하는 코드이다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="캐싱">캐싱<a href="#캐싱" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>메모리 캐시에 있는지 확인하고 반환한다.</li><li>캐시스토리지에 있는지 확인하고 반환한다.</li><li>HTTP 브라우저 캐시에 있는지 확인하고 검증 단계를 거치고 반환한다.</li><li>HTTP/2 푸쉬 캐시에 있는지 확인하고 반환한다</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="요청">요청<a href="#요청" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>쿠키가 있으면 요청과 함께 전송할지 결정한다.</li><li>요청에 재사용 가능한 커넥션이 있는지 확인한다.</li><li>새 커넥션을 열 수 있는지 확인한다. (HTTP/1.1 의 도메인별 커넥션 상한에 제한되는지 확인)</li><li>서버의 IP를 알고 있는지 확인한다.<ul><li>모르는 경우 브라우저 내부 캐시 -&gt; OS 캐시 -&gt; OS 호스트파일을 확인하여 없는 경우 DNS 질의를 시작한다.</li><li>DNS 질의는 네트워크 설정에서 설정된 IP 또는 DHCP 로 지정된 IP 를 확인한다.</li><li>ARP 캐싱이 없는 경우 ARP 요청 프레임을 브로드캐스팅하고 자신의 IP 주소가 요청 프레임과 일치하는 단 하나의 기기는 ARP 응답을 보내면서 캐싱한다.</li><li>IP 데이터그램을 캡슐화하여 네임서버에 질의를 한다.</li><li>DNS 질의는 기본 UDP, 512Bytes 이상일 경우 TCP 를 이용하며 <a href="https://tools.ietf.org/html/rfc7766" target="_blank" rel="noopener noreferrer">rfc7766</a> 에 정의되어있다.</li><li>네임서버 -&gt; DNS 리커서 (리졸버) 서버 -&gt; 루트 네임서버 -&gt; 최상위 도메인(TLD) 을 통해 IP 로 반환된다.</li></ul></li><li>IP 주소를 알았으므로 ARP 로 주소를 확인한다.</li><li>스위치 -&gt; 라우터 -&gt; 방화벽을 거친다.</li><li>소켓을 열고 핸드쉐이크를 시작한다. (1RTT)</li><li>대부분의 사이트가 HTTPS 로 서빙되므로 첫 연결에서는 TLS 핸드쉐이크를 시작한다. (1~2RTT)<ul><li>TLS 버전, 알고리즘, 압축 방식 협상</li><li>공개 인증서 반환</li><li>암호화</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="응답">응답<a href="#응답" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>요청된 주소가 엣지서버이면 캐시 만료여부를 확인한 뒤 응답을 반환한다.</li><li>요청된 주소에 대해 서버가 응답한다.</li><li>응답 스트림의 처음 몇 바이트를 확인하여 악성페이지일 경우 경고 페이지를 표시하고 종료한다.</li><li>렌더러 프로세스가 다룰 수 있는 응답일 경우 렌더링을 시작한다.</li></ul><h2 class="anchor anchorWithStickyNavbar_GW2n" id="렌더링">렌더링<a href="#렌더링" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>HTML, CSS를 파싱한다.<ul><li>하위 리소스를 로드한다.</li><li>파싱 중 script 태그를 만날 경우 로드하고, 파싱하고, 실행하여 HTML 파싱을 일시적으로 차단한다.</li></ul></li><li>defer JS를 파싱한다.</li><li>렌더 트리를 생성한다.</li><li>레이아웃을 계산한다.</li><li>레이아웃 트리를 순회하며 페인트 레코드 (순서)를 생성한다.</li><li>컴포지터 스레드에서 각 레이어를 레스터라이즈한다.</li><li>픽셀을 렌더링한다.</li></ul><h1>참조</h1><ul><li><a href="https://developers.google.com/web/updates/2018/09/inside-browser-part2" target="_blank" rel="noopener noreferrer">Google - 모던 웹 브라우저 들여다보기 (파트 2)</a></li><li><a href="https://developers.google.com/web/updates/2018/09/inside-browser-part3" target="_blank" rel="noopener noreferrer">Google - 모던 웹 브라우저 들여다보기 (파트 3)</a></li><li><a href="https://mathiasbynens.be/notes/shapes-ics" target="_blank" rel="noopener noreferrer">JavaScript engine fundamentals: Shapes and Inline Caches</a></li><li>High Performance Browser Networking</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/javascript/">javascript</a></li><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/chrome/">chrome</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="- 시간될 때 구현해보자."><header><h2 class="title_HZ_c" itemprop="headline"><a itemprop="url" href="/en/2021/03/23/이미지-리사이즈/">이미지 리사이즈</a></h2><div class="container_ld1H margin-vert--md"><time datetime="2021-03-23T21:02:31.000Z" itemprop="datePublished">March 23, 2021</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Olt7"><div class="avatar margin-bottom--sm"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt="Gracefullight" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/gracefullight" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gracefullight</span></a></div><small class="avatar__subtitle" itemprop="description">Owner</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="language-html codeBlockContainer_U0qT theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_veyH"><pre tabindex="0" class="prism-code language-html codeBlock_AD7A thin-scrollbar"><code class="codeBlockLines_jKkX"><span class="token-line" style="color:#9CDCFE"><span class="token doctype punctuation" style="color:rgb(212, 212, 212)">&lt;!</span><span class="token doctype doctype-tag">DOCTYPE</span><span class="token doctype"> </span><span class="token doctype name">html</span><span class="token doctype punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">html</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">ko</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">head</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">meta</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">UTF-8</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">meta</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">http-equiv</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">X-UA-Compatible</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">content</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">IE=edge</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">meta</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">viewport</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">content</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">width=device-width, initial-scale=1.0</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">title</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain">Answer</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">title</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">style</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">      </span><span class="token style language-css selector class" style="color:rgb(215, 186, 125)">.resizable</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">resize</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> both</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">border</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(181, 206, 168)">2</span><span class="token style language-css unit">px</span><span class="token style language-css"> solid </span><span class="token style language-css color">blue</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">overflow</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> hidden</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">position</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> relative</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">      </span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">      </span><span class="token style language-css selector class" style="color:rgb(215, 186, 125)">.resizable</span><span class="token style language-css selector pseudo-element" style="color:rgb(215, 186, 125)">::after</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">position</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> absolute</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">display</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> block</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">bottom</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(181, 206, 168)">0</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">right</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(181, 206, 168)">0</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">width</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(181, 206, 168)">10</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">height</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:rgb(181, 206, 168)">10</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">background-color</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> </span><span class="token style language-css color">blue</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">content</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> </span><span class="token style language-css string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">        </span><span class="token style language-css property">cursor</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token style language-css"> nwse-resize</span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">      </span><span class="token style language-css punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token style language-css">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">style</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">head</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">body</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">h1</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain">Answer</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">h1</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">form</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">image</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">input</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">text</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">src</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">./example.jpg</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">button</span><span class="token tag" style="color:rgb(78, 201, 176)"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">submit</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain">불러오기</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">button</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">form</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:rgb(78, 201, 176)">script</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:rgb(100, 102, 149)">MAX_WIDTH</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:rgb(181, 206, 168)">800</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:rgb(100, 102, 149)">MIN_WIDTH</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:rgb(181, 206, 168)">300</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:rgb(220, 220, 170)">generateRandomId</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:rgb(220, 220, 170)">btoa</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">random</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">substr</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript number" style="color:rgb(181, 206, 168)">0</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:rgb(181, 206, 168)">12</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> observer </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name" style="color:rgb(78, 201, 176)">MutationObserver</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript parameter">mutations</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        mutations</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">forEach</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript parameter">mutation</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> wrap </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> mutation</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">target</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          </span><span class="token script language-javascript keyword control-flow" style="color:rgb(86, 156, 214)">switch</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">mutation</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">attributeName</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">            </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">case</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(206, 145, 120)">&quot;style&quot;</span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">              </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">let</span><span class="token script language-javascript"> nextWidth </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:rgb(220, 220, 170)">parseInt</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">style</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">width</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">              </span><span class="token script language-javascript keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">nextWidth </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:rgb(100, 102, 149)">MAX_WIDTH</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">                nextWidth </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:rgb(100, 102, 149)">MAX_WIDTH</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">              </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:rgb(86, 156, 214)">else</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">nextWidth </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:rgb(100, 102, 149)">MIN_WIDTH</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">                nextWidth </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:rgb(100, 102, 149)">MIN_WIDTH</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">              </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">              wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">style</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">width</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token script language-javascript template-string interpolation">nextWidth</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript template-string string" style="color:rgb(206, 145, 120)">px</span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">              wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">style</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">height</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token script language-javascript template-string interpolation">nextWidth </span><span class="token script language-javascript template-string interpolation operator" style="color:rgb(212, 212, 212)">/</span><span class="token script language-javascript template-string interpolation"> wrap</span><span class="token script language-javascript template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript template-string interpolation property-access">dataset</span><span class="token script language-javascript template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript template-string interpolation property-access">ratio</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript template-string string" style="color:rgb(206, 145, 120)">px</span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:rgb(220, 220, 170)">loadImage</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript parameter">src</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> id </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:rgb(220, 220, 170)">generateRandomId</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> img </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name" style="color:rgb(78, 201, 176)">Image</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        img</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">src</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token script language-javascript template-string interpolation">src</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript template-string string" style="color:rgb(206, 145, 120)">?v=</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token script language-javascript template-string interpolation">id</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        img</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">id</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> id</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        img</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method-variable function-variable method function property-access" style="color:rgb(220, 220, 170)">onload</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript parameter">event</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> _img </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(156, 220, 254)">document</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">getElementById</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">id</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> _wrap </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> _img</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">parentElement</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"> width</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token script language-javascript"> height </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> _img</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">getBoundingClientRect</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          _wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">style</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">width</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token script language-javascript template-string interpolation">width</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript template-string string" style="color:rgb(206, 145, 120)">px</span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          _wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">style</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">height</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token script language-javascript template-string interpolation">height</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript template-string string" style="color:rgb(206, 145, 120)">px</span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          _wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">dataset</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">ratio</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript known-class-name class-name" style="color:rgb(78, 201, 176)">String</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">width </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">/</span><span class="token script language-javascript"> height</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">toFixed</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript number" style="color:rgb(181, 206, 168)">2</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          _img</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">style</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">width</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(206, 145, 120)">&quot;100%&quot;</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          _img</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">style</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">height</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(206, 145, 120)">&quot;100%&quot;</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> wrap </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(156, 220, 254)">document</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">createElement</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript string" style="color:rgb(206, 145, 120)">&quot;div&quot;</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">classList</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">add</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript string" style="color:rgb(206, 145, 120)">&quot;resizable&quot;</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">appendChild</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">img</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript dom variable" style="color:rgb(156, 220, 254)">document</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">body</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">appendChild</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        observer</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">observe</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">wrap</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          </span><span class="token script language-javascript literal-property property">attributes</span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean">true</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript dom variable" style="color:rgb(156, 220, 254)">document</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">forms</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">image</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">addEventListener</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript string" style="color:rgb(206, 145, 120)">&quot;submit&quot;</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript parameter">event</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        event</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(220, 220, 170)">preventDefault</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:rgb(86, 156, 214)">const</span><span class="token script language-javascript"> src </span><span class="token script language-javascript operator" style="color:rgb(212, 212, 212)">=</span><span class="token script language-javascript"> event</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">target</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">src</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">src</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">          </span><span class="token script language-javascript function" style="color:rgb(220, 220, 170)">loadImage</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token script language-javascript">src</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token script language-javascript punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token script language-javascript">    </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">script</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">body</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:rgb(78, 201, 176)">html</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><br></span></code></pre><div class="buttonGroup_NS2P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Xlxc" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_a9jc"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_i0kT"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>js:resize</h1><ul><li>시간될 때 구현해보자.</li><li>handler 를 만들고, nw, ne, sw, se 방향에 childNode를 각각 만들고 after content 로 영역을 생성해야한다.</li></ul><h1>여담</h1><ul><li>컴포넌트의 기본 단위라고 생각되는 것들에 대해 vanila 로 스니펫을 많이 만들어봐야될 것 같다.</li><li><a href="https://github.com/daybrush/moveable/blob/master/packages/react-moveable/src/react-moveable/ables/Resizable.ts" target="_blank" rel="noopener noreferrer">react-movable</a> React 와 여러 Util Class 를 사용하여 Commits on Aug 12, 2019 부터 만든 것 같은데, 90m 안에 가능했던걸까.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_u9tD padding--none margin-left--sm"><li class="tag_z0Xo"><a class="tag_BG32 tagRegular_JAsR" href="/en/tags/javascript/">javascript</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/page/2/"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/page/4/"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Support Me</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.buymeacoffee.com/LOUB2kN" target="_blank" rel="noopener noreferrer" style="cursor: pointer;">
                <img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" style="height: auto !important;width: auto !important;">
              </a></li></ul></div><div class="col footer__col"><div class="footer__title">Feeds</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gracefullight.dev/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">RSS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_aDWD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gracefullight.dev/atom.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">Atom<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_aDWD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2016 - 2023 Gracefullight. Built with Docusaurus.</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.4536a7eb.js"></script>
<script src="/en/assets/js/main.c640b60b.js"></script>
</body>
</html>