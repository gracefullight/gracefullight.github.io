<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>Blog | gracefullight.dev</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://gracefullight.dev/en/page/61/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true property=og:locale:alternate content=ko /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true content=gcY9SiftHgQoJjBZ7IgwNNN5_atLPAX6kWb1nFVfa6E name=google-site-verification /><meta data-rh=true content=65AD1E28C0D057CEB3C68FBC0293E55B name=msvalidate.01 /><meta data-rh=true content=d024c2837887f72dc7b3792b958be74d69ba9593 name=naver-site-verification /><meta data-rh=true content=f7c93483a6f87c79 name=yandex-verification /><meta data-rh=true content=yZEdU1ABcR name=baidu-site-verification /><meta data-rh=true content=uelupjqqsm5egzlhy1aev2rfxow5yt name=facebook-domain-verification /><meta data-rh=true property=og:title content="Blog | gracefullight.dev"/><meta data-rh=true name=description content=Blog /><meta data-rh=true property=og:description content=Blog /><meta data-rh=true name=docusaurus_tag content=blog_posts_list /><meta data-rh=true name=docsearch:docusaurus_tag content=blog_posts_list /><link data-rh=true rel=icon href=/en/img/favicon.ico /><link data-rh=true rel=canonical href=https://gracefullight.dev/en/page/61/ /><link data-rh=true rel=alternate href=https://gracefullight.dev/page/61/ hreflang=ko /><link data-rh=true rel=alternate href=https://gracefullight.dev/en/page/61/ hreflang=en /><link data-rh=true rel=alternate href=https://gracefullight.dev/page/61/ hreflang=x-default /><link data-rh=true rel=preconnect href=https://RFS69RSYOJ-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://gracefullight.dev/en/page/61","@type":"Blog","blogPost":[{"@id":"https://gracefullight.dev/en/2019/05/12/nodejs-triple-des-encryption","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-05-12T20:29:20.000Z","description":"triple des 알고리즘으로 암호화하는 일은 요새는 드문데, 드물어서 그런지 구글링해도 아무 것도 나오지 않았다.","headline":"nodejs triple des 암호화","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/05/12/nodejs-triple-des-encryption","name":"nodejs triple des 암호화","url":"https://gracefullight.dev/en/2019/05/12/nodejs-triple-des-encryption"},{"@id":"https://gracefullight.dev/en/2019/05/07/connecting-a-DEV-domain-to-github-pages","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-05-07T00:10:55.000Z","description":"도메인 구입","headline":"DEV 도메인과 Github Pages 연결하기","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/05/07/connecting-a-DEV-domain-to-github-pages","name":"DEV 도메인과 Github Pages 연결하기","url":"https://gracefullight.dev/en/2019/05/07/connecting-a-DEV-domain-to-github-pages"},{"@id":"https://gracefullight.dev/en/2019/04/30/RxJS의-모든-것","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-04-30T14:12:58.000Z","description":"RxJS","headline":"RxJS의 모든 것","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/04/30/RxJS의-모든-것","name":"RxJS의 모든 것","url":"https://gracefullight.dev/en/2019/04/30/RxJS의-모든-것"},{"@id":"https://gracefullight.dev/en/2019/04/28/Ansible-정리","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-04-28T23:32:15.000Z","description":"앤서블","headline":"Ansible 정리","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/04/28/Ansible-정리","name":"Ansible 정리","url":"https://gracefullight.dev/en/2019/04/28/Ansible-정리"},{"@id":"https://gracefullight.dev/en/2019/04/26/Mac에서-포트-접근-확인하기","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-04-26T12:37:42.000Z","description":"윈도우의 경우에는 telnet-client 를 켜주면 되고, 맥에서도 brew 로 설치하면 되지만 더 좋은 내장 툴이 있다.","headline":"Mac 에서 포트 접근 확인하기","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/04/26/Mac에서-포트-접근-확인하기","name":"Mac 에서 포트 접근 확인하기","url":"https://gracefullight.dev/en/2019/04/26/Mac에서-포트-접근-확인하기"},{"@id":"https://gracefullight.dev/en/2019/04/24/jQuery-Prototype-Pollution-Vulnerability","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-04-24T22:25:45.000Z","description":"프로토타입 오염","headline":"jQuery 프로토타입 오염 취약점 (CVE-2019-11358)","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/04/24/jQuery-Prototype-Pollution-Vulnerability","name":"jQuery 프로토타입 오염 취약점 (CVE-2019-11358)","url":"https://gracefullight.dev/en/2019/04/24/jQuery-Prototype-Pollution-Vulnerability"},{"@id":"https://gracefullight.dev/en/2019/04/18/NARS-직구하기","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-04-18T21:25:48.000Z","description":"NARS Cosmetics","headline":"NARS 직구하기","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/04/18/NARS-직구하기","name":"NARS 직구하기","url":"https://gracefullight.dev/en/2019/04/18/NARS-직구하기"},{"@id":"https://gracefullight.dev/en/2019/04/17/Install-Pi-Hole-on-Raspberry-Pi-3-b","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-04-17T23:07:03.000Z","description":"앞서","headline":"Pi-hole과 라즈베리파이로 모든 광고 차단하기","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/04/17/Install-Pi-Hole-on-Raspberry-Pi-3-b","name":"Pi-hole과 라즈베리파이로 모든 광고 차단하기","url":"https://gracefullight.dev/en/2019/04/17/Install-Pi-Hole-on-Raspberry-Pi-3-b"},{"@id":"https://gracefullight.dev/en/2019/04/12/RecursiveDirectoryIterator-사용하기","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-04-12T19:42:34.000Z","description":"앞서","headline":"RecursiveDirectoryIterator 사용하기","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/04/12/RecursiveDirectoryIterator-사용하기","name":"RecursiveDirectoryIterator 사용하기","url":"https://gracefullight.dev/en/2019/04/12/RecursiveDirectoryIterator-사용하기"},{"@id":"https://gracefullight.dev/en/2019/04/12/Mac에서-Kubernetes-is-starting이-지속되는-현상","@type":"BlogPosting","author":{"@type":"Person","description":"Owner","image":"https://avatars.githubusercontent.com/u/11773683?v=4","name":"Gracefullight","url":"https://github.com/gracefullight"},"datePublished":"2019-04-12T19:30:42.000Z","description":"원인","headline":"Mac에서 Kubernetes is starting이 지속되는 현상","keywords":[],"mainEntityOfPage":"https://gracefullight.dev/en/2019/04/12/Mac에서-Kubernetes-is-starting이-지속되는-현상","name":"Mac에서 Kubernetes is starting이 지속되는 현상","url":"https://gracefullight.dev/en/2019/04/12/Mac에서-Kubernetes-is-starting이-지속되는-현상"}],"description":"Blog","headline":"Blog","mainEntityOfPage":"https://gracefullight.dev/en/page/61"}</script><link rel=alternate type=application/rss+xml href=/en/rss.xml title="gracefullight.dev RSS Feed"><link rel=alternate type=application/atom+xml href=/en/atom.xml title="gracefullight.dev Atom Feed"><link rel=alternate type=application/json href=/en/feed.json title="gracefullight.dev JSON Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-E99DNE7S05"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E99DNE7S05",{})</script><link rel=search type=application/opensearchdescription+xml title=gracefullight.dev href=/en/opensearch.xml><link href=/en/img/favicon-32x32.png rel=icon><link href=/en/manifest.json rel=manifest><meta content=#f28913 name=theme-color><meta content=yes name=mobile-web-app-capable><meta content=#f28913 name=apple-mobile-web-app-status-bar-style><link href=/en/img/apple-touch-icon.png rel=apple-touch-icon><link rel=preconnect href=https://pagead2.googlesyndication.com><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3004788392777865" async crossorigin=anonymous></script><link rel=preconnect href=https://www.clarity.ms><script>!function(t,e,n,a,c,i,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(i=e.createElement(a)).async=1,i.src="https://www.clarity.ms/tag/"+c,(r=e.getElementsByTagName(a)[0]).parentNode.insertBefore(i,r)}(window,document,"clarity","script","aongv9xgi6")</script><link rel=preconnect href=https://wcs.naver.net><script src=https://wcs.naver.net/wcslog.js async></script><script>if(!wcs_add)var wcs_add={};wcs_add.wa="156bc73a81e3bd0",window.wcs&&wcs_do()</script><link rel=preconnect href=https://cdn.channel.io><script>!function(){var n=window;if(n.ChannelIO)return(window.console.error||window.console.log||function(){})("ChannelIO script included twice.");var e=function(){e.c(arguments)};function t(){if(!n.ChannelIOInitialized){n.ChannelIOInitialized=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.channel.io/plugin/ch-plugin-web.js",e.charset="UTF-8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}e.q=[],e.c=function(n){e.q.push(n)},n.ChannelIO=e,"complete"===document.readyState?t():window.attachEvent?window.attachEvent("onload",t):(window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1))}(),ChannelIO("boot",{pluginKey:"0fd130ba-a1a6-4b7e-802a-e82a885a7fd8"})</script><link rel=preconnect href=https://static.cloudflareinsights.com><script src=https://static.cloudflareinsights.com/beacon.min.js defer data-cf-beacon='{"token":"c0899829e72b45e98dff77241127252c"}'></script><link href=https://mc.yandex.ru rel=preconnect><script>!function(e,t,c,n,r,a,s){e[r]=e[r]||function(){(e[r].a=e[r].a||[]).push(arguments)},e[r].l=+new Date;for(var i=0;i<document.scripts.length;i++)if(document.scripts[i].src===n)return;a=t.createElement(c),s=t.getElementsByTagName(c)[0],a.async=1,a.src=n,s.parentNode.insertBefore(a,s)}(window,document,"script","https://mc.yandex.ru/metrika/tag.js?id=104072655","ym"),ym(0x63405cf,"init",{ssr:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1})</script><link href=https://cdn.jsdelivr.net rel=preconnect><script type=application/ld+json>{"@context":"http://schema.org","@type":"Person","email":"mailto:gracefullight.dev@gmail.com","image":"https://avatars.githubusercontent.com/u/11773683?v=4","jobTitle":"FullStack JavaScript Developer","logo":"https://gracefullight.dev/img/apple-touch-icon.png","name":"Eunkwang Shin","nationality":"Korean","sameAs":["https://github.com/gracefullight","https://linkedin.com/in/gracefullight"],"url":"https://gracefullight.dev"}</script><link rel=stylesheet crossorigin=anonymous href=https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css type=text/css><link rel=stylesheet href=/en/assets/css/styles.41650a32.css /><script src=/en/assets/js/runtime~main.5f70e0d0.js defer></script><script src=/en/assets/js/main.59b6dddb.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/en/img/favicon-32x32.png /><link rel=preload as=image href="https://avatars.githubusercontent.com/u/11773683?v=4"/><div role=region aria-label="Skip to main content"><a class=skipToContent_OqUV href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/favicon-32x32.png alt="gracefullight.dev blog logo" class="themedComponent_leTS themedComponent--light_FZCI"/><img src=/en/img/favicon-32x32.png alt="gracefullight.dev blog logo" class="themedComponent_leTS themedComponent--dark_BlTQ"/></div><b class="navbar__title text--truncate">gracefullight.dev</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_PGu2><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/page/61/ target=_self rel="noopener noreferrer" class=dropdown__link lang=ko>한국어</a><li><a href=/en/page/61/ target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a></ul></div><a class="navbar__item navbar__link" href=/en/archive/>Archives</a><a class="navbar__item navbar__link" href=/en/tags/>Tags</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_ahFW colorModeToggle_FNLe"><button class="clean-btn toggleButton_lGUf toggleButtonDisabled_s8P8" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe lightToggleIcon_rxM3"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe darkToggleIcon_QmJt"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe systemToggleIcon_M5r8"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_H3dU><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_drMG"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_iDDe thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_wrtL margin-bottom--md">Recent posts</div><div role=group><h3 class=yearGroupHeading_Hgwk>2025</h3><ul class="sidebarItemList_ioQQ clean-list"><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/10/13/fundamentals-of-software-development-009/>FSD +009</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/10/12/introduction-to-ai-010/>IAI +010</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/vocab/vocab-ai-011/>Vocabulary for AI 011</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/10/09/introduction-to-ai-009/>IAI +010</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/10/08/fundamentals-of-data-analytics-010/>FDA +010</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/vocab/vocab-ai-010/>Vocabulary for AI 010</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/vocab/vocab-ai-009/>Vocabulary for AI 009</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/22/introduction-to-ai-008/>IAI +008</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/21/fundamentals-of-data-analytics-009/>FDA +009</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/17/fundamentals-of-data-analytics-008/>FDA +008</a></ul></div></nav></aside><main class="col col--7"><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/05/12/nodejs-triple-des-encryption/>nodejs triple des 암호화</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-05-12T20:29:20.000Z>May 12, 2019</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><p>triple des 알고리즘으로 암호화하는 일은 요새는 드문데, 드물어서 그런지 구글링해도 아무 것도 나오지 않았다.</p>
<p>레거시 언어들에는 <strong>3des</strong> 암호화된 로직이 많은데, 포팅하면서 개발해야될 필요성이 생겼다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=암호화>암호화<a href=#암호화 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>nodejs 의 암호화 패키지는 crypto 안에 들어있다.</li>
<li><code>crypto.getCiphers();</code> 메소드로 사용할 수 있는 알고리즘을 확인할 수 있다.<!-- -->
<ul>
<li><code>ciphers.filter(cipher => cipher.includes('des'));</code></li>
</ul>
</li>
<li>3des 알고리즘은 <code>des-ede3</code> 로 시작한다.</li>
<li>키는 24bytes 이며, iv 는 8bytes 다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=소스>소스<a href=#소스 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports">crypto</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"node:crypto"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">TripleDes</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// #iv;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// #key;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>constructor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">key</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> iv</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">key</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> key</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">iv</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> iv</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>getKey</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">key</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>padEnd</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>24</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token known-class-name class-name">String</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>fromCharCode</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>getIv</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">iv</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>encrypt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">plain</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> iv</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>!</span><span class="token plain">iv</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      iv </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">iv</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>?</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token keyword module" style=color:#00009f>from</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">iv</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"hex"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> crypto</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>randomBytes</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>8</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> cipher3des </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> crypto</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>createCipheriv</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token string" style=color:#e3116c>"des-ede3-cfb8"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>getKey</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      iv</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>let</span><span class="token plain"> encrypted </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> cipher3des</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>update</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">plain</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"utf8"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"hex"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    encrypted </span><span class="token operator" style=color:#393A34>+=</span><span class="token plain"> cipher3des</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>final</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"hex"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">iv</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> iv</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>toString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"hex"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> encrypted</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>decrypt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">encrypted</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> iv</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>!</span><span class="token plain">iv</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      iv </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">iv</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> decipher3des </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> crypto</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>createDecipheriv</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token string" style=color:#e3116c>"des-ede3-cfb8"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>getKey</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token keyword module" style=color:#00009f>from</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">iv</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"hex"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>let</span><span class="token plain"> decrypted </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> decipher3des</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>update</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">encrypted</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"hex"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"utf8"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    decrypted </span><span class="token operator" style=color:#393A34>+=</span><span class="token plain"> decipher3des</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>final</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"utf8"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> decrypted</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">module</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token maybe-class-name">TripleDes</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p>위의 <code>encrypt</code> 메소드는 아래처럼 버퍼를 합친 후에 헥스로 바꾸는 것과 동일하다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>let</span><span class="token plain"> encrypted </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>concat</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  cipher3des</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>update</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">plain</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"utf8"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  cipher3des</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>final</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"utf8"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">encrypted </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> encrypted</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>toString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"hex"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=사용법>사용법<a href=#사용법 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token maybe-class-name">TripleDes</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>require</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"./TripleDes"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> tripleDes </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">TripleDes</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"encryptionKey"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 암호화</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> encrypted </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> tripleDes</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>encrypt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"yummy"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 복호화</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> decrypted </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> tripleDes</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>decrypt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">encrypted</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=참조>참조<a href=#참조 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li><a href=https://nodejs.org/api/crypto.html target=_blank rel="noopener noreferrer">nodejs.crypto</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/nodejs/>nodejs</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/crypto/>crypto</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/05/07/connecting-a-DEV-domain-to-github-pages/>DEV 도메인과 Github Pages 연결하기</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-05-07T00:10:55.000Z>May 7, 2019</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=도메인-구입>도메인 구입<a href=#도메인-구입 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><a href=https://domains.google.com/m/registrar/search target=_blank rel="noopener noreferrer">Google Domains</a> 에서 구입한다.</p>
<ul>
<li>미국 주소가 있어야된다는 말이 나오는데, 무시하고 구매하기를 하자.</li>
<li>도메인 기관에서 연락이 갈 수 있다는 내용에 주소를 대한민국으로 변경 후 입력해주고</li>
<li>결제지 우편번호는 대충 쓰고 미국으로 하고 넘어가면 쉽게 구매할 수 있다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=dns-설정>DNS 설정<a href=#dns-설정 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><strong>DNS > 맞춤 리소스 레코드</strong> 탭에서 Github Domain IP 를 A 레코드로 추가한다.</p>
<ul>
<li>185.199.108.153</li>
<li>185.199.109.153</li>
<li>185.199.110.153</li>
<li>185.199.111.153</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=http-예외>http 예외<a href=#http-예외 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>http 로 서빙하는 경우가 있다면 <code>www.gracefullight.dev</code> 도 사용할 수 있게 CNAME 을 등록하자.</p>
<div class="language-txt codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-txt codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">www CNAME 1h gracefullight.github.io.</span><br/></span></code></pre></div></div>
<p>물론 HSTS 를 적용하는 경우 필요없다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=cname-파일-추가>CNAME 파일 추가<a href=#cname-파일-추가 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>public 경로 아래 CNAME 파일을 생성 후 도메인을 적는다.</p>
<div class="language-txt codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>CNAME</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-txt codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">gracefullight.dev</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=github-pages-설정>github pages 설정<a href=#github-pages-설정 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>github.com/gracefullight/gracefullight.github.io/settings 의 <strong>GitHub Pages</strong> 탭으로 이동해
<strong>Custom domain</strong> 에 설정할 도메인을 넣고, <strong>Enforce HTTPS</strong> 를 체크한다.</p>
<p>아래 문구가 보이면 성공한 것이다.</p>
<blockquote>
<p>Your site is published at <code>https://gracefullight.dev</code></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=웹마스터-설정>웹마스터 설정<a href=#웹마스터-설정 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=google>Google<a href=#google class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>구글 검색에서 도메인 변경을 다시 인덱싱해주기 위해 마이그레이션이 필요하다.
새로운 사이트를 등록해 준 뒤 이전 버전의 서치콘솔에서 기존 사이트의 설정버튼을 누르면 바로 설정이 가능하다.</p>
<p><img decoding=async loading=lazy src=https://i.imgur.com/ao5p5uZ.png alt="주소 변경" class=img_tzfx /></p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=기타>기타<a href=#기타 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>네이버와 빙은 같은 site verification 코드가 나와서 사이트만 추가해주면 되는데,
얀덱스의 경우는 코드를 변경하고 빌드해줘야한다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>CNAME 변경하면 Github setting의 Custom domain이 빠지기 때문에 다시 등록해줘야하는 번거로움이 있다.</li>
<li>애널리틱스는 도메인만 바꿔주면 바로 연동된다.</li>
<li>애드센스가 도메인 승인이 2주가 걸려서 그전까진 애드-프리 사이트가 될 듯하다.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/github/>github</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/dns/>dns</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/04/30/RxJS의-모든-것/>RxJS의 모든 것</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-04-30T14:12:58.000Z>April 30, 2019</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=rxjs>RxJS<a href=#rxjs class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>리액티브 프로그래밍은 개인적으로 비동기 프로그래밍과 함수형 프로그래밍의 종착지라고 생각한다.
<a href=https://github.com/tc39/proposal-observable target=_blank rel="noopener noreferrer">Stage1 Draft</a>로 제안되어 더 이상 피할 수 없는 <strong>Observable</strong> 을 알아보자.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=정의>정의<a href=#정의 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p><a href=https://en.wikipedia.org/wiki/Reactive_programming target=_blank rel="noopener noreferrer">위키피디아</a>에선 다음과 같이 정의되어있다.</p>
<blockquote>
<p>reactive programming is a declarative programming paradigm concerned with data streams and the propagation of change.
데이터 스트림과 변화의 전파에 중점을 둔 프로그래밍 패러다임</p>
</blockquote>
<p>2011년 태초에 RX 의 개념을 만든 MS 문서에서는 <a href="https://docs.microsoft.com/en-us/previous-versions/dotnet/reactive-extensions/hh242985(v=vs.103)" target=_blank rel="noopener noreferrer"><strong>Reactive eXtensions</strong></a> 다음과 같다.</p>
<blockquote>
<p>Reactive Extensions (Rx) is a library for composing asynchronous and event-based programs using observable sequences and LINQ-style query operators.
옵져버블 시퀀스와 링큐 쿼리 연산자를 사용하는 비동기, 이벤트 기반 프로그래밍 라이브러리</p>
</blockquote>
<p>조금 더 디테일하게 말하면 데이터스트림을 Pulling 방식의 이터레이터 패턴인 <code>IEnumerable&lt;T>/IEnumerator&lt;T></code> 로 만들어 Pushing 방식의 옵저버 패턴인 <code>IObservable&lt;T>/IObserver&lt;T></code>로 전파/구독하는 것이다.</p>
<p>Rx를 모두 이해한 뒤 이 정의를 보면 어쩜 이렇게 깔끔하게 한 줄로 이 내용을 다 담았을까? 란 생각이 드는데, 처음보는 입장에선 <em>비동기인 건 알겠네</em> 정도로만 이해가 되는 듯하다.
어려운 게 당연하다. 멀티쓰레드 프로그래밍을 처음 배울 때의 감정을 생각해보자.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=용어>용어<a href=#용어 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>비동기 프로그래밍: 이 문서를 볼 정도면 설명이 필요 없을 것 같다.</li>
<li>함수형 프로그래밍: 함수를 FirstClass 로 취급해 파라미터, 리턴, 변수에 할당 가능하며 함수 합성이 가능하고 원하는 시점에 호출이 쉽다.</li>
<li>데이터스트림: file stream, event stream, http stream 의 친구로 data 식 표현</li>
<li>이터레이터: 설명 필요 없을 듯.</li>
<li>옵져버: 디자인패턴 책의 옵져버패턴 단원 참조, 자바스크립트에선 이미 이벤트리스너가 옵져버 패턴이다.</li>
<li>옵져버블: 특정 객체를 관찰하는 옵저버에게 여러 이벤트나 값을 전파하는 역할</li>
<li>풀: 데이터를 받을지 결정</li>
<li>푸쉬: 데이터를 보낼지 결정</li>
<li>싱글: 하나의 값이나 이벤트를 다룸</li>
<li>멀티플: 여러 개의 값이나 이벤트를 다룸</li>
</ul>
<p>이 모든 용어를 하나의 표로 정리하면 다음과 같다.</p>
<table><thead><tr><th><th>싱글<th>멀티플<tbody><tr><td>풀<td>함수<td>이터레이터<tr><td>푸쉬<td>프로미스<td>옵져버블</table>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=패턴>패턴<a href=#패턴 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>옵져버블의 변수 스타일은 이름 뒤에 <code>const click$</code> 처럼 <code>$</code>을 뒤에 붙혀주는게 정형화되어있다.</li>
<li><code>subscribe</code> 는 <code>next, error, complete</code>를 파라미터로 받는다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=마블-다이어그램>마블 다이어그램<a href=#마블-다이어그램 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>마블 다이어그램은 연산자를 쉽게 이해하기 위해, 옵져버블을 테스트하기위해 도식화된 다이어그램이다.
타이밍과 값의 변화를 한 눈에 파악할 수 있다.</p>
<p><img decoding=async loading=lazy src=https://rxjs-dev.firebaseapp.com/assets/images/marble-diagrams/map.png alt=map class=img_tzfx /></p>
<ul>
<li>위에 줄은 input 이고 연산자를 만나고나면 아래 줄에서 output 이 어떻게 바뀌는지 보여진다.</li>
<li>가로 줄은 하나의 옵져버블이다.</li>
<li>줄의 | 파이프는 구독 완료를 나타낸다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=소스>소스<a href=#소스 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=생성>생성<a href=#생성 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>가장 간단한 옵져버블을 만들고 확인해보자.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>require</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"rxjs"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> test$ </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>create</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">observer</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"create"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  observer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>next</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  observer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>next</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  observer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>complete</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"done"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">test$</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">item</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">item</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">error</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"complete"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/*</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>create</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>1</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>2</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>complete</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>done</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>*/</span><br/></span></code></pre></div></div>
<p>간단하지만 이터레이터이면서 구독가능하다는 걸 확인할 수 있다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=구독해제>구독해제<a href=#구독해제 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>옵져버블의 리턴함수로 구독해제 콜백을 지원한다, 콜백이 필요하지 않다면 <code>unsubscribe()</code> 를 호출해주기만 하면 된다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> test$ </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>create</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">observer</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> interval </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>setInterval</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"test"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1000</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>clearInterval</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">interval</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> subscription </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> test$</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">subscription</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>unsubscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=파이퍼블-연산자>파이퍼블 연산자<a href=#파이퍼블-연산자 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>Pipeable 연산자는 옵져버블 인스턴스를 pipe 함수 안에서 다룰 수 있는 연산자이다.
기본적으로 <strong>rxjs/operators</strong> 라이브러리 안에 들어있다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> map </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>require</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"rxjs/operators"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> test$ </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>create</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">observer</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  observer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>next</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  observer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>next</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  observer</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>complete</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">test$</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>map</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">value</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> value </span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">item</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">item</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/*</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>2</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>4</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>*/</span><br/></span></code></pre></div></div>
<p>소스 옵져버블에서 발행된 값을 원하는대로 바꿀 수 있다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=연산자>연산자<a href=#연산자 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=of>of<a href=#of class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>args 순서대로 값을 반환한다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=from>from<a href=#from class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<ul>
<li>Observable</li>
<li>Array</li>
<li>Promise</li>
<li>Iterable</li>
<li>String</li>
<li>ArrayLike</li>
</ul>
<p>위 타입을 옵져버블로 변환해준다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=fromevent>fromEvent<a href=#fromevent class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>EventEmitter 클래스의 객체와 조합하거나 브라우저의 이벤트를 옵져버블로 바꿀 때 사용한다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=defer>defer<a href=#defer class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>팩토리 함수로 옵져버블을 생성한 후 구독한느 시점에 팩토리 함수를 호출해 이미 생성한 옵져버블을 리턴받아 구독한다.</p>
<p>from 과의 차이는 다름과 같다.</p>
<ul>
<li>from<!-- -->
<ul>
<li>프로미스 내부 구현부가 언제 실행되던지 상관 없을 때</li>
<li>이미 실행 중이거나 완료한 프로미스를 옵져버블로 만들 때</li>
</ul>
</li>
<li>defer<!-- -->
<ul>
<li>옵져버블을 구독하는 시점에 프로미스를 생성해 구현부가 실행되어야할 때</li>
<li>프로미스 객체 생성 시점이 구독하는 시점이여야할 때</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=range>range<a href=#range class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>범위 지정 후 그 값을 순서대로 발행한다. 반복문이 필요할 때 사용된다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=interval>interval<a href=#interval class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>ms 단위로 값을 발행한다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=timer>timer<a href=#timer class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>파라미터가 하나일 경우 ms 이후에 한 번 값을 발행하고,
두 개일 경우 ms 이후에 두번 째 파라미터만큼 주기적으로 값을 발행한다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=empty>empty<a href=#empty class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>값 발행 후 중간에 멈춰야하는 상황에 사용한다. 이 함수만 사용하지는 않고 다른 함수나 연산자와 조합해서 complete 함수를 호출해야 할 때 사용된다.
즉, 바로 구독을 완료해야될때 사용된다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// 상수로 사용된다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>EMPTY</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>require</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"rxjs"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=never>never<a href=#never class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>아무 것도 하지 않고 옵져버블 생성이 필요할 때 사용된다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// 상수로 사용된다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NEVER</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>require</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"rxjs"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=throwerror>throwError<a href=#throwerror class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>옵져버블로 값을 발행하다가 에러를 발생시키고 종료해야하는 상황에 사용한다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=filter>filter<a href=#filter class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>주로 파이퍼블 연산자와 연결해서 사용된다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> filter </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>require</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"rxjs/operators"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 1~10 중 짝수 필터</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>range</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>10</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>filter</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> x </span><span class="token operator" style=color:#393A34>%</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>===</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=first>first<a href=#first class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>처음으로 일치하는 값을 발행한다. 두 번째 인자로 기본 값을 줄 수 있다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=last>last<a href=#last class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>마지막으로 일치하는 값을 발행한다. 두 번째 인자로 기본 값을 줄 수 있다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=take>take<a href=#take class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>정해진 갯수만큼 구독하고 구독을 해제한다.
interval 과 같이 무한 반복이 실행되는 연산자와 같이 쓰면 된다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> take </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>require</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"rxjs/operators"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>interval</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1000</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>take</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/*</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>0</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>1</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>2</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>*/</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=takeuntil>takeUntil<a href=#takeuntil class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>특정 이벤트가 발생할 때까지 옵져버블을 구독해야할 때 사용한다.
예시로 보는 게 빠르다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>interval</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1000</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>take</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>100</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>takeUntil</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>fromEvent</span><span class="token punctuation" style=color:#393A34>(</span><span class="token dom variable" style=color:#36acaa>document</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>querySelector</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"#btn"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"click"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=takewhile>takeWhile<a href=#takewhile class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>take 와 filter 가 합쳐진 연산자이다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>interval</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1000</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>takeWhile</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> x </span><span class="token operator" style=color:#393A34>&lt;=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>10</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=takelast>takeLast<a href=#takelast class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>Last 의 파라미터 수 만큼 저장해뒀다가 구독 완료시에 일괄적으로 발행한다.
발행하는 값이 <code>[0, 2, 4, 6, 8, 10]</code> 일 때 <code>takeLast(3)</code> 일 경우 내부에 저장된 값은 다음과 같다.</p>
<table><thead><tr><th>발행값<th>내부배열<tbody><tr><td>0<td>[0]<tr><td>2<td>[0, 2]<tr><td>4<td>[0, 2, 4]<tr><td>6<td>[6, 2, 4]<tr><td>8<td>[6, 8, 4]<tr><td>10<td>[6, 8, 10]</table>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=skip>skip<a href=#skip class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>이름 그대로 n 개만큼의 발행을 건너 뛴다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=skipuntil>skipUntil<a href=#skipuntil class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>takeUntil 과의 반대로 옵져버블이 실행될 때까지 건너 뛴다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> time </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1000</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>interval</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">time</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>skipUntil</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>interval</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">time </span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>5</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>take</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/*</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>4</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>5</span><br/></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>*/</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=skipwhile>skipWhile<a href=#skipwhile class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>조건을 만족하지 않는 순간부터 값을 발행한다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=debounce>debounce<a href=#debounce class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>많이 사용하진 않지만, 디바운스할 옵져버블을 계산값을 리턴해주는 함수를 파라미터로 주면 된다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=debouncetime>debounceTime<a href=#debouncetime class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>로대쉬나 다른 라이브러리의 debounce 와 같다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=distinct>distinct<a href=#distinct class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>중복은 제거하고 발행한다. 값 비교에는 === 연산자가 사용된다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>of</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>id</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>id</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>id</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>id</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>distinct</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">data</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> data</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">id</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>map</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">data</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> data</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">id</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token doc-comment comment" style=color:#999988;font-style:italic>/**</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>1</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>2</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>3</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>*/</span><br/></span></code></pre></div></div>
<p>두번째 파라미터로 <code>flush</code> 조건을 옵져버블로 넘겨 중복 조건을 초기화시킬 수 있다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=distinctuntilchanged>distinctUntilChanged<a href=#distinctuntilchanged class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>중복값이 연속으로 발행된 경우만 제거한다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>of</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>distinctUntilChanged</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subcribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token doc-comment comment" style=color:#999988;font-style:italic>/**</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>1</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>2</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>3</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>4</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>1</span><br/></span><span class=token-line style=color:#393A34><span class="token doc-comment comment" style=color:#999988;font-style:italic>*/</span><br/></span></code></pre></div></div>
<p>첫번째 파라미터로는 비교함수 (prev, next 를 파라미터로 받는)를 넣어 연속 비교조건을 변경할 수 있다.</p>
<p>두번째 파라미터로는 비교할 값 셀렉터를 변경해줄 수 있다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>of</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>a</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>b</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>10</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>a</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>b</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>10</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>a</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>b</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>a</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>b</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>30</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>a</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>b</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>30</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>a</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token literal-property property" style=color:#36acaa>b</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>pipe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>distinctUntilChanged</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword null nil" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">data</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> data</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">a</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>subscribe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=sample>sample<a href=#sample class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>이건 마블 다이어그램으로 이해하는 게 빠르다.</p>
<p><img decoding=async loading=lazy src=https://rxjs-dev.firebaseapp.com/assets/images/marble-diagrams/sample.png alt=sample class=img_tzfx /></p>
<p>notifier 옵져버블(x 옵져버블)이 발행되면 이전 최근 값을 발행한다.
값 c 처럼 소스 옵져버블에 새로운 값이 없을 경우 값을 중복으로 발행하지 않는다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=sampletime>sampleTime<a href=#sampletime class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>일정 간격 사이에 있는 최근 값을 발행한다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=pluck>pluck<a href=#pluck class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>기본 map 연산자는 뻔하기에 적지 않았다.
map 처럼 동작하지만 소스 옵져버블에서 객체를 리턴할 때 객체의 property 를 뽑아낸다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=mergemap>mergeMap<a href=#mergemap class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=switchmap>switchMap<a href=#switchmap class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=concatmap>concatMap<a href=#concatmap class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=scan>scan<a href=#scan class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=partition>partition<a href=#partition class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=groupby>groupBy<a href=#groupby class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=buffer>buffer<a href=#buffer class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=buffercount>bufferCount<a href=#buffercount class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=window>window<a href=#window class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=windowcount>windowCount<a href=#windowcount class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>RxJS 의 장점은 이벤트 구독을 취소하고, 모든 이벤트를 하나의 스트림으로 제어할 수 있는 것이라고 생각한다.</li>
<li>이해하는데 상당한 기간이 소요되었지만, 웹에선 다음과 같은 상황에서 사용될 것 같다.<!-- -->
<ul>
<li>SPA</li>
<li>에디터와 같이 많은 컴포넌트끼리 통신이 필요할 때</li>
</ul>
</li>
<li>이 상황에서도 앵귤러가 아닌 스토어 기반의 리액트, 뷰를 사용한다면 <strong>RxJS를 쓸거야</strong> 라고 보여주기 위해 사용하는 느낌이 든다.</li>
<li>모두가 같이 가기엔 꽤 어려운 개념이다.</li>
<li>싱글 스레드 기반의 백엔드에서 더 유용하게 쓰일 수 있을 듯</li>
<li><a href=https://github.com/btroncone/learn-rxjs target=_blank rel="noopener noreferrer">learn-rxjs</a>의 예제를 분석하는 게 더 많은 도움이 될 것 같다.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/rxjs/>rxjs</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/04/28/Ansible-정리/>Ansible 정리</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-04-28T23:32:15.000Z>April 28, 2019</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=앤서블>앤서블<a href=#앤서블 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>서버 구성 관리 자동화 프로그램</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=용어>용어<a href=#용어 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>애드훅: 일회성 실행</li>
<li>플레이북: yaml 로 재사용</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=cmdb>CMDB<a href=#cmdb class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>Configuration Management DataBase (구성 관리 데이터베이스)</li>
<li>분산 설치된 서버, 스토리지, 네트워크 장비 등의 CPU, 메모리, 디스크 등의 하드웨어 정보와 OS, 응용프로그램 종류 등의 소프트웨어 정보 관리</li>
<li>다양한 시스템의 정보를 한 번에 파악 가능하고, 각 장비 간 연관 관계 파악이 쉬워 예방, 장애 파악, 유지보수에 좋음</li>
<li>앤서블 CMDB 는 앤서블 호스트 파일 또는 지정된 인벤토리를 통해 설정 관리 대상 시스템의 정보를 setup 모듈을 통해 수집, 저장</li>
<li>앤서블 vault 로 중요 정보 암호화 가능</li>
<li>Device42, servicenow 등이 지원</li>
<li>ansible-cmdb 를 사용해 간단한 대시보드로 볼 수 있다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=최적화>최적화<a href=#최적화 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=pipelining>pipelining<a href=#pipelining class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>앤서블 실행 단계를 한 단계로 줄일 수 있음</li>
<li>플레이북 내에서는 ansible_ssh_pipelining 으로 설정 가능</li>
<li>/etc/ansible/ansible.cfg 에서 설정 가능</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=forks>forks<a href=#forks class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>한 번에 실행할 수 있는 노드의 수 제어 (default: 5)</li>
<li>serial 은 단순히 전체 노드에서 어느 정도를 실행할 것인지를 설정하는 거라 forks 와는 다르다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=async>async<a href=#async class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>태스크 별 지정된 주기에 체크하고 모든 노드의 동일 태스크가 완료되어야 다음 태스크 실행</li>
<li>주기를 0으로 설정하면 상태 체크 없이 다음 태스크가 진행된다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=strategy-free>strategy free<a href=#strategy-free class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>상태 체크는 하지만 다른 노드의 진행을 기다리지 않고 각 노드 간 독립적으로 태스크 진행</li>
<li>빠르게 작업이 끝나는 노드가 생기므로 forks 수의 제한을 가능한 늘려줘야한다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=설정-확인>설정 확인<a href=#설정-확인 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p><code>ansible-config dump --only-changed</code> 로 변경된 설정 확인 가능</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=블록>블록<a href=#블록 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li><code>with_items, with_nested, with_dict, with_file</code>을 사용해 여러 개의 태스크를 한 번에 실행 가능</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=fact_caching>fact_caching<a href=#fact_caching class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>기본적으로 앤서블의 fact 는 실행 시마다 수집되는데, 이 옵션을 설정으로 디스크 또는 메모리에 캐싱해 fact 수집 시간을 단축시킴</li>
<li>기본 값은 24시간</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=ansible-vault>ansible-vault<a href=#ansible-vault class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>평문 파일을 <code>aes256</code>으로 암복호화</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=no_log>no_log<a href=#no_log class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>플레이북 실행시 <code>-v, -vv, -vvv</code>의 옵션으로 암호화 파일의 유추가 가능한데, <code>no_log</code> 옵션을 줘서 해결 가능</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>설정이 많고, 모듈도 많아서 사용할 때 홈페이지를 참고해가며 삽질해야할 듯</li>
<li>Docker 설치 전 <strong>물리적인 서버</strong>의 설정을 맞춰줄 때나 디버깅할 때 필수로 보인다.</li>
<li>시스템 관리자가 아니거나 AWS 쓴다면 사용할 일이 거의 없을 것 같다.</li>
<li><a href=https://github.com/ansible/awx target=_blank rel="noopener noreferrer">AWX</a>로 Web 콘솔에서 관리가 가능하다.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/ansible/>ansible</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/04/26/Mac에서-포트-접근-확인하기/>Mac 에서 포트 접근 확인하기</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-04-26T12:37:42.000Z>April 26, 2019</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><p>윈도우의 경우에는 telnet-client 를 켜주면 되고, 맥에서도 <code>brew</code> 로 설치하면 되지만 더 좋은 내장 툴이 있다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=네트워크-유틸리티>네트워크 유틸리티<a href=#네트워크-유틸리티 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><strong>네트워크 유틸리티 > 포트 스캔</strong> 을 사용하자.</p>
<p><img decoding=async loading=lazy src=https://i.imgur.com/AEcJ2oJ.png alt="Network Utility" class=img_tzfx /></p>
<p>IP 를 입력하고 테스트할 포트 범위를 입력 후 스캔 버튼을 누르면 된다.</p>
<p>Ping, DNS, Netstat, Traceroute (MTR), Whois 등의 기능이 있어서 유용하게 사용할 것 같다.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/mac/>mac</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/04/24/jQuery-Prototype-Pollution-Vulnerability/>jQuery 프로토타입 오염 취약점 (CVE-2019-11358)</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-04-24T22:25:45.000Z>April 24, 2019</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=프로토타입-오염>프로토타입 오염<a href=#프로토타입-오염 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>이 공격은 <code>JSON.parse</code> 와 <code>Object.deepCopy</code> 를 사용하는 <a href=https://medium.com/intrinsic/javascript-prototype-poisoning-vulnerabilities-in-the-wild-7bc15347c96 target=_blank rel="noopener noreferrer">모든 로직에서 발생</a>할 수 있다.</p>
<p>2019-04-17 에 발표된 이 취약점은 <code>$.extends</code> 구문 상에서 프로토타입 XSS 공격이 가능하다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=예시>예시<a href=#예시 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> myObject </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'{"myProperty" : "a", "__proto__" : { "isAdmin" : true } }'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> newObject </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> $</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>extend</span><span class="token punctuation" style=color:#393A34>(</span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>parse</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">myObject</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newObject</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">isAdmin</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>// true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> temp </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">temp</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">isAdmin</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>// true</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=패치>패치<a href=#패치 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>취약점 패치는 아래 부분을 변경해준다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">jQuery</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">extend</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> jQuery</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">fn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method-variable function-variable method function property-access" style=color:#d73a49>extend</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 사이 로직 생략</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>for</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> i </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> length</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> i</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">options </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> arguments</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">i</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token keyword null nil" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword control-flow" style=color:#00009f>for</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">name </span><span class="token keyword" style=color:#00009f>in</span><span class="token plain"> options</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        src </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> target</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        copy </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> options</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// [AS-IS]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// if (target === copy) {</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// [TO-BE]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword control-flow" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">name </span><span class="token operator" style=color:#393A34>===</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"__proto__"</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>||</span><span class="token plain"> target </span><span class="token operator" style=color:#393A34>===</span><span class="token plain"> copy</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token keyword control-flow" style=color:#00009f>continue</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword control-flow" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          deep </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          copy </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">jQuery</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>isPlainObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">copy</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>||</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">copyIsArray </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> jQuery</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>isArray</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">copy</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token keyword control-flow" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">copyIsArray</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            copyIsArray </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            clone </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> src </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> jQuery</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>isArray</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">src</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>?</span><span class="token plain"> src </span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#00009f>else</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            clone </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> src </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> jQuery</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>isPlainObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">src</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>?</span><span class="token plain"> src </span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          target</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> jQuery</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>extend</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">deep</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> clone</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> copy</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#00009f>else</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">copy </span><span class="token operator" style=color:#393A34>!==</span><span class="token plain"> </span><span class="token keyword nil" style=color:#00009f>undefined</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">          target</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> copy</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> target</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/jquery/>jquery</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/04/18/NARS-직구하기/>NARS 직구하기</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-04-18T21:25:48.000Z>April 18, 2019</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=nars-cosmetics>NARS Cosmetics<a href=#nars-cosmetics class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>François Nars가 런칭한 프랑스발 유명 색조 브랜드 나스는 남자라도 갖고 싶게하는 매력있는 디자인을 가진 제품들이 많다.
한국에 들어오면 1.5배정도 가격이 뛰던지, 한정판은 들어오자마자 못 구한다.
이번 2019 Orgasm Collection 도 마찬가질 것 같다.</p>
<p><img decoding=async loading=lazy src=https://i.imgur.com/JGikQSO.png alt="2019 Orgasm Collection" class=img_tzfx /></p>
<p>특히 립스틱 4개를 모아야 하나의 NARS 문구로 완성 되는 건 상술이지만 아름답다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=이름의-유래>이름의 유래<a href=#이름의-유래 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>나스 화장품 명칭은 대부분 섹슈얼한데 주된 명칭은 다음과 같다.</p>
<ul>
<li>오르가즘 '99 에 런칭된 베스트셀러이다.</li>
<li>슈퍼오르가즘</li>
<li>섹스어필</li>
<li>섹스판타지</li>
<li>쓰리썸</li>
<li>게이어티</li>
<li>패티쉬즈드</li>
<li>딥쓰롯</li>
</ul>
<p>왜 이런 이름을 지었는지에 대해 궁금해져서 <em>여성도 성에 당당해지자</em> 라는 카더라가 있는데, 카더라는 꺼무위키처럼 제껴두고 <a href=https://www.vogue.com/article/planet-nars-an-intimate-q-a-with-one-of-beautys-biggest-icons target=_blank rel="noopener noreferrer">나스가 보그와 한 인터뷰</a>를 확인해보자.</p>
<blockquote>
<p><strong>Q: I think it’s safe to say your products have some of the all-time best names—Orgasm, Jungle Red, Belle de Jour, Chinatown, Schiap. How do you name them?</strong></p>
</blockquote>
<p>네이밍은 상품에 개성을 부여하는 것과 같다고 생각했기에, 여성들이 뭔가 특별한 것을 입고 있는 것처럼 느끼게 하고 싶었습니다. 메이크업은 섹시 악세사리라고 생각하기 때문에 재밌있게, 섹시하게 만들길 원했습니다. 여성들은 섹시해보기 위해, 섹시함을 느끼기 위해 이걸 사용합니다.</p>
<blockquote>
<p>A: You know, I always said we were either going to give them numbers, or interesting names. I didn’t want to go with boring names like Pink Peach. <strong>It had to be almost like giving each product its own personality, so that women could dream, could connect to the product, could feel like they were wearing something special. I wanted it to be fun. And sexy, too. Because makeup is a sexy accessory—women use it to look sexy and to feel sexy, for themselves and for the world.</strong> It gets difficult, because, you can imagine, we’ve been copied a lot. I have those little Hermès agendas, and 24 hours a day I keep writing names that come to my mind from books that I read, exhibits I go to, movies, places. I keep writing names. That’s how it works. I usually think about the name first, and then a color matches that name. Nothing is really planned.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=구매하기>구매하기<a href=#구매하기 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=공홈>공홈<a href=#공홈 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p><a href=https://www.narscosmetics.com/ target=_blank rel="noopener noreferrer">NARS 공식 홈페이지</a>는 한국인이 한국카드를 쓰거나 배대지를 이용할 경우 구매 취소가 되어버린다.
이 것에 대해 카드, 페이팔, 배대지 변경까지 세 번의 도전을 모두 실패하고 결국 문의를 해서 이런 답변을 받았다.</p>
<blockquote>
<p>Please be aware that at this time NARScosmetics.com can only bill and ship within the U.S. and both billing and shipping must be made to a U.S. residential address.</p>
</blockquote>
<p>의역하면 <strong>응 안돼~</strong> 가 되시겠다.
사은품도 많고, 정품 패키지도 엄청 예쁜데 구매하려면 미국 친구나 미국 공구를 알아봐야한다.</p>
<p>이 문제는 나에게 <code>High Priority</code> 이슈로 등록되어서 대안을 마련해야만 했다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=sephora>Sephora<a href=#sephora class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>편집숍인 <a href=https://www.sephora.com/brand/nars target=_blank rel="noopener noreferrer">세포라</a>엔 나스 신상이 바로바로 입고되고 있었다.</p>
<p>가입 후 <a href=https://www.2fasts.com/ target=_blank rel="noopener noreferrer">배대지 주소</a>를 넣어주고, 오르가즘 컬렉션을 추가한 뒤 <a href=https://www.sephora.com/beauty/beauty-offers target=_blank rel="noopener noreferrer">사은품</a>도 꼭꼭 챙기자.</p>
<table><thead><tr><th>블러셔<th>립<tbody><tr><td><img decoding=async loading=lazy src=https://www.sephora.com/productimages/sku/s2165215-main-Sgrid@2x.jpg alt="Orgasm Blush Jumbo" class=img_tzfx /><td><img decoding=async loading=lazy src=https://www.sephora.com/productimages/sku/s2063758-main-Sgrid@2x.jpg alt="Orgasm Afterglow Lip Balm" class=img_tzfx /><tr><td><img decoding=async loading=lazy src=https://www.sephora.com/productimages/sku/s2196343-main-Sgrid@2x.jpg alt="Endless Orgasm Palette" class=img_tzfx /><td><img decoding=async loading=lazy src=https://www.sephora.com/productimages/sku/s2165207-main-Sgrid@2x.jpg alt="Orgasm Oil-Infused Lip Tint" class=img_tzfx /></table>
<p>자주 이용할 듯 싶다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>도착하면 이 컬렉션을 한국의 어떤 뷰티 유튜버보다도 빨리 리뷰할 수 있을 것 같다.</li>
<li>시놀로지 나스도 구매도 해야하는데</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Life Logging" class="tag_QmFV tagRegular_P3VH" href=/en/tags/me/>me</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/04/17/Install-Pi-Hole-on-Raspberry-Pi-3-b/>Pi-hole과 라즈베리파이로 모든 광고 차단하기</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-04-17T23:07:03.000Z>April 17, 2019</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=앞서>앞서<a href=#앞서 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>유튜브 광고가 많아졌다. 명색이 프로그래머인데 AdGuard를 정액제로 사용하고 싶지 않았다.
이 문서엔 없지만 피캡을 구현해보고 싶었다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=기기-구매>기기 구매<a href=#기기-구매 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>라즈베리파이3 B+ 스타터킷을 구매한다. 아래 재료가 있을 경우 빼고 구매해도 된다.</p>
<ul>
<li>SD 카드 리더기</li>
<li>5핀 충전기</li>
<li>라즈베리파이용 방열판</li>
<li>라즈베리파이 케이스</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=환경설정>환경설정<a href=#환경설정 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=포맷>포맷<a href=#포맷 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>SD 카드를 비워주기위해 파워쉘이나 CMD를 관리자 모드로 접근한다.</p>
<div class="language-ps1 codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-ps1 codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">PS > diskpart</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">DISKPART > list disk</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">DISKPART > select disk ${SD_CARD_DRIVE_NUMBER}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">DISKPART > clean</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=라즈비안>라즈비안<a href=#라즈비안 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>운영체제인 <a href=https://www.raspberrypi.org/downloads/raspbian/ target=_blank rel="noopener noreferrer">Raspbian Stretch Lite</a> 버전을 다운로드한다.
데비안 기반이다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=etcher>etcher<a href=#etcher class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>컴퓨터에 SD 카드용 이미지 굽는 <a href=https://github.com/balena-io/etcher target=_blank rel="noopener noreferrer">프로그램</a>을 설치한다.</p>
<p>다운로드된 라즈비안과 etcher로 이미지를 굽는다.
직관적이라 1, 2, 3 선택하듯이 설치하면 된다.
도중에 깨질 경우 다시 포맷한다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=ssh-접근>ssh 접근<a href=#ssh-접근 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>이미지 설치 후 다시 USB 를 인식시키면 Boot drive 가 보이는데 접근 후 루트에 <strong>ssh</strong> 란 이름의 터치파일을 만들어준다.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>touch</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>ssh</span><br/></span></code></pre></div></div>
<p>이 파일이 있어야 ssh 접근이 가능하다. 공유기에 꼽고 내부아이피 확인하자.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>## ssh 접근</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>ssh</span><span class="token plain"> pi@YOUR_RASPBERRY_INTERAL_IP</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 초기 비밀번호는 raspberry 이다.</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=패키지-설치>패키지 설치<a href=#패키지-설치 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>부팅 후 <code>apt-get</code> 을 사용할 시간이다.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>apt-get</span><span class="token plain"> upgrade </span><span class="token parameter variable" style=color:#36acaa>-y</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>apt-get</span><span class="token plain"> update</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=vim>vim<a href=#vim class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>vim 도 없다.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>apt-get</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>install</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>vim</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=oh-my-zsh>oh-my-zsh<a href=#oh-my-zsh class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>apt-get</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>install</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>zsh</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">chsh </span><span class="token parameter variable" style=color:#36acaa>-s</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>$(</span><span class="token variable function" style=color:#d73a49>which</span><span class="token variable" style=color:#36acaa> </span><span class="token variable function" style=color:#d73a49>zsh</span><span class="token variable" style=color:#36acaa>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>sh</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-c</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>$(</span><span class="token string variable function" style=color:#d73a49>curl</span><span class="token string variable" style=color:#36acaa> </span><span class="token string variable parameter variable" style=color:#36acaa>-fsSL</span><span class="token string variable" style=color:#36acaa> https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh</span><span class="token string variable" style=color:#36acaa>)</span><span class="token string" style=color:#e3116c>"</span><br/></span></code></pre></div></div>
<p><strong>agnoster theme</strong>, <strong>zsh-syntax-highlighting</strong>, <strong>zsh-autosuggestion</strong> 세팅해주자.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=pi-hole>pi-hole<a href=#pi-hole class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>이제 파이홀을 설치할 수 있다.</p>
<p>라즈베리파이를 유선연결했으니 <strong>eth0</strong> 인터페이스만 잘 체크해주면, 나머진 기본옵션으로 다음 다음만 해주면 된다.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-sSL</span><span class="token plain"> https://install.pi-hole.net </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>bash</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 비밀번호 변경</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> pihole </span><span class="token parameter variable" style=color:#36acaa>-a</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-p</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=dns-encrypt>dns-encrypt<a href=#dns-encrypt class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>이왕 DSN 가로채는 거 암호화도 해주자.
<a href=https://github.com/pi-hole/pi-hole/wiki/DNSCrypt-2.0 target=_blank rel="noopener noreferrer">매뉴얼</a> 내용을 정리했다.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> /opt</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 설치</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>wget</span><span class="token plain"> https://github.com/jedisct1/dnscrypt-proxy/releases/download/2.0.22/dnscrypt-proxy-linux_arm-2.0.22.tar.gz</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 폴더 생성</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>tar</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-xf</span><span class="token plain"> dnscrypt-proxy-linux_arm-2.0.22.tar.gz</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>mv</span><span class="token plain"> linux-arm dnscrypt-proxy </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> dnscrypt-proxy</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 기본 설정 복사</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>cp</span><span class="token plain"> example-dnscrypt-proxy.toml dnscrypt-proxy.toml</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 설정 변경</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>vi</span><span class="token plain"> dnscrypt-proxy.toml</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 이 세 옵션을 찾아서 변경해준다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">server_names </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>'dnscrypt.nl-ns0'</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 기본 53번 포트는 pi-hole에서 쓰고 있다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">listen_address </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>'127.0.0.1:54'</span><span class="token plain">, </span><span class="token string" style=color:#e3116c>'[::1]:54'</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">require_dnssec </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 서비스 등록</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> ./dnscrypt-proxy </span><span class="token parameter variable" style=color:#36acaa>-service</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>install</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>## 시작</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> ./dnscrypt-proxy </span><span class="token parameter variable" style=color:#36acaa>-service</span><span class="token plain"> start</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<p><a href=https://dnscrypt.nl/ target=_blank rel="noopener noreferrer">dnscrypt.nl-ns0</a> Public DNSCrypt 서버이다.
다른 서버는 <a href=https://github.com/dyne/dnscrypt-proxy/blob/master/dnscrypt-resolvers.csv target=_blank rel="noopener noreferrer">여기</a>를 참조하자. 일본이나 싱가폴 쪽에 있으면 좋을텐데 아쉽다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=upstream-dns-변경>Upstream DNS 변경<a href=#upstream-dns-변경 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>관리자 화면의 <strong>Settings > DNS > Upstream DNS Servers</strong> 탭에서 <code>'127.0.0.1:54', '[::1]:54'</code>를 넣어주고 저장한다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=primary-dns-address-변경>Primary DNS Address 변경<a href=#primary-dns-address-변경 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>공유기 설정에 들어가서 라즈베리파이 내부 아이피를 기본 DNS 주소로 설정한다.
IPTIME 의 경우 <strong>고급 설정 > 네트워크 관리 > 인터넷 설정 정보</strong> 에 있다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=blocklists>BlockLists<a href=#blocklists class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><strong>Settings > Blocklists</strong> 에서 추가하고 <strong>Save and Update</strong> 하면 차단할 주소가 추가된다. 아래는 참고할만한 링크다.</p>
<ul>
<li><a href=https://www.reddit.com/r/pihole/comments/9oekfe/good_blocklists_for_pihole/ target=_blank rel="noopener noreferrer">레딧</a></li>
<li><a href=https://discourse.pi-hole.net/t/update-the-best-blocking-lists-for-the-pi-hole-alternative-dns-servers-2019/13620 target=_blank rel="noopener noreferrer">Best blocking lists</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=확인>확인<a href=#확인 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p><a href=https://www.cloudflare.com/ssl/encrypted-sni/ target=_blank rel="noopener noreferrer">Cloudflare Browsing Experience Security Check</a>서 체크하자.</p>
<p>DNSSEC, TLS1.3에 초록불 들어오면 된다.
그리고 유튜브를 쾌적하게 즐기자.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li><strong>Query Log</strong> 메뉴에서 어느 도메인을 확인하려는지 알 수 있다.</li>
<li>Instagram 광고 차단 필터를 찾아봐야겠다.</li>
<li>정작 내 블로그엔 애드센스 달려있는데..</li>
<li>세팅비 2만원 받아도 되지않을까? <!-- -->😄</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/pihole/>pihole</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/linux/>linux</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/raspberry/>raspberry</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/04/12/RecursiveDirectoryIterator-사용하기/>RecursiveDirectoryIterator 사용하기</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-04-12T19:42:34.000Z>April 12, 2019</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=앞서>앞서<a href=#앞서 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>보통 디렉토리 순회를 한다고하면 무슨 메소드를 쓸까?</p>
<div class="language-php codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-php codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token delimiter important">&lt;?php</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 쉘실행하고?</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>exec</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string single-quoted-string" style=color:#e3116c>'find dir'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 아니면 for문과 scandir?</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>scandir</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string single-quoted-string" style=color:#e3116c>'dir'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p>위 방법은 간단하지만 <code>/home/gracefullight/tmp/**/*.bak</code> 와 같은 중첩된 디렉토리 파일의 데이터를 가져오려면 엄청난 <code>if/else</code> 처리가 들어갈 것이다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=recursiveiterator>RecursiveIterator<a href=#recursiveiterator class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=recursivedirectoryiterator>RecursiveDirectoryIterator<a href=#recursivedirectoryiterator class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>오토로딩을 하기 위해 필수로 들어가있는 <a href=https://www.php.net/manual/en/book.spl.php target=_blank rel="noopener noreferrer">Standard PHP Library</a>엔 파일 순회에 사용할 수 있는 이터레이터 클래스가 들어가 있다.</p>
<div class="language-php codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-php codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token delimiter important">&lt;?php</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// $path 하위를 가져오고 .. 와 . 는 제외한다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token variable" style=color:#36acaa>$directory</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">RecursiveDirectoryIterator</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$path</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name static-context">RecursiveDirectoryIterator</span><span class="token operator" style=color:#393A34>::</span><span class="token constant" style=color:#36acaa>SKIP_DOTS</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token variable" style=color:#36acaa>$iterator</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">RecursiveIteratorIterator</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$directory</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>foreach</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$iterator</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>as</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>$file</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token variable" style=color:#36acaa>$file</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>getPathname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token variable" style=color:#36acaa>$file</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>getMTime</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token delimiter important">?></span><br/></span></code></pre></div></div>
<p><code>$file</code>은 <a href=https://www.php.net/manual/en/class.splfileinfo.php target=_blank rel="noopener noreferrer">SplFileInfo</a> 이다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=recursivefilteriterator>RecursiveFilterIterator<a href=#recursivefilteriterator class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>위의 <code>foreach</code> 문 안에서 조건을 줘서 필터링할 수 있지만 다른 깔끔한 방법이 있다.</p>
<div class="language-php codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-php codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token delimiter important">&lt;?php</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name-definition class-name">TextFilterIterator</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">RecursiveFilterIterator</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>static</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>$FILTERS</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token string single-quoted-string" style=color:#e3116c>'txt'</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token function-definition function" style=color:#d73a49>accept</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// 순회하기위해 자식 트리가 있을 경우 true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$this</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>hasChildren</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token constant boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token variable" style=color:#36acaa>$current</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>$this</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>current</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>!</span><span class="token variable" style=color:#36acaa>$current</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>isFile</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token constant boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// 확장자가 txt 인 파일만 필터링</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>in_array</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$current</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>getExtension</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword static-context" style=color:#00009f>self</span><span class="token operator" style=color:#393A34>::</span><span class="token variable" style=color:#36acaa>$FILTERS</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 감싸주면 끝난다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token variable" style=color:#36acaa>$iterator</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">RecursiveIteratorIterator</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">TextFilterIterator</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$directory</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// 이 옵션은 하위 폴더만 순회하게 해준다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token class-name static-context">RecursiveIteratorIterator</span><span class="token operator" style=color:#393A34>::</span><span class="token constant" style=color:#36acaa>LEAVES_ONLY</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// 이 옵션은 Read 에 실패할 경우 오류를 스킵한다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token class-name static-context">RecursiveIteratorIterator</span><span class="token operator" style=color:#393A34>::</span><span class="token constant" style=color:#36acaa>CATCH_GET_CHILD</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=recursivecallbackfilteriterator>RecursiveCallbackFilterIterator<a href=#recursivecallbackfilteriterator class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>콜백으로 만들어 더 예쁘게 짤 수 있다.</p>
<div class="language-php codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-php codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token delimiter important">&lt;?php</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token variable" style=color:#36acaa>$FILTERS</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string single-quoted-string" style=color:#e3116c>'txt'</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token variable" style=color:#36acaa>$textFilterIterator</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">RecursiveCallbackFilterIterator</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token variable" style=color:#36acaa>$directory</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$current</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>$key</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>$iterator</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>use</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$FILTERS</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$iterator</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>hasChildren</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token constant boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>!</span><span class="token variable" style=color:#36acaa>$current</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>isFile</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token constant boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>in_array</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$current</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>getExtension</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>$FILTERS</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token variable" style=color:#36acaa>$iterator</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">RecursiveIteratorIterator</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>$textFilterIterator</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>쓸 수 있다면 <a href=https://packagist.org/packages/symfony/finder target=_blank rel="noopener noreferrer">symfony/finder</a> 쓰자.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/php/>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2019/04/12/Mac에서-Kubernetes-is-starting이-지속되는-현상/>Mac에서 Kubernetes is starting이 지속되는 현상</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2019-04-12T19:30:42.000Z>April 12, 2019</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=원인>원인<a href=#원인 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>모하비 문제인지 최근 엣지 버전 Docker for Mac 이 문제인지 잘 모르겠지만,
부팅시에 <strong>Kubernetes is starting</strong> 문구가 지속되며 CPU의 온도를 90도까지 올려버린다.</p>
<p>맥북이 트랜스포머가 되어 곧 제트기가 될 것처럼 굉음이 나는데 해결해보자.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=해결>해결<a href=#해결 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li><strong>Docker > Prefereneces > Reset</strong> 에서 Reset to factory defaults 로 공장 초기화를 진행한다.</li>
<li><code>~/.kube</code> 폴더를 강제로 삭제한다.</li>
<li>다시 쿠버네티스를 실행한다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>쿠버네티스 뿐 아니라 도커 자체가 맥에서 CPU 가 튀는 현상이 있는데,
<a href=https://github.com/docker/for-mac/issues/1759 target=_blank rel="noopener noreferrer">여기</a> 이슈에서 관리가 되고 있다.</p>
<p>file watch 기능을 끄거나, 볼륨을 해제하거나, 맥 디스크 암호화 기능을 꺼보라는데 신뢰할 수 있는 방법은 아니다.</p>
<p>도커 켜놓고 잠자기 해놓으면 과열로 맥북 켜지지도 않을 수 있어서 해결될 때까진 윈도우에서 돌려야할 듯 싶다.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/docker/>docker</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/k-8-s/>k8s</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/mac/>mac</a></ul></div></footer></article><nav class=pagination-nav aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/en/page/60/><div class=pagination-nav__label>Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/en/page/62/><div class=pagination-nav__label>Older Entries</div></a></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Support Me</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.buymeacoffee.com/LOUB2kN target=_blank rel="noopener noreferrer" style="cursor: pointer;">
                <img src=https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png style="height: auto !important;width: auto !important;">
              </a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Feeds</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://gracefullight.dev/rss.xml target=_blank rel="noopener noreferrer" class=footer__link-item>RSS<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_ZLQs><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://gracefullight.dev/atom.xml target=_blank rel="noopener noreferrer" class=footer__link-item>Atom<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_ZLQs><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2016 - 2023 Gracefullight. Built with Docusaurus.</div></div></div></footer></div></body>