"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["19726"],{40411(n,e,a){a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>s});var t=a(12974),i=a(74848),l=a(28453);let r={title:"\uBE44\uB3D9\uAE30 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC - \uB9AC\uC0AC\uC774\uC9D5 \uBC0F \uC774\uBBF8\uC9C0 \uD68C\uC804\uC744 \uD3EC\uD568",authors:"me",tags:["javascript","html"],date:new Date("2016-12-21T19:28:12.000Z")},o,c={authorsImageUrls:[void 0]},s=[{value:"\uBE44\uB3D9\uAE30 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC",id:"\uBE44\uB3D9\uAE30-\uC774\uBBF8\uC9C0-\uC5C5\uB85C\uB4DC",level:2},{value:"\uC124\uCE58",id:"\uC124\uCE58",level:3},{value:"\uC18C\uC2A4",id:"\uC18C\uC2A4",level:3},{value:"\uC124\uBA85",id:"\uC124\uBA85",level:3}];function d(n){let e={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"\uBE44\uB3D9\uAE30-\uC774\uBBF8\uC9C0-\uC5C5\uB85C\uB4DC",children:"\uBE44\uB3D9\uAE30 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC"}),"\n",(0,i.jsx)(e.p,{children:"\uBE44\uB3D9\uAE30 \uC5C5\uB85C\uB4DC\uB97C \uC774\uC6A9\uD558\uBA74 \uBA40\uD2F0 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC\uB098 \uBAA8\uBC14\uC77C \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC\uB97C \uC27D\uAC8C \uCC98\uB9AC\uD560 \uC218 \uC788\uB2E4."}),"\n",(0,i.jsxs)(e.p,{children:["\uBAA8\uBC14\uC77C \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC\uC2DC\uC5D0\uB294 ",(0,i.jsx)(e.em,{children:"exif"})," \uC18D\uC131\uC5D0 \uB530\uB77C (\uCE74\uBA54\uB77C\uB85C \uCC0D\uC740 \uBC29\uD5A5\uC5D0 \uB530\uB77C) \uC774\uBBF8\uC9C0\uAC00 \uD68C\uC804\uB418\uC5B4\uC11C \uC62C\uB77C\uAC00\uAC8C \uB418\uACE0, \uBE44\uC728\uB85C \uC774\uBBF8\uC9C0\uB97C \uD45C\uC2DC\uD574\uC57C \uB418\uAE30 \uB54C\uBB38\uC5D0 \uB9AC\uC0AC\uC774\uC9D5\uC774 \uD544\uC694\uD558\uB2E4."]}),"\n",(0,i.jsxs)(e.p,{children:["\uC774 \uBD80\uBD84\uC740 ",(0,i.jsx)(e.a,{href:"https://github.com/blueimp/JavaScript-Load-Image",children:"load-image"})," \uBAA8\uB4C8\uC744 \uC0AC\uC6A9\uD558\uBA74 \uB2E4 \uD574\uACB0\uB41C\uB2E4.\n\uC544\uB2C8\uB77C\uBA74.. \uC0AC\uC9C4 \uAC12\uC744 \uBC14\uC774\uB108\uB9AC\uB85C \uC77D\uC5B4 \uCC98\uB9AC\uD574\uC57C\uD55C\uB2E4."]}),"\n",(0,i.jsx)(e.h3,{id:"\uC124\uCE58",children:"\uC124\uCE58"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"## bower install https://github.com/blueimp/JavaScript-Load-Image.git --save\n$ yarn add blueimp-load-image\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\uC18C\uC2A4",children:"\uC18C\uC2A4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<script type="text/javascript">\n  var imageModule = (function () {\n    "use strict";\n    var possible = window.File && window.FileReader && window.FormData; // html5 \uC5C5\uB85C\uB4DC\uB97C \uC9C0\uC6D0\uD558\uB294\uC9C0\uC758 \uC5EC\uBD80\n    var apiPath = "/api/test.php"; // \uC5C5\uB85C\uB4DC \uC11C\uBC84 \uCC98\uB9AC \uACBD\uB85C\n    var folder = "/upload/review/"; // \uAE30\uBCF8 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC \uD3F4\uB354\n    var $input;\n    var maxWidth = 600;\n    var maxHeight = 480;\n    var imageArray = []; // callback\uC5D0 \uC0AC\uC6A9\uD560 \uC774\uBBF8\uC9C0 \uD30C\uC77C\uBA85 \uBC30\uC5F4\n    var callback;\n    /**\n     * [sendImageFile \uC774\uBBF8\uC9C0 \uBE44\uB3D9\uAE30 \uC5C5\uB85C\uB4DC]\n     * @scope  {[private]}\n     * @param  {[string]}    imageData     [\uC774\uBBF8\uC9C0 binary]\n     * @return {[function]}  callback      [\uC5C5\uB85C\uB4DC \uD6C4\uCC98\uB9AC]\n     */\n    function sendImageFile(imageData) {\n      if (imageData) {\n        var formData = new FormData();\n        formData.append("type", "upload");\n        formData.append("folder", folder);\n        formData.append("imageData", imageData);\n        $.ajax({\n          type: "post",\n          url: apiPath,\n          data: formData,\n          dataType: "json",\n          contentType: false, // contentType header \uC81C\uAC70\n          processData: false, // Dom \uAC1D\uCCB4\uB97C \uC804\uC1A1\uD558\uB824\uBA74 false \uCC98\uB9AC\uD574\uC57C\uD568\n        })\n          .then(function (data) {\n            if (data.data) {\n              imageArray.push(data.data.file); // \uC774\uBBF8\uC9C0 \uBC30\uC5F4\uC5D0 \uC800\uC7A5\n              $input.val("");\n              if (callback) {\n                callback(imageArray);\n              } else {\n                console.log("callback function not initialized");\n              }\n            }\n          })\n          .catch(function (error) {\n            console.log("upload fail: ", error);\n          });\n      } else {\n        console.log("image data is null");\n      }\n    }\n    return {\n      /**\n       * [init \uC774\uBBF8\uC9C0 \uBAA8\uB4C8 \uCD08\uAE30\uD654]\n       * @param  {[string]} fileId       [\uBCC0\uACBD\uD560 input id]\n       * @param  {[function]} callbackFunc [\uD6C4\uCC98\uB9AC]\n       * @param  {[object]} settings     [width, height, folder \uC124\uC815\uAC00\uB2A5]\n       */\n      init: function (fileId, callbackFunc, settings) {\n        if (possible) {\n          if (typeof settings === "object") {\n            if (settings.width) {\n              maxWidth = settings.width;\n            }\n            if (settings.height) {\n              maxHeight = settings.height;\n            }\n            if (settings.folder) {\n              folder = settings.folder;\n            }\n          }\n          if ($.isFunction(callbackFunc)) {\n            callback = callbackFunc;\n          } else {\n            console.log("callback is not defined");\n          }\n          var options = {\n            maxWidth: maxWidth, // resize width \uAC12\n            maxHeight: maxHeight, // resize height \uAC12\n            canvas: true, // \uC0AC\uC9C4\uC744 \uB3CC\uB9AC\uB824\uBA74 canvas \uAC1D\uCCB4\uB85C \uBC1B\uC544\uC57C\uD568\n            downsamplingRatio: 0.5, // \uBE44\uC728\uC5D0 \uB9DE\uCD94\uC5B4 \uD06C\uAE30 \uAC10\uC18C\n          };\n          $input = $("#" + fileId);\n          $input.on("change", function (e) {\n            e.preventDefault();\n            e = e.originalEvent;\n            var target = e.dataTransfer || e.target;\n            var file = target && target.files && target.files[0];\n            loadImage.parseMetaData(file, function (data) {\n              // exif js\uB97C \uC0AC\uC6A9\uD574 \uC774\uBBF8\uC9C0\uC758 tag\uB97C \uAC00\uC838\uC634\n              if (data.exif) {\n                options.orientation = data.exif.get("Orientation"); // \uD654\uBA74\uC774 \uB3CC\uC544\uAC04 \uBE44\uC728\uC744 \uC9C0\uC815\n              } else {\n                if (options.orientation) {\n                  options.orientation = null;\n                }\n              }\n              // \uCE94\uBC84\uC2A4 \uC774\uBBF8\uC9C0 \uB9AC\uC0AC\uC774\uC9D5 \uCC98\uB9AC \uD6C4 \uC11C\uBC84\uD638\uCD9C\n              loadImage(\n                file,\n                function (img) {\n                  sendImageFile(img.toDataURL());\n                },\n                options,\n              );\n            });\n          });\n        } else {\n          console.log("file upload is not supported");\n        }\n      },\n      /**\n       * [getFolder \uC5C5\uB85C\uB4DC \uACBD\uB85C \uD638\uCD9C]\n       * @return {[string]} [\uACBD\uB85C]\n       */\n      getFolder: function () {\n        return folder;\n      },\n      /**\n       * [delete \uC774\uBBF8\uC9C0 \uC0AD\uC81C]\n       * @param  {[number]}    idx          [\uC774\uBBF8\uC9C0 \uBC30\uC5F4\uC758 \uC778\uB371\uC2A4]\n       * @param {[function]}  callbackFunc  [delete \uD6C4\uCC98\uB9AC]\n       */\n      delete: function (idx, callbackFunc) {\n        if (imageArray[idx]) {\n          $.ajax({\n            url: apiPath,\n            type: "post",\n            data: {\n              type: "delete",\n              folder: folder,\n              filename: imageArray[idx],\n            },\n            dataType: "json",\n          })\n            .then(function (data) {\n              console.log("file delete success");\n              console.log(data);\n              if ($.isFunction(callbackFunc)) {\n                callbackFunc(data);\n              }\n            })\n            .catch(function (error) {\n              console.log("server file delete failed");\n              console.log(error);\n            })\n            .done(function () {\n              imageArray.splice(idx, 1);\n              $input.val("");\n              if (callback) {\n                callback(imageArray);\n              } else {\n                console.log("callback function not initialized");\n              }\n            });\n        } else {\n          console.log("delete index not defined");\n        }\n      },\n      clear: function () {\n        console.log("clear array");\n        imageArray = [];\n      },\n    };\n  })();\n  $(function () {\n    imageModule.init(\n      "fileInput",\n      function (data) {\n        var folder = imageModule.getFolder();\n        var str = "";\n        for (var i = 0, len = data.length; i < len; i++) {\n          str +=\n            \'<img src="\' +\n            folder +\n            data[i] +\n            \'" style="width:100%;height:100%;">\';\n        }\n        $("#area").html(str);\n        $("#fileData").val(JSON.stringify(data));\n      },\n      {},\n    );\n    // options, width height folder..\n    // {width:500, height:300, folder:\'/upload/board/\'}\n  });\n  // after insert into database\n  $("#area").empty();\n  $("#fileData").val("");\n  imageModule.clear();\n<\/script>\n\n<input type="file" name="imageFile" id="fileInput" />\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\uC124\uBA85",children:"\uC124\uBA85"}),"\n",(0,i.jsx)(e.p,{children:"\uCF54\uB4DC\uC591\uC774 \uB418\uAC8C \uAE34\uB370, 5-6 \uC904\uC5D0\uC11C \uC5C5\uB85C\uB4DC \uC11C\uBC84 \uCC98\uB9AC \uACBD\uB85C \uBC0F \uAE30\uBCF8 \uC5C5\uB85C\uB4DC \uD3F4\uB354\uB97C \uC9C0\uC815\uD574\uC900\uB2E4.\n9-10 \uC904\uC5D0\uC11C\uB294 \uCD5C\uB300 \uAC00\uB85C \uC138\uB85C(px)\uC744 \uC9C0\uC815\uD574\uC900\uB2E4. \uBE44\uC728\uB85C \uC904\uC5B4\uB4E4\uAE30 \uB54C\uBB38\uC5D0 \uAC71\uC815\uD558\uC9C0\uB9D0\uACE0 \uC9C0\uC815\uD558\uC790"}),"\n",(0,i.jsx)(e.p,{children:"\uC0AC\uC6A9\uBC95\uC740 169 \uC904 \uC774\uD6C4\uB97C \uBCF4\uBA74 \uB41C\uB2E4.\ncallback \uD568\uC218\uB97C \uD1B5\uD574 \uC62C\uB77C\uAC04 \uC774\uBBF8\uC9C0\uB97C \uBC14\uB85C \uBCF4\uC5EC\uC8FC\uAC8C \uCC98\uB9AC\uD560 \uC218 \uC788\uB2E4.\n184 \uC904\uBD80\uD130\uB294 db \uC640\uC758 \uD1B5\uC2E0\uC774 \uB05D\uB09C \uD6C4 \uD654\uBA74\uC744 \uCD08\uAE30\uD654\uD574\uC8FC\uB294 \uBD80\uBD84\uC774\uB2E4."}),"\n",(0,i.jsxs)(e.p,{children:["127 \uC904\uC758 ",(0,i.jsx)(e.code,{children:"imageModule.delete"})," \uD568\uC218\uB97C \uC0AC\uC6A9\uD574 \uC5C5\uB85C\uB4DC \uB41C \uC0AC\uC9C4\uC744 \uC0AD\uC81C\uD560 \uC218 \uC788\uB2E4."]}),"\n",(0,i.jsxs)(e.p,{children:["\uD604\uC7AC\uB294 ",(0,i.jsx)(e.code,{children:"api/test.php"}),"\uB85C \uC11C\uBC84\uC758 \uC5C5\uB85C\uB4DC \uCC98\uB9AC \uB85C\uC9C1\uC744 \uAD6C\uD604\uD574\uB1A8\uB294\uB370,\ntype \uC744 \uBC1B\uC544 delete \uC77C \uACBD\uC6B0 \uD574\uB2F9 \uC774\uBBF8\uC9C0\uB97C \uC0AD\uC81C,\n\uC544\uB2D0 \uACBD\uC6B0 binary \uB370\uC774\uD130\uB97C \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658\uD574\uC8FC\uAC8C \uB85C\uC9C1\uC744 \uC9DC\uBA74 \uB41C\uB2E4."]})]})}function p(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},28453(n,e,a){a.d(e,{R:()=>r,x:()=>o});var t=a(96540);let i={},l=t.createContext(i);function r(n){let e=t.useContext(l);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),t.createElement(l.Provider,{value:e},n.children)}},12974(n){n.exports=JSON.parse('{"permalink":"/en/2016/12/21/\uBE44\uB3D9\uAE30-\uC774\uBBF8\uC9C0-\uC5C5\uB85C\uB4DC-\uB9AC\uC0AC\uC774\uC9D5-\uBC0F-\uC774\uBBF8\uC9C0-\uD68C\uC804\uC744-\uD3EC\uD568","source":"@site/blog/2016/12/21/\uBE44\uB3D9\uAE30-\uC774\uBBF8\uC9C0-\uC5C5\uB85C\uB4DC-\uB9AC\uC0AC\uC774\uC9D5-\uBC0F-\uC774\uBBF8\uC9C0-\uD68C\uC804\uC744-\uD3EC\uD568.md","title":"\uBE44\uB3D9\uAE30 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC - \uB9AC\uC0AC\uC774\uC9D5 \uBC0F \uC774\uBBF8\uC9C0 \uD68C\uC804\uC744 \uD3EC\uD568","description":"\uBE44\uB3D9\uAE30 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC","date":"2016-12-21T19:28:12.000Z","tags":[{"inline":false,"label":"javascript","permalink":"/en/tags/javascript","description":"Any application that can be written in JavaScript, will eventually be written in JavaScript"},{"inline":true,"label":"html","permalink":"/en/tags/html"}],"readingTime":3.1,"hasTruncateMarker":false,"authors":[{"name":"Gracefullight","title":"Owner","url":"https://github.com/gracefullight","imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me","page":null}],"frontMatter":{"title":"\uBE44\uB3D9\uAE30 \uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC - \uB9AC\uC0AC\uC774\uC9D5 \uBC0F \uC774\uBBF8\uC9C0 \uD68C\uC804\uC744 \uD3EC\uD568","authors":"me","tags":["javascript","html"],"date":"2016-12-21T19:28:12.000Z"},"unlisted":false,"prevItem":{"title":"jQuery Validation Error Handling \uBC0F focus, target \uC124\uC815","permalink":"/en/2016/12/21/jQuery-Validation-Error-Handling-\uBC0F-focus-target-\uC124\uC815"},"nextItem":{"title":"jQuery DateTimePicker\uC640 Moment JS\uC758 \uC5F0\uB3D9","permalink":"/en/2016/12/21/jQuery-DateTimePicker\uC640-Moment-JS\uC758-\uC5F0\uB3D9"}}')}}]);