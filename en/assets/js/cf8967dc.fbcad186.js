"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["52824"],{73760(e,n,l){l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>o,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var a=l(34476),s=l(74848),i=l(28453);let t={title:"mysql, maria \uB4F1\uC758 \uC11C\uBE44\uC2A4 \uD3EC\uD2B8 \uBCC0\uACBD\uC774 \uC548 \uB420\uB54C",authors:"me",tags:["linux","selinux","mysql","mariadb"],date:new Date("2017-01-10T23:01:42.000Z")},r,d={authorsImageUrls:[void 0]},c=[{value:"\uC77C\uBC18\uC801\uC778 \uD3EC\uD2B8 \uBCC0\uACBD",id:"\uC77C\uBC18\uC801\uC778-\uD3EC\uD2B8-\uBCC0\uACBD",level:2},{value:"\uD3EC\uD2B8 \uD655\uC778",id:"\uD3EC\uD2B8-\uD655\uC778",level:3},{value:"iptable \uC218\uC815",id:"iptable-\uC218\uC815",level:3},{value:"database \uD3EC\uD2B8 \uBCC0\uACBD",id:"database-\uD3EC\uD2B8-\uBCC0\uACBD",level:3},{value:"\uC11C\uBE44\uC2A4 \uC7AC\uC2DC\uC791",id:"\uC11C\uBE44\uC2A4-\uC7AC\uC2DC\uC791",level:3},{value:"\uC6D0\uC778",id:"\uC6D0\uC778",level:2},{value:"\uB85C\uADF8 \uD655\uC778",id:"\uB85C\uADF8-\uD655\uC778",level:3},{value:"SELinux \uD655\uC778",id:"selinux-\uD655\uC778",level:3},{value:"\uD574\uACB0",id:"\uD574\uACB0",level:2},{value:"SELinux \uC124\uC815 \uD655\uC778",id:"selinux-\uC124\uC815-\uD655\uC778",level:3},{value:"SELinux\uC5D0 \uD3EC\uD2B8 \uB4F1\uB85D",id:"selinux\uC5D0-\uD3EC\uD2B8-\uB4F1\uB85D",level:3},{value:"\uD655\uC778",id:"\uD655\uC778",level:3},{value:"\uC5EC\uB2F4",id:"\uC5EC\uB2F4",level:2}];function u(e){let n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"\uC77C\uBC18\uC801\uC778-\uD3EC\uD2B8-\uBCC0\uACBD",children:"\uC77C\uBC18\uC801\uC778 \uD3EC\uD2B8 \uBCC0\uACBD"}),"\n",(0,s.jsx)(n.h3,{id:"\uD3EC\uD2B8-\uD655\uC778",children:"\uD3EC\uD2B8 \uD655\uC778"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"## grep \uB4A4\uC5D0 \uD655\uC778\uD560 \uD3EC\uD2B8\uB97C \uC801\uC73C\uBA74 \uB41C\uB2E4.\n$ netstat -lp | grep 3307\n"})}),"\n",(0,s.jsx)(n.h3,{id:"iptable-\uC218\uC815",children:"iptable \uC218\uC815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ vi /etc/sysconfig/iptables\n\n## \uD574\uB2F9 \uD3EC\uD2B8\uB97C \uBC29\uD654\uBCBD\uC5D0\uC11C \uC5F4\uC5B4\uC900\uB2E4.\n-A INPUT -p tcp -m state --state NEW -m tcp --dport 3307 -j ACCEPT\n"})}),"\n",(0,s.jsx)(n.h3,{id:"database-\uD3EC\uD2B8-\uBCC0\uACBD",children:"database \uD3EC\uD2B8 \uBCC0\uACBD"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ vi /etc/my.cnf\n\n## \uD3EC\uD2B8\uAC00 \uC124\uC815\uB418\uC788\uB294 \uBD80\uBD84\uC744 \uCC3E\uC544 \uBCC0\uACBD\uD55C\uB2E4.\nport = 3307\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uC11C\uBE44\uC2A4-\uC7AC\uC2DC\uC791",children:"\uC11C\uBE44\uC2A4 \uC7AC\uC2DC\uC791"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"service mysql restart\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\uC798 \uD588\uB294\uB370 \uC11C\uBE44\uC2A4\uAC00 \uC62C\uB77C\uAC00\uC9C0 \uC54A\uB294\uB2E4!!!"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\uC6D0\uC778",children:"\uC6D0\uC778"}),"\n",(0,s.jsx)(n.h3,{id:"\uB85C\uADF8-\uD655\uC778",children:"\uB85C\uADF8 \uD655\uC778"}),"\n",(0,s.jsx)(n.p,{children:"mysql \uC124\uCE58 \uACBD\uB85C\uB85C \uC774\uB3D9\uD558\uC5EC \uB85C\uADF8\uB97C \uC0B4\uD3B4\uBCF4\uC790."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cd /var/lib/mysql/ # basedir \uC124\uC815\uC774 \uB418\uC5B4\uC788\uB2E4\uBA74 \uD574\uB2F9\uACBD\uB85C\uB97C \uB367\uBD99\uD78C\uB2E4.\n\n$ cat {hostname}.err\n\n[ERROR] Cant start server: Bind on TCP/IP port. Got error: 13: Permission denied\n[ERROR] Do you already have another mysqld server running on port: 3307 ?\n[ERROR] Aborting\n"})}),"\n",(0,s.jsx)(n.p,{children:"\uD574\uB2F9 \uD3EC\uD2B8\uC5D0 \uAD8C\uD55C\uC774 \uC5C6\uB2E4. \uD574\uB2F9 \uD3EC\uD2B8\uB97C \uB2E4\uB978 mysqld \uC11C\uBE44\uC2A4\uAC00 \uC0AC\uC6A9\uD558\uB294\uAC00? \uB77C\uACE0 \uB85C\uADF8\uAC00 \uB0A8\uACA8\uC838\uC788\uB2E4."}),"\n",(0,s.jsx)(n.h3,{id:"selinux-\uD655\uC778",children:"SELinux \uD655\uC778"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ sestatus\n\nSELinux status: enabled\n"})}),"\n",(0,s.jsx)(n.p,{children:"\uD639\uC2DC\uB098 \uC5ED\uC2DC\uB098 SELinux\uAC00 \uD65C\uC131\uD654 \uB418\uC5B4\uC788\uB2E4.\nSELinux\uC5D0\uC11C \uD3EC\uD2B8\uAC00 \uC11C\uBE44\uC2A4\uC6A9\uC73C\uB85C \uD65C\uC131\uD654\uAC00 \uB418\uC9C0 \uC54A\uC558\uAE30 \uB54C\uBB38\uC5D0 \uACC4\uC18D \uAC70\uC808\uB2F9\uD55C \uAC83\uC774\uC600\uB2E4."}),"\n",(0,s.jsx)(n.h2,{id:"\uD574\uACB0",children:"\uD574\uACB0"}),"\n",(0,s.jsx)(n.h3,{id:"selinux-\uC124\uC815-\uD655\uC778",children:"SELinux \uC124\uC815 \uD655\uC778"}),"\n",(0,s.jsx)(n.p,{children:"semanage \uBA85\uB839\uC5B4\uB97C \uC0AC\uC6A9\uD574\uC11C \uD655\uC778\uD558\uACE0 \uBCC0\uACBD\uD560 \uC218 \uC788\uB2E4.\n\uBA85\uB839\uC5B4 \uC2E4\uD589\uC774 \uC548\uB420 \uACBD\uC6B0 policycoreutils-python \uD328\uD0A4\uC9C0\uB97C \uC124\uCE58\uD574\uC8FC\uBA74 \uB41C\uB2E4."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"## semanage \uC124\uCE58\n$ yum install -y policycoreutils-python\n\n## \uD3EC\uD2B8 \uD655\uC778\n## mysql\n$ semanage port -l | grep mysqld_port_t\n## http\n$ semanage port -l | grep http_port_t\n\nmysqld_port_t tcp 1186, 3306, 63132-63164\n"})}),"\n",(0,s.jsx)(n.p,{children:"\uBCC0\uACBD\uD558\uB824\uB294 3307 \uD3EC\uD2B8\uB294 \uB4F1\uB85D\uB418\uC5B4 \uC788\uC9C0 \uC54A\uB2E4."}),"\n",(0,s.jsx)(n.h3,{id:"selinux\uC5D0-\uD3EC\uD2B8-\uB4F1\uB85D",children:"SELinux\uC5D0 \uD3EC\uD2B8 \uB4F1\uB85D"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"semanage port -a -t mysqld_port_t -p tcp 3307\n"})}),"\n",(0,s.jsx)(n.p,{children:"\uBA85\uB839\uC5B4\uAC00 iptables\uC5D0 \uB4F1\uB85D\uD558\uB294 \uAC83\uACFC \uC720\uC0AC\uD558\uB2E4."}),"\n",(0,s.jsx)(n.h3,{id:"\uD655\uC778",children:"\uD655\uC778"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ semanage port -l | grep mysqld_port_t\n\nmysqld_port_t tcp 3307, 1186, 3306, 63132-63164\n"})}),"\n",(0,s.jsx)(n.p,{children:"\uC774\uC81C mysql restart\uB97C \uD558\uBA74 \uC815\uC0C1\uC801\uC73C\uB85C \uAD6C\uB3D9\uB41C\uB2E4."}),"\n",(0,s.jsx)(n.h2,{id:"\uC5EC\uB2F4",children:"\uC5EC\uB2F4"}),"\n",(0,s.jsx)(n.p,{children:"\uB9AC\uB205\uC2A4\uC5D0\uC11C \uC815\uC0C1\uC801\uC73C\uB85C \uC9C4\uD589\uD588\uB294\uB370 \uBB54\uAC00 \uC548\uB41C\uB2E4\uBA74 SELinux\uBD80\uD130 \uC758\uC2EC\uD574\uBCF4\uC790."})]})}function o(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},28453(e,n,l){l.d(n,{R:()=>t,x:()=>r});var a=l(96540);let s={},i=a.createContext(s);function t(e){let n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(i.Provider,{value:n},e.children)}},34476(e){e.exports=JSON.parse('{"permalink":"/en/2017/01/10/mysql-maria-\uB4F1\uC758-\uC11C\uBE44\uC2A4-\uD3EC\uD2B8-\uBCC0\uACBD\uC774-\uC548-\uB420\uB54C","source":"@site/blog/2017/01/10/mysql-maria-\uB4F1\uC758-\uC11C\uBE44\uC2A4-\uD3EC\uD2B8-\uBCC0\uACBD\uC774-\uC548-\uB420\uB54C.md","title":"mysql, maria \uB4F1\uC758 \uC11C\uBE44\uC2A4 \uD3EC\uD2B8 \uBCC0\uACBD\uC774 \uC548 \uB420\uB54C","description":"\uC77C\uBC18\uC801\uC778 \uD3EC\uD2B8 \uBCC0\uACBD","date":"2017-01-10T23:01:42.000Z","tags":[{"inline":true,"label":"linux","permalink":"/en/tags/linux"},{"inline":true,"label":"selinux","permalink":"/en/tags/selinux"},{"inline":true,"label":"mysql","permalink":"/en/tags/mysql"},{"inline":true,"label":"mariadb","permalink":"/en/tags/mariadb"}],"readingTime":1.28,"hasTruncateMarker":false,"authors":[{"name":"Gracefullight","title":"Owner","url":"https://github.com/gracefullight","imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me","page":null}],"frontMatter":{"title":"mysql, maria \uB4F1\uC758 \uC11C\uBE44\uC2A4 \uD3EC\uD2B8 \uBCC0\uACBD\uC774 \uC548 \uB420\uB54C","authors":"me","tags":["linux","selinux","mysql","mariadb"],"date":"2017-01-10T23:01:42.000Z"},"unlisted":false,"prevItem":{"title":"\uB0B4\uBD80 \uC544\uC774\uD53C \uC0AC\uC6A9 \uB610\uB294 \uC218\uB3D9 \uB124\uD2B8\uC6CC\uD06C \uC124\uC815\uC2DC \uC624\uB958","permalink":"/en/2017/01/11/\uB0B4\uBD80-\uC544\uC774\uD53C-\uC0AC\uC6A9-\uB610\uB294-\uC218\uB3D9-\uB124\uD2B8\uC6CC\uD06C-\uC124\uC815\uC2DC-\uC624\uB958"},"nextItem":{"title":"Temporary failure in name resolution, \uC77C\uC2DC\uC801\uC778 \uC2E4\uD328","permalink":"/en/2017/01/10/Temporary-failure-in-name-resolution-\uC77C\uC2DC\uC801\uC778-\uC2E4\uD328"}}')}}]);