"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[64991],{82269:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>o});var l=i(52676),t=i(56448);const r={title:"Pythonic - \ud578\ub4e4\ub9c1",authors:"me",tags:["python"],date:new Date("2020-01-27T18:38:10.000Z")},s="Handling",d={permalink:"/en/2020/01/27/Pythonic-handling",source:"@site/blog/2020/01/27/Pythonic-handling.md",title:"Pythonic - \ud578\ub4e4\ub9c1",description:"\ud30c\uc77c",date:"2020-01-27T18:38:10.000Z",tags:[{inline:!0,label:"python",permalink:"/en/tags/python"}],readingTime:3.69,hasTruncateMarker:!1,authors:[{name:"Gracefullight",title:"Owner",url:"https://github.com/gracefullight",imageURL:"https://avatars.githubusercontent.com/u/11773683?v=4",key:"me"}],frontMatter:{title:"Pythonic - \ud578\ub4e4\ub9c1",authors:"me",tags:["python"],date:"2020-01-27T18:38:10.000Z"},unlisted:!1,prevItem:{title:"Workbox5 \ubc84\uc804\uc758 \uc8fc\uc694 \ubcc0\uacbd\uc0ac\ud56d",permalink:"/en/2020/02/02/Workbox5-breaking-changes"},nextItem:{title:"\ucfe0\ubc84\ub124\ud2f0\uc2a4 \ub9ac\ub205\uc2a4 \ucee4\ub110 \ud29c\ub2dd\ud558\uae30",permalink:"/en/2020/01/24/k8s-linux-kernel-tuning"}},c={authorsImageUrls:[void 0]},o=[{value:"\ud30c\uc77c",id:"\ud30c\uc77c",level:2},{value:"\ud30c\uc77c \ud655\uc778",id:"\ud30c\uc77c-\ud655\uc778",level:3},{value:"\ud30c\uc77c \uc81c\uc5b4",id:"\ud30c\uc77c-\uc81c\uc5b4",level:3},{value:"\ud3f4\ub354 \uc81c\uc5b4",id:"\ud3f4\ub354-\uc81c\uc5b4",level:3},{value:"CSV",id:"csv",level:3},{value:"\uc784\uc2dc\ud30c\uc77c",id:"\uc784\uc2dc\ud30c\uc77c",level:3},{value:"\uc555\ucd95",id:"\uc555\ucd95",level:2},{value:"tar",id:"tar",level:3},{value:"zip",id:"zip",level:3},{value:"ini",id:"ini",level:3},{value:"yaml",id:"yaml",level:3},{value:"\ub85c\uae45",id:"\ub85c\uae45",level:2},{value:"\ub85c\uae45 \ud578\ub4e4\ub7ec",id:"\ub85c\uae45-\ud578\ub4e4\ub7ec",level:3},{value:"\ub85c\uae45 \ud544\ud130",id:"\ub85c\uae45-\ud544\ud130",level:3},{value:"\uba54\uc77c",id:"\uba54\uc77c",level:2},{value:"\uc11c\ube0c\ud504\ub85c\uc138\uc2a4",id:"\uc11c\ube0c\ud504\ub85c\uc138\uc2a4",level:2},{value:"\ucee4\ub9e8\ub4dc \uccb4\uc774\ub2dd",id:"\ucee4\ub9e8\ub4dc-\uccb4\uc774\ub2dd",level:2},{value:"\ucee4\ub9e8\ub4dc \ud30c\uc2f1",id:"\ucee4\ub9e8\ub4dc-\ud30c\uc2f1",level:2},{value:"\ucd08\uae30\ud654",id:"\ucd08\uae30\ud654",level:2},{value:"\uc5f0\uc0b0",id:"\uc5f0\uc0b0",level:2}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"\ud30c\uc77c",children:"\ud30c\uc77c"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["File pointer \uc5ec\ub294 \ubc95\uc740 ",(0,l.jsx)(e.code,{children:"f.open(\u2018test.txt\u2019, \u2018w\u2019)"})]}),"\n",(0,l.jsx)(e.li,{children:"\uc774 \uacbd\uc6b0 f.write \ud6c4\uc5d0 f.close \ud574\uc918\uc57c\ud55c\ub2e4."}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"with"})," \uc0ac\uc6a9\uc2dc close \ub97c \uc0dd\uac01\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub41c\ub2e4."]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"with"})," \uad6c\ubb38\uc5d0\uc11c \uc120\uc5b8\ub41c \ubcc0\uc218\ub294 \ubc14\uae65\uc5d0\uc11c \uc0ac\uc6a9\uac00\ub2a5"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"f.seek(5)"})," \ucc98\ub7fc \uc704\uce58\ub85c \uc774\ub3d9 \uac00\ub2a5\ud558\ub2e4."]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"string.Template"})," \uacfc \ud568\uaed8 \ubdf0 \ud30c\uc77c\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"# \uc608\uc2dc 1\nwith open('test.txt', 'w') as f:\n    f.write('Test')\n\n# \uc608\uc2dc 2\nwith open('test.txt', 'r') as f:\n    # print(f.read())\n    while True:\n        chunk = 2\n        line = f.read(chunk)\n        print(line)\n\n        if not line:\n        reak\n\n# \uc608\uc2dc 3\n# w+ \ub85c \uc5f4\uba74 \ud30c\uc77c\uc774 \ucd08\uae30\ud654 \ub428\nwith open('test.txt', 'w+') as f:\n    f.write(s)\n    # \uc4f0\uae30 \ud6c4\uc5d0 \uc77d\uae30\uc704\ud574 0\ubc88\uc9f8\ub85c \uc774\ub3d9\n    f.seek(0)\n    print(f.read())\n\n# \uc608\uc2dc 4\nimport string\n\nwith open('view/mail.tpl', 'r') as f:\n    t = string.Template(f.read())\n\n# $name, $contents\ncontents = t.substitute(name='gracefullight', contents='Thanks')\nprint(contents)\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\ud30c\uc77c-\ud655\uc778",children:"\ud30c\uc77c \ud655\uc778"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"os.path.exsists"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"os.path.isfile"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"os.path.isdir"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\ud30c\uc77c-\uc81c\uc5b4",children:"\ud30c\uc77c \uc81c\uc5b4"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"os.rename"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"os.symlink"}),": \uc2ec\ubcfc\ub9ad"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"shutil.copy"}),": \ubcf5\uc0ac"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"pathlib.Path('TouchFilePath').touch()"}),": \ud130\uce58 \ud30c\uc77c"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\ud3f4\ub354-\uc81c\uc5b4",children:"\ud3f4\ub354 \uc81c\uc5b4"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"os.mkdir"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"os.rmdir"}),": \ube48 \ub514\ub809\ud1a0\ub9ac\ub9cc \uac00\ub2a5"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"shutil.retree"}),": recursive"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"csv",children:"CSV"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"csv.DictWriter"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"csv.DictReader"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\uc784\uc2dc\ud30c\uc77c",children:"\uc784\uc2dc\ud30c\uc77c"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"import tempfile\n\n# \uc0ad\uc81c \ub428\nwith tempfile.TemporaryFile(mode='w+') as t:\n    t.write('hello')\n\n# \uc0ad\uc81c \uc548 \ub428\nwith tempfile.NamedTemporaryFile(delete=False) as t:\n    # print(t.name)\n    with open(t.name, 'w+') as f:\n        f.write('hello')\n\n\n# \uc0ad\uc81c\ub418\ub294 \ub514\ub809\ud1a0\ub9ac\nwith tempfile.TemporaryDirectory() as td:\n    print(td)\n\n# \uc0ad\uc81c \uc548 \ub418\ub294 \ub514\ub809\ud1a0\ub9ac\ntemp_dir = tempfile.mkdtemp()\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\uc555\ucd95",children:"\uc555\ucd95"}),"\n",(0,l.jsx)(e.h3,{id:"tar",children:"tar"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"import tarfile\n\nwith tarfile.open('test.tar.gz', 'w:gz') as tr:\n    tr.add('dir')\n\nwith tarfile.open('test.tar.gz', 'r:gz') as tr:\n    tr.extractall(path='dir')\n\n    with tr.extractfile('tarball') as f:\n        print(f.read())\n"})}),"\n",(0,l.jsx)(e.h3,{id:"zip",children:"zip"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"import zipfile\n\nwith zipfile.ZipFile('test.zip', 'w') as z:\n    # \ud558\ub098\uc758 \ud3f4\ub354\ub9cc \uac00\ub2a5\n    z.write('dir')\n\n    # \ud558\uc704 \uc804\uccb4 \uc555\ucd95\n    for f in glob.glob('dir/**', recursive=True):\n        z.write(f)\n"})}),"\n",(0,l.jsx)(e.h3,{id:"ini",children:"ini"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"configparser.ConfigParser()"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"yaml",children:"yaml"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"pip install pyyaml"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\ub85c\uae45",children:"\ub85c\uae45"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"logging.critical"}),"\n",(0,l.jsx)(e.li,{children:"error"}),"\n",(0,l.jsx)(e.li,{children:"warning"}),"\n",(0,l.jsx)(e.li,{children:"info"}),"\n",(0,l.jsx)(e.li,{children:"debug"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"import logging\n\n# basicConfig \uc5d0 format \uc744 \uc815\uc758 \uac00\ub2a5\n# doc \ud655\uc778\nlogging.basicConfig(filename='test.log', level=logging.INFO)\nlogging.info('info %s %s', 'test', 'test2') # === logging.info('info {}'.format('test')\n\n# \ud574\ub2f9 \ud30c\uc77c\uc5d0\uc11c \ub85c\uadf8\uba85 \uc7ac\uc815\uc758\nlogger = logging.getLogger(__name__)\n\n# \ub85c\uadf8 \ub808\ubca8 \uc7ac\uc815\uc758\nlogger.setLevel(logging.DEBUG)\n\n# \uc804\uccb4 \uc124\uc815 \ubcc0\uacbd\nlogging.config.fileConfig(...)\nlogging.config.dictConfig(...)\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\ub85c\uae45-\ud578\ub4e4\ub7ec",children:"\ub85c\uae45 \ud578\ub4e4\ub7ec"}),"\n",(0,l.jsxs)(e.p,{children:["\uc5ec\ub7ec \ud578\ub4e4\ub7ec\ub97c \uc27d\uac8c \ubd99\ud790 \uc218 \uc788\ub2e4. ",(0,l.jsx)(e.a,{href:"https://docs.python.org/ko/3/library/logging.handlers.html",children:"\ubb38\uc11c"})]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"handler = logging.FileHandler(...)"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"logger.addHandler(handler)"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\ub85c\uae45-\ud544\ud130",children:"\ub85c\uae45 \ud544\ud130"}),"\n",(0,l.jsxs)(e.p,{children:["\ub85c\uadf8\uc758 \ucd9c\ub825\uc744 \ud544\ud130\ub97c \uc0ac\uc6a9\ud574 \uc27d\uac8c \uac00\uacf5 \uac00\ub2a5\ud558\ub2e4. ",(0,l.jsx)(e.a,{href:"https://docs.python.org/ko/3/howto/logging-cookbook.html",children:"\ubb38\uc11c"})]}),"\n",(0,l.jsx)(e.h2,{id:"\uba54\uc77c",children:"\uba54\uc77c"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"smtplib.SMTP"})," \uc640 ",(0,l.jsx)(e.code,{children:"from email import message"})," \ud328\ud0a4\uc9c0\ub85c \uac00\ub2a5\ud558\ub2e4."]}),"\n",(0,l.jsxs)(e.li,{children:["\ud30c\uc77c \ucca8\ubd80\ub294 email.mime \uc758 multipart\uc640 text \ud328\ud0a4\uc9c0\ub85c \uac00\ub2a5\ud558\ub2e4.","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\ud30c\uc77c \ucd94\uac00 \uc2dc\uc5d0\ub294 \ud5e4\ub354\ub97c ",(0,l.jsx)(e.code,{children:"Content-Disposition: attachment"}),"\ub85c \uc918\uc57c\ud55c\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"logger.handelrs.SMTPHandler"})," \ub85c \uba54\uc77c\ub85c \ub85c\uadf8\ub97c \ubc1b\uc744 \uc218 \uc788\ub2e4."]}),"\n"]}),"\n",(0,l.jsx)(e.h1,{id:"\uc258",children:"\uc258"}),"\n",(0,l.jsx)(e.h2,{id:"\uc11c\ube0c\ud504\ub85c\uc138\uc2a4",children:"\uc11c\ube0c\ud504\ub85c\uc138\uc2a4"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"import subprocess\n\nsubprocess.run(['ls', '-al'])\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\ucee4\ub9e8\ub4dc-\uccb4\uc774\ub2dd",children:"\ucee4\ub9e8\ub4dc \uccb4\uc774\ub2dd"}),"\n",(0,l.jsx)(e.p,{children:"\uc5ec\ub7ec \ucee4\ub9e8\ub4dc\ub97c \ud55c \ubc88\uc5d0 \uc2e4\ud589\uc2dc\ud0ac \uacbd\uc6b0 \uc778\uc81d\uc158 \ubc29\uc5b4\ub97c \uc704\ud574 \ub2e4\uc74c\uacfc \uac19\uc774 \ucc98\ub9ac\ud558\ub294 \uac83\uc774 \uc88b\ub2e4."}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"process1 = subprocess.Popen(['ls', '-al'], stdout=subprocess.PIPE)\nprocess2 = subprocess.Popen(['grep' , 'test'], stdin=p1.stdout, stdout=subprocess.PIPE)\nprocess1.stdout.close()\n\noutput = process2.communicate()[0]\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\ucee4\ub9e8\ub4dc-\ud30c\uc2f1",children:"\ucee4\ub9e8\ub4dc \ud30c\uc2f1"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.a,{href:"https://docs.python.org/ko/3/library/argparse.html",children:"argparse"}),"\ub97c \uc0ac\uc6a9\ud558\uc790."]}),"\n",(0,l.jsx)(e.h1,{id:"\ub0a0\uc9dc",children:"\ub0a0\uc9dc"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\ud30c\uc774\uc36c\uc5d0\ub294 \ub0a0\uc9dc\ub97c timestamp \ub85c \ubcc0\ud658\ud574 \ucd9c\ub825\ud558\ub294 \uae30\ub2a5\uc740 \uc5c6\ub2e4."}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\ucd08\uae30\ud654",children:"\ucd08\uae30\ud654"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"import datetime\nimport time\n\n\nnow = datetime.datetime.now()\nprint(now)\nprint(now.isoformat())\nprint(now.strftime('%Y-%m-%d %H:%M:%S.%f'))\n\n# \ub0a0\uc9dc\ub9cc\ntoday = datetime.date.today()\nprint(today) # 2020-02-02\nprint(today.isoformat()) # 2020-02-02\nprint(today.strftime('%Y-%m-%d'))\n\n# \uc2dc\uac04\ub9cc\nt = datetime.time(hour=1, minute=10, second=5, microsecond=100)\nprint(t) # 01:10:05.000100\nprint(t.isoformat()) # 01:10:05.000100\nprint(t.strftime('%H:%M:%S')) # 01:10:05\n\n# timestamp\nprint(time.time()) # 1580617313.843047\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\uc5f0\uc0b0",children:"\uc5f0\uc0b0"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-py",children:"now = datetime.datetime.now()\nprint(now)\n\nd = datetime.timedelta(weeks=1)\nprint(now - d)\n"})})]})}function h(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}},56448:(n,e,i)=>{i.d(e,{Z:()=>d,a:()=>s});var l=i(75271);const t={},r=l.createContext(t);function s(n){const e=l.useContext(r);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);