"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[84912],{49613:(e,n,a)=>{a.d(n,{Zo:()=>m,kt:()=>d});var t=a(59496);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function l(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?l(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function i(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=t.createContext({}),p=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},m=function(e){var n=p(e.components);return t.createElement(s.Provider,{value:n},e.children)},c="mdxType",b={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=p(a),u=r,d=c["".concat(s,".").concat(u)]||c[u]||b[u]||l;return a?t.createElement(d,o(o({ref:n},m),{},{components:a})):t.createElement(d,o({ref:n},m))}));function d(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=u;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},94722:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>b,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var t=a(31966),r=(a(59496),a(49613));const l={title:"Javascript\ub85c \ub85c\uceec\uc5d0 \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc",authors:"me",tags:["javascript"],date:new Date("2017-01-16T21:57:31.000Z")},o=void 0,i={permalink:"/en/2017/01/16/javascript\ub85c-\ub85c\uceec\uc5d0-\uc774\ubbf8\uc9c0-\ub2e4\uc6b4\ub85c\ub4dc",source:"@site/blog/2017/01/16/javascript\ub85c-\ub85c\uceec\uc5d0-\uc774\ubbf8\uc9c0-\ub2e4\uc6b4\ub85c\ub4dc.md",title:"Javascript\ub85c \ub85c\uceec\uc5d0 \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc",description:"\ubc84\ud2bc\uc744 \ub20c\ub7ec \uc774\ubbf8\uc9c0\ub97c \ub2e4\uc6b4\ub85c\ub4dc \ubc1b\uace0 \uc2f6\ub2e4\uba74 \uc5b4\ub5bb\uac8c \ud574\uc57c\ub420\uae4c?",date:"2017-01-16T21:57:31.000Z",formattedDate:"January 16, 2017",tags:[{label:"javascript",permalink:"/en/tags/javascript"}],readingTime:3.39,hasTruncateMarker:!1,authors:[{name:"Gracefullight",title:"Owner",url:"https://github.com/gracefullight",imageURL:"https://avatars.githubusercontent.com/u/11773683?v=4",key:"me"}],frontMatter:{title:"Javascript\ub85c \ub85c\uceec\uc5d0 \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc",authors:"me",tags:["javascript"],date:"2017-01-16T21:57:31.000Z"},prevItem:{title:"Vimeo Upload API - 1. Vimeo Developers",permalink:"/en/2017/01/16/Vimeo-Upload-API-1-Vimeo-Developers"},nextItem:{title:"XML-RPC\ub97c \ud65c\uc6a9\ud55c \ub124\uc774\ubc84 \ube14\ub85c\uadf8 \uae00\uc4f0\uae30 API",permalink:"/en/2017/01/15/XML-RPC\ub97c-\ud65c\uc6a9\ud55c-\ub124\uc774\ubc84-\ube14\ub85c\uadf8-\uae00\uc4f0\uae30-API"}},s={authorsImageUrls:[void 0]},p=[{value:"base64",id:"base64",level:2},{value:"blob",id:"blob",level:2},{value:"msSaveOrOpenBlob",id:"mssaveoropenblob",level:2},{value:"Blob \uc7ac\uc0ac\uc6a9",id:"blob-\uc7ac\uc0ac\uc6a9",level:2}],m={toc:p},c="wrapper";function b(e){let{components:n,...a}=e;return(0,r.kt)(c,(0,t.Z)({},m,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\ubc84\ud2bc\uc744 \ub20c\ub7ec \uc774\ubbf8\uc9c0\ub97c ",(0,r.kt)("strong",{parentName:"p"},"\ub2e4\uc6b4\ub85c\ub4dc")," \ubc1b\uace0 \uc2f6\ub2e4\uba74 \uc5b4\ub5bb\uac8c \ud574\uc57c\ub420\uae4c?\nClient Side \uc5d0\uc11c \ud560 \uc218 \uc788\ub294 \uac00\uc7a5 \uc26c\uc6b4 \ubc29\ubc95\uc740 ",(0,r.kt)("a",{parentName:"p",href:"https://www.w3schools.com/TAgs/att_a_download.asp"},"download attribute"),"\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774\ub2e4.\n\ud558\uc9c0\ub9cc \uc608\uc0c1\ud588\ub4ef\uc774 \uc774 \uc18d\uc131\uc740 IE \uc5d0\uc11c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294\ub2e4."),(0,r.kt)("h1",{id:"for-ie"},"For IE"),(0,r.kt)("h2",{id:"base64"},"base64"),(0,r.kt)("p",null,"\uba3c\uc800 \uc774\ubbf8\uc9c0\ub97c base64 \uc778\ucf54\ub529\ud574\uc57c\ud55c\ub2e4.\nFileReader \ub610\ub294 Canvas \ub97c \uc774\uc6a9\ud574 \ubcc0\ud658\ud560 \uc218 \uc788\ub294\ub370 ",(0,r.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript"},"stackoverflow \uc758 \uba85\ucf8c\ud55c \ub2f5\ubcc0"),"\uc744 \ucc38\uc870\ud558\uc790.\njQuery \ud658\uacbd\uc774\ub77c\uba74 ",(0,r.kt)("a",{parentName:"p",href:"http://www.henryalgus.com/reading-binary-files-using-jquery-ajax/"},"Reading binary data using jquery ajax"),"\ub97c \ucc38\uc870\ud574\ub3c4 \ub41c\ub2e4."),(0,r.kt)("p",null,"base64encode \uac00 \ub41c \uc774\ubbf8\uc9c0 \ub370\uc774\ud130\uac00 \ubf51\uc544\uc9c0\uba74 \uc2dc\uc791\ud560 \uc218 \uc788\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADN0lEQVR42u3aQY7CMBAEQP7/afaKtEu2exwk4lROKITEZSQGT/vxiI/ny/H7zOv513ffXZl89viad6M6+cDGxsa+CDsZUP5uMqx3d8gntB3nH1ODjY2NvR373S/88TUtMuG1E5qMExsbGxv7eChJUTl+4nP5wMbGxsZu2UlbJy9RyQS1SxpsbGzsu7FXCkPeTkoihGTQeUPqhF4aNjY29tez81T0+19/JN/GxsbG/mL2rHEzi2OTxc968BwpsLGxsTdiz0Lc/I9+voBprzwhhMbGxsbeiN1S2xvNWkuzZtD6aLGxsbGvxW4f0BaqtpU/C4/bhRA2Njb2TuwkTF0ZVn4+/+zKJEb7lbCxsbG3YM9aRe0CJo8NkivzFhU2Njb2ruwW3/71r0vL6FnDXUvY2NjYl2XPAto8mm0LUrIImcUG2NjY2Luy1xv6eTCwMomzAlZPEzY2NvbF2ceDWIld82XJSjjRbsfExsbG3om9EgbkDak2GM5L6bApho2Njb0F+/imeclJWj/t61nwEBU2bGxs7I3Yn2vifKLN1MKKxQk2Njb2ZdlnFYzZ9bMG00rbCxsbG/sO7Lw13261zIvlMXVW5B7tDGFjY2NvwZ4lpDmpLYenXYmNjY29ETv5u5+XkDYYaFtL7ZKm2KmEjY2NfVl2u10mWYS009q2hNoC9scZbGxs7I3YM+SsjJ3V0lqZ3MfKd4uNjY39lexk6Hlkm4fHs40+7dacomhhY2Njb8TOi1MeCZw7oflER1t2sLGxsS/Onq1d2hC3XYq0japZCIGNjY29K7u9Xds8WmlU5SWwiH6xsbGxt2DnP/dthNBS12FFScPGxsbelN02aNrFRh4tzJ5SbO7BxsbGvgE7Aa8EACvlc6X9hI2Njb0T+1keySBmm3jy0Le92z9JCDY2NvbF2W0BOLfwHJ9vW0v1UgQbGxt7I3ZStFbKTLKMab+TZFH0T+SAjY2NvR07b7vP4ti2TK5MSvRcbGxs7Nuz2wfnT1nZalncBxsbG/vG7PWtlmdt5VlpimFjY2Pvx06aRHlBarfs5O3+9ut5u/rAxsbG3og9W1TkxWYWP7T3zBtV2NjY2BuxfwBOAYaS/PUQNQAAAABJRU5ErkJggg==\n")),(0,r.kt)("h2",{id:"blob"},"blob"),(0,r.kt)("p",null,"\uc774\uc81c \uc774\ubbf8\uc9c0 \ub370\uc774\ud130\ub97c Blob Object \ub85c \ubcc0\ud658\ud574\uc57c\ud55c\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// imageSrc\ub294 \uc704\uc758 \uc774\ubbf8\uc9c0 \ub370\uc774\ud130\uc774\ub2e4.\n// \uc2e4\uc81c \ub370\uc774\ud130\ub294 iVBO...\ubd80\ud130\uc774\ubbc0\ub85c split\ud55c\ub2e4.\nvar imgData = atob(imageSrc.split(",")[1]);\nvar len = imgData.length;\nvar buf = new ArrayBuffer(len); // \ube44\ud2b8\ub97c \ub2f4\uc744 \ubc84\ud37c\ub97c \ub9cc\ub4e0\ub2e4.\nvar view = new Uint8Array(buf); // \ubc84\ud37c\ub97c 8bit Unsigned Int\ub85c \ub2f4\ub294\ub2e4.\nvar blob, i;\n\nfor (i = 0; i < len; i++) {\n  view[i] = imgData.charCodeAt(i) & 0xff; // \ube44\ud2b8 \ub9c8\uc2a4\ud0b9\uc744 \ud1b5\ud574 msb\ub97c \ubcf4\ud638\ud55c\ub2e4.\n}\n// Blob \uac1d\uccb4\ub97c image/png \ud0c0\uc785\uc73c\ub85c \uc0dd\uc131\ud55c\ub2e4. (application/octet-stream\ub3c4 \uac00\ub2a5)\nblob = new Blob([view], { type: "image/png" });\n')),(0,r.kt)("h2",{id:"mssaveoropenblob"},"msSaveOrOpenBlob"),(0,r.kt)("p",null,"IE10+ \uc5d0\uc11c \uc0ac\uc6a9\uac00\ub2a5\ud55c ",(0,r.kt)("a",{parentName:"p",href:"https://msdn.microsoft.com/ko-kr/library/hh779016.aspx"},"msSaveOrOpenBlob"),"\uac00 \ud544\uc694\ud558\ub2e4."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"msSaveBlob \uba54\uc11c\ub4dc\ub294 ",(0,r.kt)("strong",{parentName:"p"},"\uc800\uc7a5")," \ub2e8\ucd94\ub9cc \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc81c\uacf5\ud558\ub294 \ubc18\uba74\nmsSaveOrOpenBlob \uba54\uc18c\ub4dc\ub294 ",(0,r.kt)("strong",{parentName:"p"},"\uc800\uc7a5 \ubc0f \uc5f4\uae30")," \ub2e8\ucd94\ub97c \ubaa8\ub450 \uc81c\uacf5\ud55c\ub2e4\ub294 \uac83\uc774 \ucc28\uc774\uc810\uc774\ub2e4.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// blob\uacfc \uc800\uc7a5\ub420 \ud30c\uc77c\uba85\uc744 \ubc1b\ub294\ub2e4.\nwindow.navigator.msSaveOrOpenBlob(blob, "new_file_name.png");\n')),(0,r.kt)("h1",{id:"not-ie"},"Not IE"),(0,r.kt)("p",null,"IE \uac00 \uc138\uc0c1\uc5d0 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294\ub2e4\uba74 \ucf54\ub4dc\ub294 \uc544\uc8fc \uc608\uc058\uac8c \uc9e4 \uc218 \uc788\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<a href="data:image/png;base64,iVBORw0KG..." download="new_file_name.png">\n  <img src="data:image/png;base64,iVBORw0KG..." />\n</a>\n')),(0,r.kt)("p",null,"a \ud0dc\uadf8\uac00 \ubcf4\uae30 \uc2eb\ub2e4\uba74 \uc544\ub798 \uad6c\ubb38\uc744 \ud3ec\ud568\ud574 \ud568\uc218\ub85c \ub9cc\ub4e0\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var a = document.createElement("a");\na.style = "display: none";\na.href = img.src;\na.download = "new_file_name.png";\n\ndocument.body.appendChild(a);\na.click();\n\nsetTimeout(function () {\n  // \ub2e4\uc6b4\ub85c\ub4dc\uac00 \uc548\ub418\ub294 \uacbd\uc6b0 \ubc29\uc9c0\n  document.body.removeChild(a);\n}, 100);\n')),(0,r.kt)("h2",{id:"blob-\uc7ac\uc0ac\uc6a9"},"Blob \uc7ac\uc0ac\uc6a9"),(0,r.kt)("p",null,"IE \ub54c\ubb38\uc5d0 \ub9cc\ub4e4\uc5c8\ub358 Blob \uac1d\uccb4\ub97c URL \uae30\ub2a5\uc744 \uc774\uc6a9\ud574 \uc7ac\uc0ac\uc6a9\ud574\ubcf4\uc790."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var url = URL.createObjectURL(blob);\nvar a = document.createElement("a");\na.style = "display: none";\na.href = url;\na.download = "new_file_name.png";\n\ndocument.body.appendChild(a);\na.click();\n\nsetTimeout(function () {\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url); // \uba54\ubaa8\ub9ac \ud574\uc81c\n}, 100);\n')),(0,r.kt)("h1",{id:"\uc18c\uc2a4"},"\uc18c\uc2a4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'/**\n * [downloadImage]\n * @param  {[string]} img       [base64encoded image data]\n * @param  {[string]} fileName  [new file name]\n * @return [image file]\n */\nfunction downloadImage(img, fileName) {\n  var imgData = atob(img.src.split(",")[1]),\n    len = imgData.length,\n    buf = new ArrayBuffer(len),\n    view = new Uint8Array(buf),\n    blob,\n    i;\n\n  for (i = 0; i < len; i++) {\n    view[i] = imgData.charCodeAt(i) & 0xff; // masking\n  }\n\n  blob = new Blob([view], {\n    type: "application/octet-stream",\n  });\n\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(blob, fileName);\n  } else {\n    //var url = URL.createObjectURL(blob);\n    var a = document.createElement("a");\n    a.style = "display: none";\n    //a.href = url;\n    a.href = img.src;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n\n    setTimeout(function () {\n      document.body.removeChild(a);\n      //URL.revokeObjectURL(url);\n    }, 100);\n  }\n}\n')),(0,r.kt)("h1",{id:"\uc5ec\ub2f4"},"\uc5ec\ub2f4"),(0,r.kt)("p",null,"![image from hexo]","(",(0,r.kt)("a",{parentName:"p",href:"https://i.imgur.com/36Rf76J.gif"},"https://i.imgur.com/36Rf76J.gif"),' title:"\uc2e4\ub9dd\uc2dc\ud0a4\uc9c0 \uc54a\ub294 IE")'))}b.isMDXComponent=!0}}]);