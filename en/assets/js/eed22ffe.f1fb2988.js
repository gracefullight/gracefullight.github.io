"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["9597"],{21643(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>b,frontMatter:()=>s,metadata:()=>t,toc:()=>c});var t=a(24626),i=a(74848),l=a(28453);let s={title:"Javascript\uB85C \uB85C\uCEEC\uC5D0 \uC774\uBBF8\uC9C0 \uB2E4\uC6B4\uB85C\uB4DC",authors:"me",tags:["javascript"],date:new Date("2017-01-16T21:57:31.000Z")},r,o={authorsImageUrls:[void 0]},c=[{value:"For IE",id:"for-ie",level:3},{value:"base64",id:"base64",level:4},{value:"blob",id:"blob",level:4},{value:"msSaveOrOpenBlob",id:"mssaveoropenblob",level:4},{value:"Not IE",id:"not-ie",level:3},{value:"Blob \uC7AC\uC0AC\uC6A9",id:"blob-\uC7AC\uC0AC\uC6A9",level:4},{value:"\uC18C\uC2A4",id:"\uC18C\uC2A4",level:3},{value:"\uC5EC\uB2F4",id:"\uC5EC\uB2F4",level:3}];function d(e){let n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["\uBC84\uD2BC\uC744 \uB20C\uB7EC \uC774\uBBF8\uC9C0\uB97C ",(0,i.jsx)(n.strong,{children:"\uB2E4\uC6B4\uB85C\uB4DC"})," \uBC1B\uACE0 \uC2F6\uB2E4\uBA74 \uC5B4\uB5BB\uAC8C \uD574\uC57C\uB420\uAE4C?\nClient Side \uC5D0\uC11C \uD560 \uC218 \uC788\uB294 \uAC00\uC7A5 \uC26C\uC6B4 \uBC29\uBC95\uC740 ",(0,i.jsx)(n.a,{href:"https://www.w3schools.com/TAgs/att_a_download.asp",children:"download attribute"}),"\uB97C \uC0AC\uC6A9\uD558\uB294 \uAC83\uC774\uB2E4.\n\uD558\uC9C0\uB9CC \uC608\uC0C1\uD588\uB4EF\uC774 \uC774 \uC18D\uC131\uC740 IE \uC5D0\uC11C \uC9C0\uC6D0\uD558\uC9C0 \uC54A\uB294\uB2E4."]}),"\n",(0,i.jsx)(n.h3,{id:"for-ie",children:"For IE"}),"\n",(0,i.jsx)(n.h4,{id:"base64",children:"base64"}),"\n",(0,i.jsxs)(n.p,{children:["\uBA3C\uC800 \uC774\uBBF8\uC9C0\uB97C base64 \uC778\uCF54\uB529\uD574\uC57C\uD55C\uB2E4.\nFileReader \uB610\uB294 Canvas \uB97C \uC774\uC6A9\uD574 \uBCC0\uD658\uD560 \uC218 \uC788\uB294\uB370 ",(0,i.jsx)(n.a,{href:"https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript",children:"stackoverflow \uC758 \uBA85\uCF8C\uD55C \uB2F5\uBCC0"}),"\uC744 \uCC38\uC870\uD558\uC790.\njQuery \uD658\uACBD\uC774\uB77C\uBA74 ",(0,i.jsx)(n.a,{href:"http://www.henryalgus.com/reading-binary-files-using-jquery-ajax/",children:"Reading binary data using jquery ajax"}),"\uB97C \uCC38\uC870\uD574\uB3C4 \uB41C\uB2E4."]}),"\n",(0,i.jsx)(n.p,{children:"base64encode \uAC00 \uB41C \uC774\uBBF8\uC9C0 \uB370\uC774\uD130\uAC00 \uBF51\uC544\uC9C0\uBA74 \uC2DC\uC791\uD560 \uC218 \uC788\uB2E4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADN0lEQVR42u3aQY7CMBAEQP7/afaKtEu2exwk4lROKITEZSQGT/vxiI/ny/H7zOv513ffXZl89viad6M6+cDGxsa+CDsZUP5uMqx3d8gntB3nH1ODjY2NvR373S/88TUtMuG1E5qMExsbGxv7eChJUTl+4nP5wMbGxsZu2UlbJy9RyQS1SxpsbGzsu7FXCkPeTkoihGTQeUPqhF4aNjY29tez81T0+19/JN/GxsbG/mL2rHEzi2OTxc968BwpsLGxsTdiz0Lc/I9+voBprzwhhMbGxsbeiN1S2xvNWkuzZtD6aLGxsbGvxW4f0BaqtpU/C4/bhRA2Njb2TuwkTF0ZVn4+/+zKJEb7lbCxsbG3YM9aRe0CJo8NkivzFhU2Njb2ruwW3/71r0vL6FnDXUvY2NjYl2XPAto8mm0LUrIImcUG2NjY2Luy1xv6eTCwMomzAlZPEzY2NvbF2ceDWIld82XJSjjRbsfExsbG3om9EgbkDak2GM5L6bApho2Njb0F+/imeclJWj/t61nwEBU2bGxs7I3Yn2vifKLN1MKKxQk2Njb2ZdlnFYzZ9bMG00rbCxsbG/sO7Lw13261zIvlMXVW5B7tDGFjY2NvwZ4lpDmpLYenXYmNjY29ETv5u5+XkDYYaFtL7ZKm2KmEjY2NfVl2u10mWYS009q2hNoC9scZbGxs7I3YM+SsjJ3V0lqZ3MfKd4uNjY39lexk6Hlkm4fHs40+7dacomhhY2Njb8TOi1MeCZw7oflER1t2sLGxsS/Onq1d2hC3XYq0japZCIGNjY29K7u9Xds8WmlU5SWwiH6xsbGxt2DnP/dthNBS12FFScPGxsbelN02aNrFRh4tzJ5SbO7BxsbGvgE7Aa8EACvlc6X9hI2Njb0T+1keySBmm3jy0Le92z9JCDY2NvbF2W0BOLfwHJ9vW0v1UgQbGxt7I3ZStFbKTLKMab+TZFH0T+SAjY2NvR07b7vP4ti2TK5MSvRcbGxs7Nuz2wfnT1nZalncBxsbG/vG7PWtlmdt5VlpimFjY2Pvx06aRHlBarfs5O3+9ut5u/rAxsbG3og9W1TkxWYWP7T3zBtV2NjY2BuxfwBOAYaS/PUQNQAAAABJRU5ErkJggg==\n"})}),"\n",(0,i.jsx)(n.h4,{id:"blob",children:"blob"}),"\n",(0,i.jsx)(n.p,{children:"\uC774\uC81C \uC774\uBBF8\uC9C0 \uB370\uC774\uD130\uB97C Blob Object \uB85C \uBCC0\uD658\uD574\uC57C\uD55C\uB2E4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// imageSrc\uB294 \uC704\uC758 \uC774\uBBF8\uC9C0 \uB370\uC774\uD130\uC774\uB2E4.\n// \uC2E4\uC81C \uB370\uC774\uD130\uB294 iVBO...\uBD80\uD130\uC774\uBBC0\uB85C split\uD55C\uB2E4.\nconst imgData = atob(imageSrc.split(",")[1]);\nconst len = imgData.length;\nconst buf = new ArrayBuffer(len); // \uBE44\uD2B8\uB97C \uB2F4\uC744 \uBC84\uD37C\uB97C \uB9CC\uB4E0\uB2E4.\nconst view = new Uint8Array(buf); // \uBC84\uD37C\uB97C 8bit Unsigned Int\uB85C \uB2F4\uB294\uB2E4.\nlet blob, i;\n\nfor (i = 0; i < len; i++) {\n  view[i] = imgData.charCodeAt(i) & 0xff; // \uBE44\uD2B8 \uB9C8\uC2A4\uD0B9\uC744 \uD1B5\uD574 msb\uB97C \uBCF4\uD638\uD55C\uB2E4.\n}\n// Blob \uAC1D\uCCB4\uB97C image/png \uD0C0\uC785\uC73C\uB85C \uC0DD\uC131\uD55C\uB2E4. (application/octet-stream\uB3C4 \uAC00\uB2A5)\nblob = new Blob([view], { type: "image/png" });\n'})}),"\n",(0,i.jsx)(n.h4,{id:"mssaveoropenblob",children:"msSaveOrOpenBlob"}),"\n",(0,i.jsxs)(n.p,{children:["IE10+ \uC5D0\uC11C \uC0AC\uC6A9\uAC00\uB2A5\uD55C ",(0,i.jsx)(n.a,{href:"https://msdn.microsoft.com/ko-kr/library/hh779016.aspx",children:"msSaveOrOpenBlob"}),"\uAC00 \uD544\uC694\uD558\uB2E4."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["msSaveBlob \uBA54\uC11C\uB4DC\uB294 ",(0,i.jsx)(n.strong,{children:"\uC800\uC7A5"})," \uB2E8\uCD94\uB9CC \uC0AC\uC6A9\uC790\uC5D0\uAC8C \uC81C\uACF5\uD558\uB294 \uBC18\uBA74\nmsSaveOrOpenBlob \uBA54\uC18C\uB4DC\uB294 ",(0,i.jsx)(n.strong,{children:"\uC800\uC7A5 \uBC0F \uC5F4\uAE30"})," \uB2E8\uCD94\uB97C \uBAA8\uB450 \uC81C\uACF5\uD55C\uB2E4\uB294 \uAC83\uC774 \uCC28\uC774\uC810\uC774\uB2E4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// blob\uACFC \uC800\uC7A5\uB420 \uD30C\uC77C\uBA85\uC744 \uBC1B\uB294\uB2E4.\nwindow.navigator.msSaveOrOpenBlob(blob, "new_file_name.png");\n'})}),"\n",(0,i.jsx)(n.h3,{id:"not-ie",children:"Not IE"}),"\n",(0,i.jsx)(n.p,{children:"IE \uAC00 \uC138\uC0C1\uC5D0 \uC874\uC7AC\uD558\uC9C0 \uC54A\uB294\uB2E4\uBA74 \uCF54\uB4DC\uB294 \uC544\uC8FC \uC608\uC058\uAC8C \uC9E4 \uC218 \uC788\uB2E4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<a href="data:image/png;base64,iVBORw0KG..." download="new_file_name.png">\n  <img src="data:image/png;base64,iVBORw0KG..." />\n</a>\n'})}),"\n",(0,i.jsx)(n.p,{children:"a \uD0DC\uADF8\uAC00 \uBCF4\uAE30 \uC2EB\uB2E4\uBA74 \uC544\uB798 \uAD6C\uBB38\uC744 \uD3EC\uD568\uD574 \uD568\uC218\uB85C \uB9CC\uB4E0\uB2E4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'const a = document.createElement("a");\na.style = "display: none";\na.href = img.src;\na.download = "new_file_name.png";\n\ndocument.body.appendChild(a);\na.click();\n\nsetTimeout(function () {\n  // \uB2E4\uC6B4\uB85C\uB4DC\uAC00 \uC548\uB418\uB294 \uACBD\uC6B0 \uBC29\uC9C0\n  document.body.removeChild(a);\n}, 100);\n'})}),"\n",(0,i.jsx)(n.h4,{id:"blob-\uC7AC\uC0AC\uC6A9",children:"Blob \uC7AC\uC0AC\uC6A9"}),"\n",(0,i.jsx)(n.p,{children:"IE \uB54C\uBB38\uC5D0 \uB9CC\uB4E4\uC5C8\uB358 Blob \uAC1D\uCCB4\uB97C URL \uAE30\uB2A5\uC744 \uC774\uC6A9\uD574 \uC7AC\uC0AC\uC6A9\uD574\uBCF4\uC790."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'const url = URL.createObjectURL(blob);\nconst a = document.createElement("a");\na.style = "display: none";\na.href = url;\na.download = "new_file_name.png";\n\ndocument.body.appendChild(a);\na.click();\n\nsetTimeout(function () {\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url); // \uBA54\uBAA8\uB9AC \uD574\uC81C\n}, 100);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uC18C\uC2A4",children:"\uC18C\uC2A4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'/**\n * [downloadImage]\n * @param  {[string]} img       [base64encoded image data]\n * @param  {[string]} fileName  [new file name]\n * @return [image file]\n */\nfunction downloadImage(img, fileName) {\n  let imgData = atob(img.src.split(",")[1]),\n    len = imgData.length,\n    buf = new ArrayBuffer(len),\n    view = new Uint8Array(buf),\n    blob,\n    i;\n\n  for (i = 0; i < len; i++) {\n    view[i] = imgData.charCodeAt(i) & 0xff; // masking\n  }\n\n  blob = new Blob([view], {\n    type: "application/octet-stream",\n  });\n\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(blob, fileName);\n  } else {\n    //var url = URL.createObjectURL(blob);\n    const a = document.createElement("a");\n    a.style = "display: none";\n    //a.href = url;\n    a.href = img.src;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n\n    setTimeout(function () {\n      document.body.removeChild(a);\n      //URL.revokeObjectURL(url);\n    }, 100);\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uC5EC\uB2F4",children:"\uC5EC\uB2F4"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/36Rf76J.gif",alt:"image from hexo"})})]})}function b(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453(e,n,a){a.d(n,{R:()=>s,x:()=>r});var t=a(96540);let i={},l=t.createContext(i);function s(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(l.Provider,{value:n},e.children)}},24626(e){e.exports=JSON.parse('{"permalink":"/en/2017/01/16/javascript\uB85C-\uB85C\uCEEC\uC5D0-\uC774\uBBF8\uC9C0-\uB2E4\uC6B4\uB85C\uB4DC","source":"@site/blog/2017/01/16/javascript\uB85C-\uB85C\uCEEC\uC5D0-\uC774\uBBF8\uC9C0-\uB2E4\uC6B4\uB85C\uB4DC.md","title":"Javascript\uB85C \uB85C\uCEEC\uC5D0 \uC774\uBBF8\uC9C0 \uB2E4\uC6B4\uB85C\uB4DC","description":"\uBC84\uD2BC\uC744 \uB20C\uB7EC \uC774\uBBF8\uC9C0\uB97C \uB2E4\uC6B4\uB85C\uB4DC \uBC1B\uACE0 \uC2F6\uB2E4\uBA74 \uC5B4\uB5BB\uAC8C \uD574\uC57C\uB420\uAE4C?","date":"2017-01-16T21:57:31.000Z","tags":[{"inline":false,"label":"javascript","permalink":"/en/tags/javascript","description":"Any application that can be written in JavaScript, will eventually be written in JavaScript"}],"readingTime":2.3,"hasTruncateMarker":false,"authors":[{"name":"Gracefullight","title":"Owner","url":"https://github.com/gracefullight","imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me","page":null}],"frontMatter":{"title":"Javascript\uB85C \uB85C\uCEEC\uC5D0 \uC774\uBBF8\uC9C0 \uB2E4\uC6B4\uB85C\uB4DC","authors":"me","tags":["javascript"],"date":"2017-01-16T21:57:31.000Z"},"unlisted":false,"prevItem":{"title":"Vimeo Upload API - 1. Vimeo Developers","permalink":"/en/2017/01/16/Vimeo-Upload-API-1-Vimeo-Developers"},"nextItem":{"title":"XML-RPC\uB97C \uD65C\uC6A9\uD55C \uB124\uC774\uBC84 \uBE14\uB85C\uADF8 \uAE00\uC4F0\uAE30 API","permalink":"/en/2017/01/15/XML-RPC\uB97C-\uD65C\uC6A9\uD55C-\uB124\uC774\uBC84-\uBE14\uB85C\uADF8-\uAE00\uC4F0\uAE30-API"}}')}}]);