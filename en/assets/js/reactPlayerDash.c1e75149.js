"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["74280"],{31011:function(e,t,i){i.r(t),i.d(t,{default:()=>h});var n=i(59729),o=i(41934),a=i(90913);class r extends(0,a.u6)(o.lB){static shadowRootOptions={...o.lB.shadowRootOptions};static getTemplateHTML=e=>{let{src:t,...i}=e;return o.lB.getTemplateHTML(i)};#e;attributeChangedCallback(e,t,i){"src"!==e&&super.attributeChangedCallback(e,t,i),"src"===e&&t!=i&&this.load()}async load(){if(this.#e)return void this.api.attachSource(this.src);this.#e=!0;let e=await i.e("73149").then(i.bind(i,28652));this.api=e.MediaPlayer().create(),this.api.initialize(this.nativeEl,this.src,this.autoplay),this.api.on(e.MediaPlayer.events.STREAM_INITIALIZED,()=>{let e=this.api.getRepresentationsByType("video"),t=this.videoTracks.getTrackById("main");t||((t=this.addVideoTrack("main")).id="main",t.selected=!0),e.forEach(e=>{let i=e.bandwidth??e.bitrate??(Number.isFinite(e.bitrateInKbit)?1e3*e.bitrateInKbit:void 0);t.addRendition(e.id,e.width,e.height,e.mimeType??e.codec,i).id=e.id}),this.videoRenditions.addEventListener("change",()=>{let e=this.videoRenditions[this.videoRenditions.selectedIndex];(null==e?void 0:e.id)?(this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.api.setRepresentationForTypeById("video",e.id,!0)):this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})})})}}globalThis.customElements&&!globalThis.customElements.get("dash-video")&&globalThis.customElements.define("dash-video",r);var s=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),l={className:"class",htmlFor:"for"};function d(e){return e.toLowerCase()}function u(e){return"boolean"==typeof e?e?"":void 0:"function"==typeof e?void 0:"object"!=typeof e||null===e?e:void 0}function c(e,t,i){var n;e[t]=i,null==i&&t in((null==(n=globalThis.HTMLElement)?void 0:n.prototype)??{})&&e.removeAttribute(t)}var h=function({react:e,tagName:t,elementClass:i,events:n,displayName:o,defaultProps:a,toAttributeName:r=d,toAttributeValue:h=u}){let p=Number.parseInt(e.version)>=19,f=e.forwardRef((o,d)=>{var f,v;let m=e.useRef(null),b=e.useRef(new Map),g={},y={},T={},w={};for(let[e,t]of Object.entries(o)){if(s.has(e)){T[e]=t;continue}let n=r(l[e]??e);if(i.prototype&&e in i.prototype&&!(e in((null==(f=globalThis.HTMLElement)?void 0:f.prototype)??{}))&&!(null==(v=i.observedAttributes)?void 0:v.some(e=>e===n))){w[e]=t;continue}if(e.startsWith("on")){g[e]=t;continue}let o=h(t);n&&null!=o&&(y[n]=String(o),p||(T[n]=o)),n&&p&&(o!==u(t)?T[n]=o:T[n]=t)}if("undefined"!=typeof window){for(let t in g){let i=g[t],o=t.endsWith("Capture"),a=((null==n?void 0:n[t])??t.slice(2).toLowerCase()).slice(0,o?-7:void 0);e.useLayoutEffect(()=>{let e=null==m?void 0:m.current;if(e&&"function"==typeof i)return e.addEventListener(a,i,o),()=>{e.removeEventListener(a,i,o)}},[null==m?void 0:m.current,i])}e.useLayoutEffect(()=>{if(null===m.current)return;let e=new Map;for(let t in w)c(m.current,t,w[t]),b.current.delete(t),e.set(t,w[t]);for(let[e,t]of b.current)c(m.current,e,void 0);b.current=e})}if("undefined"==typeof window&&(null==i?void 0:i.getTemplateHTML)&&(null==i?void 0:i.shadowRootOptions)){let{mode:t,delegatesFocus:n}=i.shadowRootOptions;T.children=[e.createElement("template",{shadowrootmode:t,shadowrootdelegatesfocus:n,dangerouslySetInnerHTML:{__html:i.getTemplateHTML(y,o)}}),T.children]}return e.createElement(t,{...a,...T,ref:e.useCallback(e=>{m.current=e,"function"==typeof d?d(e):null!==d&&(d.current=e)},[d])})});return f.displayName=o??i.name,f}({react:n,tagName:"dash-video",elementClass:r,toAttributeName:e=>"muted"===e?"":"defaultMuted"===e?"muted":d(e)})}}]);