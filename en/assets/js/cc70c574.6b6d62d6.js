"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[5734],{78839:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>a,frontMatter:()=>l,metadata:()=>d,toc:()=>h});var r=i(52676),s=i(56448);const l={title:"Dockerfile\uc758 \ubaa8\ub4e0 \uac83",authors:"me",tags:["k8s","docker"],date:new Date("2020-01-13T22:36:44.000Z")},c=void 0,d={permalink:"/en/2020/01/13/Dockerfile\uc758-\ubaa8\ub4e0-\uac83",source:"@site/blog/2020/01/13/Dockerfile\uc758-\ubaa8\ub4e0-\uac83.md",title:"Dockerfile\uc758 \ubaa8\ub4e0 \uac83",description:"\uc778\uc2a4\ud2b8\ub7ed\uc158",date:"2020-01-13T22:36:44.000Z",tags:[{inline:!0,label:"k8s",permalink:"/en/tags/k-8-s"},{inline:!0,label:"docker",permalink:"/en/tags/docker"}],readingTime:6.73,hasTruncateMarker:!1,authors:[{name:"Gracefullight",title:"Owner",url:"https://github.com/gracefullight",imageURL:"https://avatars.githubusercontent.com/u/11773683?v=4",key:"me",page:null}],frontMatter:{title:"Dockerfile\uc758 \ubaa8\ub4e0 \uac83",authors:"me",tags:["k8s","docker"],date:"2020-01-13T22:36:44.000Z"},unlisted:!1,prevItem:{title:"\uc11c\ube44\uc2a4\uc6cc\ucee4\ub85c POST Request \uce90\uc2f1\ud558\uae30",permalink:"/en/2020/01/16/Serviceworker-cache-POST-requests"},nextItem:{title:"\ucfe0\ubc84\ub124\ud2f0\uc2a4 \ub85c\uadf8 \uc544\ud0a4\ud14d\uccd0",permalink:"/en/2020/01/01/kubernetes-log-architecture"}},t={authorsImageUrls:[void 0]},h=[{value:"\uc778\uc2a4\ud2b8\ub7ed\uc158",id:"\uc778\uc2a4\ud2b8\ub7ed\uc158",level:2},{value:"\uc774\ubbf8\uc9c0",id:"\uc774\ubbf8\uc9c0",level:2},{value:"\ub9b0\ud305",id:"\ub9b0\ud305",level:3},{value:"\uae30\ubc18 \uc774\ubbf8\uc9c0",id:"\uae30\ubc18-\uc774\ubbf8\uc9c0",level:3},{value:"\uba40\ud2f0\uc2a4\ud14c\uc774\uc9c0 \ube4c\ub4dc",id:"\uba40\ud2f0\uc2a4\ud14c\uc774\uc9c0-\ube4c\ub4dc",level:3},{value:"distroless \uc774\ubbf8\uc9c0",id:"distroless-\uc774\ubbf8\uc9c0",level:3},{value:"chucksum \uac80\uc99d",id:"chucksum-\uac80\uc99d",level:3},{value:"dockerigonore",id:"dockerigonore",level:3},{value:"\uc774\ubbf8\uc9c0 \ud14c\uc2a4\ud2b8",id:"\uc774\ubbf8\uc9c0-\ud14c\uc2a4\ud2b8",level:3},{value:"\uc774\ubbf8\uc9c0 \ubcf4\uc548",id:"\uc774\ubbf8\uc9c0-\ubcf4\uc548",level:3},{value:"user",id:"user",level:4},{value:"secret",id:"secret",level:4},{value:"dockerd \ud29c\ub2dd",id:"dockerd-\ud29c\ub2dd",level:2},{value:"private registry",id:"private-registry",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\uc778\uc2a4\ud2b8\ub7ed\uc158",children:"\uc778\uc2a4\ud2b8\ub7ed\uc158"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"FROM"}),": \ube4c\ub4dc\ud558\ub294 \uc774\ubbf8\uc9c0\uc758 \uae30\ubc18 \uc774\ubbf8\uc9c0 \uc9c0\uc815"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RUN"}),": \uc774\ubbf8\uc9c0 \ube4c\ub4dc \uc2dc \ucee8\ud14c\uc774\ub108\uc5d0\uc11c \uc2e4\ud589\ud560 \uba85\ub839\uc5b4 \uc815\uc758"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"COPY"}),": \ud638\uc2a4\ud2b8\uc5d0\uc11c \ucee8\ud14c\uc774\ub108\ub85c \ud30c\uc77c \ubc0f \ub514\ub809\ud1a0\ub9ac \ubcf5\uc0ac"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ADD"}),": COPY + \uc555\ucd95 \ud574\uc81c + URL \ub2e4\uc6b4\ub85c\ub4dc","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uc6b4\uc601 \uccb4\uc81c\ub97c \ub2f4\uc740 \uae30\ubc18 \uc774\ubbf8\uc9c0\ub97c \ub9cc\ub4dc\ub294 \uacbd\uc6b0\ucc98\ub7fc \ud2b9\uc218\ud55c \uacbd\uc6b0\uc5d0\ub9cc \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"\uc548\uc815\uc131 \ubcf4\uc7a5\uc774 \ub418\uc9c0 \uc54a\uc73c\ubbc0\ub85c COPY \ub97c \uc0ac\uc6a9\ud558\uc790."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CMD"}),": \ucee8\ud14c\uc774\ub108\uc5d0\uc11c foreground\ub85c \uc2e4\ud589\ud560 \uba85\ub839\uc5b4 \uc815\uc758"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ENTRYPOINT"}),": \ucee8\ud14c\uc774\ub108\ub97c \uc2e4\ud589 \uac00\ub2a5 \ud30c\uc77c\ub85c \uc0ac\uc6a9\ud560 \ub54c \uc815\uc758\ud558\ub294 \uba85\ub839","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CMD \uc640 ENTRYPOINT \ub458 \ub2e4 \uc0ac\uc6a9 \uac00\ub2a5"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ARG"}),": docker image build\ub97c \uc2e4\ud589\ud560 \ub54c \uc0ac\uc6a9\ud558\ub294 \ubcc0\uc218"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ENV"}),": \ucee8\ud14c\uc774\ub108 \uc548\uc758 \ud658\uacbd\ubcc0\uc218 \uc815\uc758"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"EXPOSE"}),": \ucee8\ud14c\uc774\ub108\uac00 \ub178\ucd9c\ud558\ub294 \ud3ec\ud2b8"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VOLUME"}),": \ud638\uc2a4\ud2b8\ub098 \ub2e4\ub978 \ucee8\ud14c\uc774\ub108\uc5d0\uc11c \ub9c8\uc6b4\ud2b8\ud560 \uc218 \uc788\ub294 \ud3ec\uc778\ud2b8 \uc0dd\uc131"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LABEL"}),": \uc774\ubbf8\uc9c0\uc5d0 \ucd94\uac00\ud558\ub294 \uba54\ud0c0\ub370\uc774\ud130"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"STOPSIGNAL"}),": \ucee8\ud14c\uc774\ub108\uc5d0 \uc804\ub2ec\ub418\uba74 \ucee8\ud14c\uc774\ub108\ub97c \uc885\ub8cc\ud558\ub294 \uc2dc\uc2a4\ud15c \uc2dc\uadf8\ub110 \uc124\uc815"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HEALTHCHECK"}),": \ucee8\ud14c\uc774\ub108 \uc548\uc5d0\uc11c \uba85\ub839\uc744 \uc2e4\ud589 \ud6c4 \uacb0\uacfc\ub97c \ud5ec\uc2a4 \uccb4\ud06c\uc5d0 \uc0ac\uc6a9"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"USER"}),": \ucee8\ud14c\uc774\ub108 \uc2e4\ud589 \uc2dc \ucee8\ud14c\uc774\ub108 \uc0ac\uc6a9\uc790","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uc774\ubbf8\uc9c0 \ube4c\ub4dc\uc2dc USER \ub4a4\uc5d0 \ub098\uc624\ub294 RUN \uc778\uc2a4\ud2b8\ub7ed\uc158\ub3c4 \ud574\ub2f9 \uc0ac\uc6a9\uc790\uc758 \uad8c\ud55c\uc73c\ub85c \uc2e4\ud589\ub41c\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"WORKDIR"}),": \ucee8\ud14c\uc774\ub108\uc758 \uc791\uc5c5 \ub514\ub809\ud1a0\ub9ac"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ONBUILD"}),": \ucee8\ud14c\uc774\ub108 \uc548\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \uba85\ub839 \uc815\uc758, \uc774\ubbf8\uc9c0\uc5d0\uc11c \uc2e4\ud589\ub418\uc9c0 \uc54a\ub294\ub2e4.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ONBUILD \ub97c \uc815\uc758\ud55c \uc774\ubbf8\uc9c0\ub97c \uae30\ubc18 \uc774\ubbf8\uc9c0\ub85c \uc0bc\uc544 \ub2e4\ub978 \uc774\ubbf8\uc9c0\ub97c \ube4c\ub4dc\ud560 \ub54c \uc2e4\ud589\ub41c\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\uc774\ubbf8\uc9c0",children:"\uc774\ubbf8\uc9c0"}),"\n",(0,r.jsx)(n.h3,{id:"\ub9b0\ud305",children:"\ub9b0\ud305"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/hadolint/hadolint",children:"hadolint"})," \ub97c \uc124\uce58\ud574 ",(0,r.jsx)(n.a,{href:"https://docs.docker.com/develop/develop-images/dockerfile_best-practices/",children:"Dockerfile best practices"})," \uc5d0 \uae30\ubc18\ud574 \uc774\ubbf8\uc9c0\ub97c \uc0dd\uc131\ud588\ub294\uc9c0 \uac80\uc99d\ud558\uc790."]}),"\n",(0,r.jsx)(n.h3,{id:"\uae30\ubc18-\uc774\ubbf8\uc9c0",children:"\uae30\ubc18 \uc774\ubbf8\uc9c0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["scratch: \uc544\ubb34 \uac83\ub3c4 \uc5c6\ub294 \uc774\ubbf8\uc9c0","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"https \ud1b5\uc2e0\uc774 \ud544\uc694\ud55c \uacbd\uc6b0 cacert.pem \uc744 /etc/ssl/certs \uc5d0 \ucd94\uac00\ud574\uc57c\ud55c\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"\ub514\ubc84\uae45\ub3c4 \ud798\ub4e4\ub2e4"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["busybox: \uae30\ubcf8 \uc720\ud2f8\ub9ac\ud2f0 (echo, ls \ub4f1) \uc774 \uc788\ub294 \uc774\ubbf8\uc9c0","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\ud328\ud0a4\uc9c0 \uad00\ub9ac\uc790\uac00 \uc5c6\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"\ub514\ubc84\uae45\uc740 \uc880 \ub0ab\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["alpine: busybox \uae30\ubc18\uc73c\ub85c 4MB \uc9c0\ub9cc ",(0,r.jsx)(n.code,{children:"apk"})," \ud328\ud0a4\uc9c0 \ub9e4\ub2c8\uc800\uac00 \uc788\ub2e4.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"glibc"})," \ub300\uc2e0 ",(0,r.jsx)(n.code,{children:"musl"}),"\uc744 \uc4f4\ub2e4."]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"apk add --no-cache package"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"apk add --no-cache --virtual=ailas package"})," && ",(0,r.jsx)(n.code,{children:"apk del --no-cache ailas"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\uba40\ud2f0\uc2a4\ud14c\uc774\uc9c0-\ube4c\ub4dc",children:"\uba40\ud2f0\uc2a4\ud14c\uc774\uc9c0 \ube4c\ub4dc"}),"\n",(0,r.jsx)(n.p,{children:"golang\uacfc \uac19\uc740 \ube4c\ub4dc\uac00 \ud544\uc694\ud55c \uc774\ubbf8\uc9c0\uc5d0\uc11c\ub294 \uba40\ud2f0\uc2a4\ud14c\uc774\uc9c0 \ube4c\ub4dc\ub97c \uc774\uc6a9\ud574 \ube4c\ub4dc \ud658\uacbd\uacfc \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc744 \ub2e4\ub974\uac8c \uac00\uc838\uac08 \uc218 \uc788\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:'FROM golang:1.9 AS build\n\nWORKDIR /\nCOPY . /go/src/github.com/...\nRUN go get gokpg.in/gorp.v1\nRUN cd /go/src/github.com/... && go build -o bin/start main.go\n\nFROM alpine:3.7\nCOPY --from=build /go/src/.../bin/start /usr/local/bin/\nCMD ["start"]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"distroless-\uc774\ubbf8\uc9c0",children:"distroless \uc774\ubbf8\uc9c0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uc6b4\uc601\uccb4\uc81c \uae30\ub2a5\uc740 \uc5c6\uc774 \uc5b8\uc5b4\uc5d0 \uc911\uc810\uc744 \ub454 \uc774\ubbf8\uc9c0\uc774\ub2e4."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/GoogleContainerTools/distroless",children:"distroless"})," \uc5d0\uc11c \ud655\uc778 \uac00\ub2a5\ud558\uba70 \uc8fc\ub85c \uad6c\uae00\uc774 \ubc30\ud3ec\ud55c\ub2e4."]}),"\n",(0,r.jsx)(n.li,{children:"gcr.io/distroless/base \uc774\ubbf8\uc9c0\ub294 glibc \uae30\ubc18\uc774\uba70 \ucef4\ud30c\uc77c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc2e4\ud589\ud558\ub294 \ub370\uc5d0 \uc801\ud569\ud558\ub2e4. (Go)"}),"\n",(0,r.jsx)(n.li,{children:"ca-certificates \ubc0f TLS/SSL \uad00\ub828 \ub77c\uc774\ube0c\ub7ec\ub9ac \ub4f1 \ucd5c\uc18c\ud55c\uc758 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub9cc \uc788\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"CVE \ucde8\uc57d\uc810\ub3c4 \uc5c5\ub370\uc774\ud2b8 \ub41c\ub2e4\uace0 \ud55c\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:'FROM node:10.17.0 AS build-env\nADD . /app\nWORKDIR /app\n\nFROM gcr.io/distroless/nodejs\nCOPY --from=build-env /app /app\nWORKDIR /app\nCMD ["hello.js"]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"chucksum-\uac80\uc99d",children:"chucksum \uac80\uc99d"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ADD"})," \uc778\uc2a4\ud2b8\ub7ed\uc158\uc73c\ub85c \ucd94\uac00 \ub41c \ud30c\uc77c\uc740 \ud574\uc2dc\uae30\ubc18 \uccb4\ud06c\uc12c \uac80\uc99d\uc744 \ud574\uc8fc\ub294 \uac83\uc774 \uc88b\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"ADD library.zip .\nADD library_SHA256 .\nADD library_SHA256.sig .\n\n## Import PGP public key\nRUN curl https://.../pgp_keys.asc | gpg --import\n\n## \ub77c\uc774\ube0c\ub7ec\ub9ac \uc804\uc790 \uc11c\uba85 \uac80\uc99d\nRUN gpg --verify library_SHA256.sig library_SHA256\n\n## Verify checksum\nRUN cat library_SHA256 | grep linux_amd64 | sha256sum -cs\nRUN unzip libary.zip\nRUN mv library /usr/local/bin\n## \uc2e4\ud589\n"})}),"\n",(0,r.jsx)(n.h3,{id:"dockerigonore",children:"dockerigonore"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Dockerfile \ube4c\ub4dc \uc2dc\uc5d0 \ub530\ub77c \ub4e4\uc5b4\uac00\uc9c0 \uc54a\uac8c \ub41c\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"Dockerfile \uacfc \uac19\uc740 \ub808\ubca8 \ub514\ub809\ud1a0\ub9ac\uc5d0 \uc788\uc5b4\uc57c\ud55c\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",metastring:'title=".dockerignore"',children:".git\n.idea\n.vscode\n.github\n*.log\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uc774\ubbf8\uc9c0-\ud14c\uc2a4\ud2b8",children:"\uc774\ubbf8\uc9c0 \ud14c\uc2a4\ud2b8"}),"\n",(0,r.jsx)(n.p,{children:"\ube4c\ub4dc \ud6c4\uc758 \uc774\ubbf8\uc9c0 \ub0b4\ubd80\uc5d0 \uc0c1\ud0dc\uac00 \uc801\uc808\ud55c\uc9c0 \ud14c\uc2a4\ud2b8\ud558\uae30 \uc704\ud574 \uc544\ub798 \ub450 \uac00\uc9c0 yaml \uae30\ubc18\uc758 \ud14c\uc2a4\ud2b8 \ud234\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/GoogleContainerTools/container-structure-test",children:"container-structure-test"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/aelsabbahy/goss",children:"goss"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \uc911 ",(0,r.jsx)(n.strong,{children:"goss"}),"\ub294 \uc2e4\uc81c \ud3ec\ud2b8 \ubc0f \uc11c\ube44\uc2a4\uac00 \uc11c\ube59 \uc911\uc778\uc9c0 \ud655\uc778\uc774 \uac00\ub2a5\ud574 \ub354 \uc720\uc6a9\ud560 \uac83\uc73c\ub85c \ubcf4\uc778\ub2e4."]}),"\n",(0,r.jsx)(n.h3,{id:"\uc774\ubbf8\uc9c0-\ubcf4\uc548",children:"\uc774\ubbf8\uc9c0 \ubcf4\uc548"}),"\n",(0,r.jsx)(n.h4,{id:"user",children:"user"}),"\n",(0,r.jsxs)(n.p,{children:["\ud638\uc2a4\ud2b8\uc758 \ub9ac\uc18c\uc2a4\ub97c \ucee8\ud14c\uc774\ub108\uc5d0\uc11c \uacf5\uc720\ud558\ub294 Docker\ub294 \uc0ac\uc6a9\uc790 UID\ub3c4 0\uc73c\ub85c \uac19\uc774 \uacf5\uc720\ub418\ubbc0\ub85c \uac19\uc740 \uad8c\ud55c\uc744 \uac16\uac8c \ub41c\ub2e4.\n\uc774 \ubb38\uc81c\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574 ",(0,r.jsx)(n.code,{children:"useradd"})," \ub85c \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc2e4\ud589 \uc720\uc800\ub97c \ub9cc\ub4e4\uc5b4 \uc8fc\uace0 ",(0,r.jsx)(n.code,{children:"USER"})," \uc778\uc2a4\ud2b8\ub7ed\uc158\uc744 \uc0ac\uc6a9\ud574 \uc2e4\ud589\uc744 \ud574\uc918\uc57c\ud55c\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:'FROM golang:1.10\n\nRUN mkdir /app\nCOPY main.go /app\n\nRUN useradd gracefullight\nUSER gracefullight\n\nCMD ["go", "RUN", "/app/main.go"]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"secret",children:"secret"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.vaultproject.io/docs/install/",children:"Vault"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"dockerd-\ud29c\ub2dd",children:"dockerd \ud29c\ub2dd"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["max-concurrent-downloads: \uae30\ubcf8\uac12\uc740 3\uc774\uba70, ",(0,r.jsx)(n.code,{children:"docker image pull"})," \ub85c \ud55c \ubc88\uc5d0 \ub2e4\uc6b4\ub85c\ub4dc \ub418\ub294 \uc774\ubbf8\uc9c0 \uc2a4\ub808\ub4dc \uc218\ub97c \uc99d\uac00\uc2dc\ucf1c\uc900\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:["max-concurrent-uploads: \uae30\ubcf8\uac12\uc740 5\uc774\uba70, ",(0,r.jsx)(n.code,{children:"docker image push"})," \uc2dc\uc5d0 \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \uc2a4\ub808\ub4dc \uc218\ub97c \uc99d\uac00\uc2dc\ucf1c\uc900\ub2e4."]}),"\n",(0,r.jsx)(n.li,{children:"registry-mirrors: Docker hub\uc758 \ubbf8\ub7ec \ub808\uc9c0\uc2a4\ud2b8\ub9ac\ub97c \ub9cc\ub4e4\uc5b4 \ud2b8\ub798\ud53d \ud5a5\uc0c1\uc5d0 \uc774\uc810\uc744 \uc904 \uc218 \uc788\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"private-registry",children:"private registry"}),"\n",(0,r.jsx)(n.p,{children:"\ube60\ub978 \uc774\ubbf8\uc9c0 \ud478\uc26c/\ud480\uacfc \uc18c\uc2a4 \ub54c\ubb38\uc774\ub77c\ub3c4 private registry \ub294 \ud544\uc218\uc801\uc774\ub2e4.\ndocker \uc5d0\uc11c \uc81c\uacf5\ud558\ub294 registry \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:"GUI \uae30\ubc18\uc73c\ub85c \ud655\uc778\ud560 \uc218 \uc788\ub294 \ud234\uc740 \uc544\ub798\uc640 \uac19\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/goharbor/harbor",children:"Harbor"}),": \ud504\ub77c\uc774\ube57 \ub808\ud3ec\uc9c0\ud1a0\ub9ac\ub97c \uc704\ud55c \ubaa8\ub4e0 \uae30\ub2a5\uc774 \ub2e4 \uc788\ub2e4. \uc4f0\uc790."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/SUSE/Portus",children:"Portus"}),": \uc778\uc99d \ud3ec\ud568, \ud558\uc9c0\ub9cc \ub8e8\ube44\ub77c \uc18c\uc2a4 \uac1c\uc120\uc774 \ud798\ub4e4\ub4ef"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/Joxit/docker-registry-ui",children:"docker-registry-ui"}),": 20\ub144 \ucd5c\uadfc\uae4c\uc9c0 \uac1c\uc120 \uc911"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},56448:(e,n,i)=>{i.d(n,{Z:()=>d,a:()=>c});var r=i(75271);const s={},l=r.createContext(s);function c(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);