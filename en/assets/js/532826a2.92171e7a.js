"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["14393"],{20086(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var a=t(54956),r=t(74848),o=t(28453);let i={title:"Workbox5 \uBC84\uC804\uC758 \uC8FC\uC694 \uBCC0\uACBD\uC0AC\uD56D",authors:"me",tags:["javascript","pwa","serviceworker","workbox"],date:new Date("2020-02-02T16:47:22.000Z")},s,l={authorsImageUrls:[void 0]},c=[{value:"Workbox5 \uBC84\uC804",id:"workbox5-\uBC84\uC804",level:2},{value:"injectManifest",id:"injectmanifest",level:3},{value:"NavigationRoute",id:"navigationroute",level:3},{value:"BroadcastChannel",id:"broadcastchannel",level:3}];function d(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"workbox5-\uBC84\uC804",children:"Workbox5 \uBC84\uC804"}),"\n",(0,r.jsxs)(n.p,{children:["\uC798 \uB3CC\uB358 ",(0,r.jsx)(n.code,{children:"workbox-cli"})," \uAC00 5\uBC84\uC804 \uB9B4\uB9AC\uC988 \uD6C4\uBD80\uD130 \uB3CC\uC9C0 \uC54A\uC544\uC11C \uD655\uC778\uD574\uBCF4\uC558\uB2E4.\n\uC804\uCCB4 \uBB38\uC11C\uB294 ",(0,r.jsx)(n.a,{href:"https://developers.google.com/web/tools/workbox/guides/migrations/migrate-from-v4",children:"\uC5EC\uAE30"}),"\uC11C \uD655\uC778 \uAC00\uB2A5\uD558\uB2E4."]}),"\n",(0,r.jsx)(n.h3,{id:"injectmanifest",children:"injectManifest"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"self.__WB_MANIFEST"})," \uB97C \uC8FC\uC785\uBC1B\uB294 \uBC29\uC2DD\uC73C\uB85C \uBCC0\uACBD\uB418\uC5C8\uB2E4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// v4:\nprecacheAndRoute([]);\n\n// v5:\nprecacheAndRoute(self.__WB_MANIFEST);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"navigationroute",children:"NavigationRoute"}),"\n",(0,r.jsx)(n.p,{children:"blacklist, whitelist \uC5D0\uC11C denylist, allowlist \uB85C \uD0A4 \uBA85\uC774 \uBCC0\uACBD\uB418\uC5C8\uB2E4."}),"\n",(0,r.jsx)(n.h3,{id:"broadcastchannel",children:"BroadcastChannel"}),"\n",(0,r.jsxs)(n.p,{children:["broadcast-update \uAC00 \uC790\uCCB4 API \uC5D0\uC11C ",(0,r.jsx)(n.code,{children:"postMessage()"}),"\uB85C \uBCC0\uACBD\uB418\uC5C8\uB2E4.\n\uC774\uBCA4\uD2B8 \uB9AC\uC2A4\uB108\uAC00 \uB9CE\uC544\uC838 \uBCF5\uC7A1\uD574\uC9C0\uACE0, \uAE30\uC874 API\uC5D0\uC11C\uB294 \uBA54\uC138\uC9D5\uC758 \uBC84\uD37C \uAE30\uB2A5\uC774 \uC5C6\uC5C8\uAE30 \uB54C\uBB38\uC774\uB2E4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'// v4:\nconst updatesChannel = new BroadcastChannel("api-updates");\nupdatesChannel.addEventListener("message", (event) => {\n  const { cacheName, updatedUrl } = event.data.payload;\n  // ... your code here ...\n});\n\n// v5:\n// This listener should be added as early as possible in your page\'s lifespan\n// to ensure that messages are properly buffered.\nnavigator.serviceWorker.addEventListener("message", (event) => {\n  // Optional: ensure the message came from workbox-broadcast-update\n  if (event.meta === "workbox-broadcast-update") {\n    const { cacheName, updatedUrl } = event.data.payload;\n    // ... your code here ...\n  }\n});\n'})})]})}function p(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453(e,n,t){t.d(n,{R:()=>i,x:()=>s});var a=t(96540);let r={},o=a.createContext(r);function i(e){let n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(o.Provider,{value:n},e.children)}},54956(e){e.exports=JSON.parse('{"permalink":"/en/2020/02/02/Workbox5-breaking-changes","source":"@site/blog/2020/02/02/Workbox5-breaking-changes.md","title":"Workbox5 \uBC84\uC804\uC758 \uC8FC\uC694 \uBCC0\uACBD\uC0AC\uD56D","description":"Workbox5 \uBC84\uC804","date":"2020-02-02T16:47:22.000Z","tags":[{"inline":false,"label":"javascript","permalink":"/en/tags/javascript","description":"Any application that can be written in JavaScript, will eventually be written in JavaScript"},{"inline":true,"label":"pwa","permalink":"/en/tags/pwa"},{"inline":true,"label":"serviceworker","permalink":"/en/tags/serviceworker"},{"inline":true,"label":"workbox","permalink":"/en/tags/workbox"}],"readingTime":0.7,"hasTruncateMarker":false,"authors":[{"name":"Gracefullight","title":"Owner","url":"https://github.com/gracefullight","imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me","page":null}],"frontMatter":{"title":"Workbox5 \uBC84\uC804\uC758 \uC8FC\uC694 \uBCC0\uACBD\uC0AC\uD56D","authors":"me","tags":["javascript","pwa","serviceworker","workbox"],"date":"2020-02-02T16:47:22.000Z"},"unlisted":false,"prevItem":{"title":"NodeJS\uC5D0\uC11C \uCEE4\uB9E8\uB4DC \uD30C\uC2F1\uD558\uAE30","permalink":"/en/2020/02/16/NodeJS\uC5D0\uC11C-\uCEE4\uB9E8\uB4DC-\uD30C\uC2F1\uD558\uAE30"},"nextItem":{"title":"Pythonic - \uD578\uB4E4\uB9C1","permalink":"/en/2020/01/27/Pythonic-handling"}}')}}]);