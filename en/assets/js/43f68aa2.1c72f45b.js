"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["41081"],{48273(e,n,t){t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var s=t(75291),o=t(74848),a=t(28453);let i={title:"adonisjs \uB85C\uADF8 \uD3EC\uB9F7 \uBCC0\uACBD\uD558\uAE30 (custom log format)",authors:"me",tags:["nodejs","javascript"],date:new Date("2017-12-21T15:25:45.000Z")},l,r={authorsImageUrls:[void 0]},c=[{value:"\uC218\uC815",id:"\uC218\uC815",level:2},{value:"\uBC84\uC804",id:"\uBC84\uC804",level:2}];function m(e){let n={blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"\uC544\uB3C4\uB2C8\uC2A4\uB294 \uB85C\uAE45 \uBAA8\uB4C8\uB85C winston \uC744 \uC0AC\uC6A9\uD558\uB294\uB370 winston \uC740 \uB85C\uADF8\uB97C json \uD3EC\uB9F7\uC73C\uB85C \uCD9C\uB825\uD558\uACE0 \uC2EC\uC9C0\uC5B4 timezone \uBCC0\uC218\uAC00 \uB530\uB85C \uB098\uC628\uB2E4."}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\uB85C\uADF8\uB294 \uAE30\uBCF8\uC801\uC73C\uB85C \uD504\uB85C\uC81D\uD2B8 \uD3F4\uB354 \uD558\uC704\uC758 ",(0,o.jsx)(n.strong,{children:"tmp"})," \uD3F4\uB354\uC5D0 \uC0DD\uC131\uB41C\uB2E4\n\uC774 \uD3F4\uB354\uAC00 \uC5C6\uC73C\uBA74 \uB85C\uAE45\uC774 \uB418\uC9C0 \uC54A\uC73C\uBBC0\uB85C \uBA3C\uC800 \uB9CC\uB4E4\uC5B4\uC8FC\uC790"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\uC608\uB97C \uB4E4\uBA74 \uB2E4\uC74C\uACFC \uAC19\uB2E4."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'{"level":"info","message":"serving app on http://127.0.0.1:3333","timestamp":"2017-12-21T05:34:50.235Z"}\n{"level":"info","message":"serving app on http://127.0.0.1:3333","timestamp":"2017-12-21T05:45:32.220Z"}\n'})}),"\n",(0,o.jsx)(n.p,{children:"\uC774\uAC78 \uB2E4\uC74C\uACFC \uAC19\uC774 \uBC14\uAFD4\uBCF4\uC790"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"[2017-12-21 15:01:03.506] INFO serving app on http://127.0.0.1:3333\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\uC218\uC815",children:"\uC218\uC815"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\uC624\uB298 \uB0A0\uC9DC\uB97C \uAD6C\uD558\uAE30 \uC704\uD574 ",(0,o.jsx)(n.code,{children:"moment"}),"\uB97C \uBA3C\uC800 \uC124\uCE58\uD558\uC790.\n",(0,o.jsx)(n.code,{children:"winston"})," \uD328\uD0A4\uC9C0\uB294 ",(0,o.jsx)(n.code,{children:"@adonisjs/framework"})," \uD328\uD0A4\uC9C0\uC5D0 \uC885\uC18D\uB41C\uB2E4."]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="config/app.js"',children:'const moment = use("moment");\nconst { config } = use("winston");\n\nmodule.exports = {\n  logger: {\n    transport: "file",\n    file: {\n      driver: "file",\n      name: "adonis-app",\n      // \uD30C\uC77C\uBA85\uC744 \uBC14\uAFD4\uC900\uB2E4\n      filename: `adonis_${moment().format("YYYYMMDD")}.log`,\n      level: "debug",\n      // json \uB85C\uADF8 \uD3EC\uB9F7\uC744 \uD574\uC81C\uD558\uACE0\n      json: false,\n      // \uC6D0\uD558\uB294 \uD615\uD0DC\uB85C \uBC14\uAFD4\uC900\uB2E4\n      formatter: ({ level, message, meta }) => {\n        const now = moment().format("YYYY-MM-DD HH:mm:ss.SSS");\n        // \uB85C\uADF8 \uB808\uBCA8\uC5D0 \uC0C9\uC0C1\uC744 \uCD94\uAC00\uD558\uB294 \uC791\uC5C5\uC778\uB370, \uAD73\uC774 \uD544\uC694\uD558\uC9C4 \uC54A\uB2E4\n        const logLevel = config.colorize(level, level.toUpperCase());\n        const formattedMeta =\n          meta && Object.keys(meta).length ? "\\n\\t" + JSON.stringify(meta) : "";\n\n        return `[${now}] ${logLevel} ${message || ""} ${formattedMeta}`;\n      },\n    },\n  },\n};\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\uBC84\uC804",children:"\uBC84\uC804"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"@adonis/framework: 4.0.28"}),"\n",(0,o.jsx)(n.li,{children:"winston: 2.4.0"}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},28453(e,n,t){t.d(n,{R:()=>i,x:()=>l});var s=t(96540);let o={},a=s.createContext(o);function i(e){let n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:n},e.children)}},75291(e){e.exports=JSON.parse('{"permalink":"/en/2017/12/21/adonisjs-custom-log-format","source":"@site/blog/2017/12/21/adonisjs-custom-log-format.md","title":"adonisjs \uB85C\uADF8 \uD3EC\uB9F7 \uBCC0\uACBD\uD558\uAE30 (custom log format)","description":"\uC544\uB3C4\uB2C8\uC2A4\uB294 \uB85C\uAE45 \uBAA8\uB4C8\uB85C winston \uC744 \uC0AC\uC6A9\uD558\uB294\uB370 winston \uC740 \uB85C\uADF8\uB97C json \uD3EC\uB9F7\uC73C\uB85C \uCD9C\uB825\uD558\uACE0 \uC2EC\uC9C0\uC5B4 timezone \uBCC0\uC218\uAC00 \uB530\uB85C \uB098\uC628\uB2E4.","date":"2017-12-21T15:25:45.000Z","tags":[{"inline":true,"label":"nodejs","permalink":"/en/tags/nodejs"},{"inline":false,"label":"javascript","permalink":"/en/tags/javascript","description":"Any application that can be written in JavaScript, will eventually be written in JavaScript"}],"readingTime":0.94,"hasTruncateMarker":false,"authors":[{"name":"Gracefullight","title":"Owner","url":"https://github.com/gracefullight","imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me","page":null}],"frontMatter":{"title":"adonisjs \uB85C\uADF8 \uD3EC\uB9F7 \uBCC0\uACBD\uD558\uAE30 (custom log format)","authors":"me","tags":["nodejs","javascript"],"date":"2017-12-21T15:25:45.000Z"},"unlisted":false,"prevItem":{"title":"PWA - \uC11C\uBE44\uC2A4 \uC6CC\uCEE4 \uC6F9 \uCE90\uC2F1 (Web Caching)","permalink":"/en/2017/12/22/PWA-ServiceWorker-Web-Caching"},"nextItem":{"title":"\uC65C \uB9AC\uB355\uC2A4 \uC0AC\uAC00(Redux-saga) \uC778\uAC00?","permalink":"/en/2017/12/06/Why-redux-saga"}}')}}]);