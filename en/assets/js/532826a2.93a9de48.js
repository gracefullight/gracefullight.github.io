"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[16544],{72987:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var a=t(54956),r=t(86070),o=t(14036);const s={title:"Workbox5 \ubc84\uc804\uc758 \uc8fc\uc694 \ubcc0\uacbd\uc0ac\ud56d",authors:"me",tags:["javascript","pwa","serviceworker","workbox"],date:new Date("2020-02-02T16:47:22.000Z")},i=void 0,l={authorsImageUrls:[void 0]},c=[{value:"Workbox5 \ubc84\uc804",id:"workbox5-\ubc84\uc804",level:2},{value:"injectManifest",id:"injectmanifest",level:3},{value:"NavigationRoute",id:"navigationroute",level:3},{value:"BroadcastChannel",id:"broadcastchannel",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"workbox5-\ubc84\uc804",children:"Workbox5 \ubc84\uc804"}),"\n",(0,r.jsxs)(n.p,{children:["\uc798 \ub3cc\ub358 ",(0,r.jsx)(n.code,{children:"workbox-cli"})," \uac00 5\ubc84\uc804 \ub9b4\ub9ac\uc988 \ud6c4\ubd80\ud130 \ub3cc\uc9c0 \uc54a\uc544\uc11c \ud655\uc778\ud574\ubcf4\uc558\ub2e4.\n\uc804\uccb4 \ubb38\uc11c\ub294 ",(0,r.jsx)(n.a,{href:"https://developers.google.com/web/tools/workbox/guides/migrations/migrate-from-v4",children:"\uc5ec\uae30"}),"\uc11c \ud655\uc778 \uac00\ub2a5\ud558\ub2e4."]}),"\n",(0,r.jsx)(n.h3,{id:"injectmanifest",children:"injectManifest"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"self.__WB_MANIFEST"})," \ub97c \uc8fc\uc785\ubc1b\ub294 \ubc29\uc2dd\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// v4:\nprecacheAndRoute([]);\n\n// v5:\nprecacheAndRoute(self.__WB_MANIFEST);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"navigationroute",children:"NavigationRoute"}),"\n",(0,r.jsx)(n.p,{children:"blacklist, whitelist \uc5d0\uc11c denylist, allowlist \ub85c \ud0a4 \uba85\uc774 \ubcc0\uacbd\ub418\uc5c8\ub2e4."}),"\n",(0,r.jsx)(n.h3,{id:"broadcastchannel",children:"BroadcastChannel"}),"\n",(0,r.jsxs)(n.p,{children:["broadcast-update \uac00 \uc790\uccb4 API \uc5d0\uc11c ",(0,r.jsx)(n.code,{children:"postMessage()"}),"\ub85c \ubcc0\uacbd\ub418\uc5c8\ub2e4.\n\uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108\uac00 \ub9ce\uc544\uc838 \ubcf5\uc7a1\ud574\uc9c0\uace0, \uae30\uc874 API\uc5d0\uc11c\ub294 \uba54\uc138\uc9d5\uc758 \ubc84\ud37c \uae30\ub2a5\uc774 \uc5c6\uc5c8\uae30 \ub54c\ubb38\uc774\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'// v4:\nconst updatesChannel = new BroadcastChannel("api-updates");\nupdatesChannel.addEventListener("message", (event) => {\n  const { cacheName, updatedUrl } = event.data.payload;\n  // ... your code here ...\n});\n\n// v5:\n// This listener should be added as early as possible in your page\'s lifespan\n// to ensure that messages are properly buffered.\nnavigator.serviceWorker.addEventListener("message", (event) => {\n  // Optional: ensure the message came from workbox-broadcast-update\n  if (event.meta === "workbox-broadcast-update") {\n    const { cacheName, updatedUrl } = event.data.payload;\n    // ... your code here ...\n  }\n});\n'})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},14036:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var a=t(30758);const r={},o=a.createContext(r);function s(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(o.Provider,{value:n},e.children)}},54956:e=>{e.exports=JSON.parse('{"permalink":"/en/2020/02/02/Workbox5-breaking-changes","source":"@site/blog/2020/02/02/Workbox5-breaking-changes.md","title":"Workbox5 \ubc84\uc804\uc758 \uc8fc\uc694 \ubcc0\uacbd\uc0ac\ud56d","description":"Workbox5 \ubc84\uc804","date":"2020-02-02T16:47:22.000Z","tags":[{"inline":true,"label":"javascript","permalink":"/en/tags/javascript"},{"inline":true,"label":"pwa","permalink":"/en/tags/pwa"},{"inline":true,"label":"serviceworker","permalink":"/en/tags/serviceworker"},{"inline":true,"label":"workbox","permalink":"/en/tags/workbox"}],"readingTime":1.1,"hasTruncateMarker":false,"authors":[{"name":"Gracefullight","title":"Owner","url":"https://github.com/gracefullight","imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me","page":null}],"frontMatter":{"title":"Workbox5 \ubc84\uc804\uc758 \uc8fc\uc694 \ubcc0\uacbd\uc0ac\ud56d","authors":"me","tags":["javascript","pwa","serviceworker","workbox"],"date":"2020-02-02T16:47:22.000Z"},"unlisted":false,"prevItem":{"title":"NodeJS\uc5d0\uc11c \ucee4\ub9e8\ub4dc \ud30c\uc2f1\ud558\uae30","permalink":"/en/2020/02/16/NodeJS\uc5d0\uc11c-\ucee4\ub9e8\ub4dc-\ud30c\uc2f1\ud558\uae30"},"nextItem":{"title":"Pythonic - \ud578\ub4e4\ub9c1","permalink":"/en/2020/01/27/Pythonic-handling"}}')}}]);