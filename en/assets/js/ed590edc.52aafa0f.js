"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[68660],{77612:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>o});var r=t(52676),l=t(75635);const s={title:"Laravel 5.5 - Model Event Listener",authors:"me",tags:["php","laravel"],date:new Date("2017-11-18T11:12:21.000Z")},i=void 0,a={permalink:"/en/2017/11/18/Laravel-5-5-Model-Event-Listener",source:"@site/blog/2017/11/18/Laravel-5-5-Model-Event-Listener.md",title:"Laravel 5.5 - Model Event Listener",description:"\ub77c\ub77c\ubca8 \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108 \uae30\ub2a5\uc744 \ubd99\ud600\ubcf4\uc790.",date:"2017-11-18T11:12:21.000Z",tags:[{inline:!0,label:"php",permalink:"/en/tags/php"},{inline:!0,label:"laravel",permalink:"/en/tags/laravel"}],readingTime:2.545,hasTruncateMarker:!1,authors:[{name:"Gracefullight",title:"Owner",url:"https://github.com/gracefullight",imageURL:"https://avatars.githubusercontent.com/u/11773683?v=4",key:"me",page:null}],frontMatter:{title:"Laravel 5.5 - Model Event Listener",authors:"me",tags:["php","laravel"],date:"2017-11-18T11:12:21.000Z"},unlisted:!1,prevItem:{title:"Linux startup \ud30c\uc77c\uc5d0\uc11c \ud53c\ud574\uc57c\ud560 \uac83",permalink:"/en/2017/11/19/Linux-startup-\ud30c\uc77c\uc5d0\uc11c-\ud53c\ud574\uc57c\ud560-\uac83"},nextItem:{title:"Vue\uc5d0\uc11c jquery\uc640 bootstrap \uc804\uc5ed\uc73c\ub85c \uc0ac\uc6a9\ud558\uae30",permalink:"/en/2017/11/17/Vue\uc5d0\uc11c-jquery\uc640-bootstrap-\uc804\uc5ed\uc73c\ub85c-\uc0ac\uc6a9\ud558\uae30"}},c={authorsImageUrls:[void 0]},o=[{value:"\uc774\ubca4\ud2b8 \uc0dd\uc131",id:"\uc774\ubca4\ud2b8-\uc0dd\uc131",level:2},{value:"EventServiceProvider",id:"eventserviceprovider",level:3},{value:"generate",id:"generate",level:3},{value:"\ubc14\uc778\ub529",id:"\ubc14\uc778\ub529",level:2},{value:"\ubaa8\ub378",id:"\ubaa8\ub378",level:3},{value:"\uc774\ubca4\ud2b8",id:"\uc774\ubca4\ud2b8",level:3},{value:"\ucc98\ub9ac",id:"\ucc98\ub9ac",level:2},{value:"\uc5ec\ub2f4",id:"\uc5ec\ub2f4",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"\ub77c\ub77c\ubca8 \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108 \uae30\ub2a5\uc744 \ubd99\ud600\ubcf4\uc790.\nModel\uc774 Create \ub420 \ub54c \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108\ub97c \ubd99\ud600 \ub2e4\ub978 \uae30\ub2a5\uc744 \uc5f0\uacb0\ud558\ub294 \uc608\uc81c\uac00 \uac00\uc7a5 \uc27d\ub2e4.\n(\uc608\ub97c \ub4e4\uba74 \ub85c\uadf8\uac00 \uc0dd\uc131\ub420 \ub54c SMS\ub97c \ub0a0\ub9ac\ub294 \uacbd\uc6b0)"}),"\n",(0,r.jsx)(n.h2,{id:"\uc774\ubca4\ud2b8-\uc0dd\uc131",children:"\uc774\ubca4\ud2b8 \uc0dd\uc131"}),"\n",(0,r.jsx)(n.h3,{id:"eventserviceprovider",children:"EventServiceProvider"}),"\n",(0,r.jsx)(n.p,{children:"\uba3c\uc800 EventServiceProvider\uc5d0 \ub0b4\uac00 \uc0ac\uc6a9\ud560 \uc774\ubca4\ud2b8\uc640 \ub9ac\uc2a4\ub108\ub97c \ub4f1\ub85d\ud574\uc918\uc57c\ud55c\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Providers/EventServiceProvider"',children:"<?php\n...\nclass EventServiceProvider extends ServiceProvider\n{\n  protected $listen = [\n    // \ub85c\uadf8 \uc0dd\uc131\uc2dc \uc774\ubca4\ud2b8\ub97c\n    'App\\Events\\LogCreated' => [\n      // \ub85c\uadf8 \uc0dd\uc131\ub428 \ub9ac\uc2a4\ub108\uc5d0 \uc5f0\uacb0\uc2dc\ucf1c\uc900\ub2e4.\n      'App\\Listeners\\LogCreatedListener',\n    ],\n  ];\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"$listen"})," \ubcc0\uc218\uc5d0 \uae30\ubcf8\uc73c\ub85c \ub4f1\ub85d\ub418\uc5b4\uc788\ub294 \uc774\ubca4\ud2b8\ub294 \uc9c0\uc6cc\uc8fc\uc790"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"generate",children:"generate"}),"\n",(0,r.jsx)(n.p,{children:"\uc774\uc81c \uc18c\uc2a4 \ud30c\uc77c\uc744 \uc0dd\uc131\uc2dc\ucf1c\uc900\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan event:generate\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uba74 ",(0,r.jsx)(n.code,{children:"app/Events"}),"\uc640 ",(0,r.jsx)(n.code,{children:"app/Listeners"}),"\uc5d0 \ubc29\uae08 \ub4f1\ub85d\ud55c \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108 \ud30c\uc77c\uc774 \uc790\ub3d9\uc73c\ub85c \uc0dd\uc131\ub41c\ub2e4."]}),"\n",(0,r.jsx)(n.h2,{id:"\ubc14\uc778\ub529",children:"\ubc14\uc778\ub529"}),"\n",(0,r.jsx)(n.h3,{id:"\ubaa8\ub378",children:"\ubaa8\ub378"}),"\n",(0,r.jsx)(n.p,{children:"\ubaa8\ub378\uc5d0\uc11c \ubc29\uae08 \ucd94\uac00\ub41c \uc774\ubca4\ud2b8\ub97c \uc5f0\uacb0\uc2dc\ucf1c\uc8fc\uc790."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Models/Log"',children:"<?php\nuse App\\Events\\LogCreated;\n\nclass Log extends Model\n{\n  ...\n  protected $dispatchesEvents = [\n    // \ubaa8\ub378\uc774 create(insert) \ub418\uba74 \ud574\ub2f9 \uc774\ubca4\ud2b8\ub97c \ud638\ucd9c\ud55c\ub2e4.\n    'created' => LogCreated::class\n    // use \uad6c\ubb38\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 \uc5ec\uae30\uc5d0 \uc9c1\uc811 \"App\\Events\\LogCreated\" \ub85c \uc815\uc758\ud574\ub3c4 \ub420 \uac83 \uac19\uc740\ub370 \ud14c\uc2a4\ud2b8\ub294 \uc548 \ud574\ubd24\ub2e4.\n  ];\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uc774\ubca4\ud2b8",children:"\uc774\ubca4\ud2b8"}),"\n",(0,r.jsx)(n.p,{children:"\uc774\ubca4\ud2b8\uc5d0\uc11c \ud574\ub2f9 \ubaa8\ub378\uc744 \uc5f0\uacb0\uc2dc\ucf1c\uc8fc\uc790."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Events/LogCreated"',children:"<?php\nuse App\\Models\\Log;\n...\n\nclass LogCreated\n{\n  use Dispatchable, InteractsWithSockets, SerializesModels;\n\n  // \ub9ac\uc2a4\ub108\uc5d0\uc11c \ubc1b\uc744 \ubaa8\ub378 \ubcc0\uc218\ub97c public\uc73c\ub85c \uc0dd\uc131\ud55c\ub2e4.\n  public $log;\n\n  // DI\n  public function __construct(Log $log)\n  {\n    $this->log = $log;\n  }\n\n  public function broadcastOn()\n  {\n    // \ucc44\ub110\uc744 \uc774\uc6a9\ud558\uc9c0 \uc54a\uc744 \uac83\uc774\uae30\uc5d0 \ube48 \ubc30\uc5f4\uc744 \ub9ac\ud134\uc2dc\ud0a8\ub2e4.\n    return [];\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\ucc98\ub9ac",children:"\ucc98\ub9ac"}),"\n",(0,r.jsx)(n.p,{children:"\ub9ac\uc2a4\ub108\uc5d0\uc11c \ubc1b\uc740 \uc774\ubca4\ud2b8\ub97c \ucc98\ub9ac\ud558\uc790."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Listeners/LogCreatedListener"',children:"<?php\n...\nuse App\\Events\\LogCreated;\n\nclass LogCreatedListener\n{\n  ...\n  public function handle(LogCreated $event)\n  {\n    // Events\uc758 public\uc73c\ub85c \uc120\uc5b8\ud55c \ub370\uc774\ud130\uac00 $event \uc544\ub798\ub85c \ubc14\uc778\ub529 \ub41c\ub2e4.\n\n    $log = $event->log;\n    logger('LOG Received');\n    logger($log);\n\n    // \uc5ec\uae30\uc11c \uae30\ub2a5\uc744 \uad6c\ud604\ud558\uba74 \ub41c\ub2e4.\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ShouldQueue"}),"\ub85c \ud655\uc7a5\ud574 \ud050\uc5d0 \ub2f4\uc744 \uc218\ub3c4 \uc788\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\uc5ec\ub2f4",children:"\uc5ec\ub2f4"}),"\n",(0,r.jsx)(n.p,{children:"\uba54\uc77c \ubc1c\uc1a1\uacfc \ube44\uc2b7\ud55c \ud50c\ub85c\uc6b0\uc600\ub2e4."})]})}function p(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},75635:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>i});var r=t(75271);const l={},s=r.createContext(l);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);