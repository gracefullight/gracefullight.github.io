"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[79105],{43766:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>b,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var t=a(52676),i=a(65286);const s={title:"Javascript\ub85c \ub85c\uceec\uc5d0 \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc",authors:"me",tags:["javascript"],date:new Date("2017-01-16T21:57:31.000Z")},l="For IE",o={permalink:"/en/2017/01/16/javascript\ub85c-\ub85c\uceec\uc5d0-\uc774\ubbf8\uc9c0-\ub2e4\uc6b4\ub85c\ub4dc",source:"@site/blog/2017/01/16/javascript\ub85c-\ub85c\uceec\uc5d0-\uc774\ubbf8\uc9c0-\ub2e4\uc6b4\ub85c\ub4dc.md",title:"Javascript\ub85c \ub85c\uceec\uc5d0 \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc",description:"\ubc84\ud2bc\uc744 \ub20c\ub7ec \uc774\ubbf8\uc9c0\ub97c \ub2e4\uc6b4\ub85c\ub4dc \ubc1b\uace0 \uc2f6\ub2e4\uba74 \uc5b4\ub5bb\uac8c \ud574\uc57c\ub420\uae4c?",date:"2017-01-16T21:57:31.000Z",tags:[{label:"javascript",permalink:"/en/tags/javascript"}],readingTime:3.39,hasTruncateMarker:!1,authors:[{name:"Gracefullight",title:"Owner",url:"https://github.com/gracefullight",imageURL:"https://avatars.githubusercontent.com/u/11773683?v=4",key:"me"}],frontMatter:{title:"Javascript\ub85c \ub85c\uceec\uc5d0 \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc",authors:"me",tags:["javascript"],date:"2017-01-16T21:57:31.000Z"},unlisted:!1,prevItem:{title:"Vimeo Upload API - 1. Vimeo Developers",permalink:"/en/2017/01/16/Vimeo-Upload-API-1-Vimeo-Developers"},nextItem:{title:"XML-RPC\ub97c \ud65c\uc6a9\ud55c \ub124\uc774\ubc84 \ube14\ub85c\uadf8 \uae00\uc4f0\uae30 API",permalink:"/en/2017/01/15/XML-RPC\ub97c-\ud65c\uc6a9\ud55c-\ub124\uc774\ubc84-\ube14\ub85c\uadf8-\uae00\uc4f0\uae30-API"}},r={authorsImageUrls:[void 0]},c=[{value:"base64",id:"base64",level:2},{value:"blob",id:"blob",level:2},{value:"msSaveOrOpenBlob",id:"mssaveoropenblob",level:2},{value:"Blob \uc7ac\uc0ac\uc6a9",id:"blob-\uc7ac\uc0ac\uc6a9",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["\ubc84\ud2bc\uc744 \ub20c\ub7ec \uc774\ubbf8\uc9c0\ub97c ",(0,t.jsx)(n.strong,{children:"\ub2e4\uc6b4\ub85c\ub4dc"})," \ubc1b\uace0 \uc2f6\ub2e4\uba74 \uc5b4\ub5bb\uac8c \ud574\uc57c\ub420\uae4c?\nClient Side \uc5d0\uc11c \ud560 \uc218 \uc788\ub294 \uac00\uc7a5 \uc26c\uc6b4 \ubc29\ubc95\uc740 ",(0,t.jsx)(n.a,{href:"https://www.w3schools.com/TAgs/att_a_download.asp",children:"download attribute"}),"\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774\ub2e4.\n\ud558\uc9c0\ub9cc \uc608\uc0c1\ud588\ub4ef\uc774 \uc774 \uc18d\uc131\uc740 IE \uc5d0\uc11c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294\ub2e4."]}),"\n",(0,t.jsx)(n.h2,{id:"base64",children:"base64"}),"\n",(0,t.jsxs)(n.p,{children:["\uba3c\uc800 \uc774\ubbf8\uc9c0\ub97c base64 \uc778\ucf54\ub529\ud574\uc57c\ud55c\ub2e4.\nFileReader \ub610\ub294 Canvas \ub97c \uc774\uc6a9\ud574 \ubcc0\ud658\ud560 \uc218 \uc788\ub294\ub370 ",(0,t.jsx)(n.a,{href:"https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript",children:"stackoverflow \uc758 \uba85\ucf8c\ud55c \ub2f5\ubcc0"}),"\uc744 \ucc38\uc870\ud558\uc790.\njQuery \ud658\uacbd\uc774\ub77c\uba74 ",(0,t.jsx)(n.a,{href:"http://www.henryalgus.com/reading-binary-files-using-jquery-ajax/",children:"Reading binary data using jquery ajax"}),"\ub97c \ucc38\uc870\ud574\ub3c4 \ub41c\ub2e4."]}),"\n",(0,t.jsx)(n.p,{children:"base64encode \uac00 \ub41c \uc774\ubbf8\uc9c0 \ub370\uc774\ud130\uac00 \ubf51\uc544\uc9c0\uba74 \uc2dc\uc791\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADN0lEQVR42u3aQY7CMBAEQP7/afaKtEu2exwk4lROKITEZSQGT/vxiI/ny/H7zOv513ffXZl89viad6M6+cDGxsa+CDsZUP5uMqx3d8gntB3nH1ODjY2NvR373S/88TUtMuG1E5qMExsbGxv7eChJUTl+4nP5wMbGxsZu2UlbJy9RyQS1SxpsbGzsu7FXCkPeTkoihGTQeUPqhF4aNjY29tez81T0+19/JN/GxsbG/mL2rHEzi2OTxc968BwpsLGxsTdiz0Lc/I9+voBprzwhhMbGxsbeiN1S2xvNWkuzZtD6aLGxsbGvxW4f0BaqtpU/C4/bhRA2Njb2TuwkTF0ZVn4+/+zKJEb7lbCxsbG3YM9aRe0CJo8NkivzFhU2Njb2ruwW3/71r0vL6FnDXUvY2NjYl2XPAto8mm0LUrIImcUG2NjY2Luy1xv6eTCwMomzAlZPEzY2NvbF2ceDWIld82XJSjjRbsfExsbG3om9EgbkDak2GM5L6bApho2Njb0F+/imeclJWj/t61nwEBU2bGxs7I3Yn2vifKLN1MKKxQk2Njb2ZdlnFYzZ9bMG00rbCxsbG/sO7Lw13261zIvlMXVW5B7tDGFjY2NvwZ4lpDmpLYenXYmNjY29ETv5u5+XkDYYaFtL7ZKm2KmEjY2NfVl2u10mWYS009q2hNoC9scZbGxs7I3YM+SsjJ3V0lqZ3MfKd4uNjY39lexk6Hlkm4fHs40+7dacomhhY2Njb8TOi1MeCZw7oflER1t2sLGxsS/Onq1d2hC3XYq0japZCIGNjY29K7u9Xds8WmlU5SWwiH6xsbGxt2DnP/dthNBS12FFScPGxsbelN02aNrFRh4tzJ5SbO7BxsbGvgE7Aa8EACvlc6X9hI2Njb0T+1keySBmm3jy0Le92z9JCDY2NvbF2W0BOLfwHJ9vW0v1UgQbGxt7I3ZStFbKTLKMab+TZFH0T+SAjY2NvR07b7vP4ti2TK5MSvRcbGxs7Nuz2wfnT1nZalncBxsbG/vG7PWtlmdt5VlpimFjY2Pvx06aRHlBarfs5O3+9ut5u/rAxsbG3og9W1TkxWYWP7T3zBtV2NjY2BuxfwBOAYaS/PUQNQAAAABJRU5ErkJggg==\n"})}),"\n",(0,t.jsx)(n.h2,{id:"blob",children:"blob"}),"\n",(0,t.jsx)(n.p,{children:"\uc774\uc81c \uc774\ubbf8\uc9c0 \ub370\uc774\ud130\ub97c Blob Object \ub85c \ubcc0\ud658\ud574\uc57c\ud55c\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'// imageSrc\ub294 \uc704\uc758 \uc774\ubbf8\uc9c0 \ub370\uc774\ud130\uc774\ub2e4.\n// \uc2e4\uc81c \ub370\uc774\ud130\ub294 iVBO...\ubd80\ud130\uc774\ubbc0\ub85c split\ud55c\ub2e4.\nconst imgData = atob(imageSrc.split(",")[1]);\nconst len = imgData.length;\nconst buf = new ArrayBuffer(len); // \ube44\ud2b8\ub97c \ub2f4\uc744 \ubc84\ud37c\ub97c \ub9cc\ub4e0\ub2e4.\nconst view = new Uint8Array(buf); // \ubc84\ud37c\ub97c 8bit Unsigned Int\ub85c \ub2f4\ub294\ub2e4.\nlet blob, i;\n\nfor (i = 0; i < len; i++) {\n  view[i] = imgData.charCodeAt(i) & 0xff; // \ube44\ud2b8 \ub9c8\uc2a4\ud0b9\uc744 \ud1b5\ud574 msb\ub97c \ubcf4\ud638\ud55c\ub2e4.\n}\n// Blob \uac1d\uccb4\ub97c image/png \ud0c0\uc785\uc73c\ub85c \uc0dd\uc131\ud55c\ub2e4. (application/octet-stream\ub3c4 \uac00\ub2a5)\nblob = new Blob([view], { type: "image/png" });\n'})}),"\n",(0,t.jsx)(n.h2,{id:"mssaveoropenblob",children:"msSaveOrOpenBlob"}),"\n",(0,t.jsxs)(n.p,{children:["IE10+ \uc5d0\uc11c \uc0ac\uc6a9\uac00\ub2a5\ud55c ",(0,t.jsx)(n.a,{href:"https://msdn.microsoft.com/ko-kr/library/hh779016.aspx",children:"msSaveOrOpenBlob"}),"\uac00 \ud544\uc694\ud558\ub2e4."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["msSaveBlob \uba54\uc11c\ub4dc\ub294 ",(0,t.jsx)(n.strong,{children:"\uc800\uc7a5"})," \ub2e8\ucd94\ub9cc \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc81c\uacf5\ud558\ub294 \ubc18\uba74\nmsSaveOrOpenBlob \uba54\uc18c\ub4dc\ub294 ",(0,t.jsx)(n.strong,{children:"\uc800\uc7a5 \ubc0f \uc5f4\uae30"})," \ub2e8\ucd94\ub97c \ubaa8\ub450 \uc81c\uacf5\ud55c\ub2e4\ub294 \uac83\uc774 \ucc28\uc774\uc810\uc774\ub2e4."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'// blob\uacfc \uc800\uc7a5\ub420 \ud30c\uc77c\uba85\uc744 \ubc1b\ub294\ub2e4.\nwindow.navigator.msSaveOrOpenBlob(blob, "new_file_name.png");\n'})}),"\n",(0,t.jsx)(n.h1,{id:"not-ie",children:"Not IE"}),"\n",(0,t.jsx)(n.p,{children:"IE \uac00 \uc138\uc0c1\uc5d0 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294\ub2e4\uba74 \ucf54\ub4dc\ub294 \uc544\uc8fc \uc608\uc058\uac8c \uc9e4 \uc218 \uc788\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<a href="data:image/png;base64,iVBORw0KG..." download="new_file_name.png">\n  <img src="data:image/png;base64,iVBORw0KG..." />\n</a>\n'})}),"\n",(0,t.jsx)(n.p,{children:"a \ud0dc\uadf8\uac00 \ubcf4\uae30 \uc2eb\ub2e4\uba74 \uc544\ub798 \uad6c\ubb38\uc744 \ud3ec\ud568\ud574 \ud568\uc218\ub85c \ub9cc\ub4e0\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'const a = document.createElement("a");\na.style = "display: none";\na.href = img.src;\na.download = "new_file_name.png";\n\ndocument.body.appendChild(a);\na.click();\n\nsetTimeout(function () {\n  // \ub2e4\uc6b4\ub85c\ub4dc\uac00 \uc548\ub418\ub294 \uacbd\uc6b0 \ubc29\uc9c0\n  document.body.removeChild(a);\n}, 100);\n'})}),"\n",(0,t.jsx)(n.h2,{id:"blob-\uc7ac\uc0ac\uc6a9",children:"Blob \uc7ac\uc0ac\uc6a9"}),"\n",(0,t.jsx)(n.p,{children:"IE \ub54c\ubb38\uc5d0 \ub9cc\ub4e4\uc5c8\ub358 Blob \uac1d\uccb4\ub97c URL \uae30\ub2a5\uc744 \uc774\uc6a9\ud574 \uc7ac\uc0ac\uc6a9\ud574\ubcf4\uc790."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'const url = URL.createObjectURL(blob);\nconst a = document.createElement("a");\na.style = "display: none";\na.href = url;\na.download = "new_file_name.png";\n\ndocument.body.appendChild(a);\na.click();\n\nsetTimeout(function () {\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url); // \uba54\ubaa8\ub9ac \ud574\uc81c\n}, 100);\n'})}),"\n",(0,t.jsx)(n.h1,{id:"\uc18c\uc2a4",children:"\uc18c\uc2a4"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'/**\n * [downloadImage]\n * @param  {[string]} img       [base64encoded image data]\n * @param  {[string]} fileName  [new file name]\n * @return [image file]\n */\nfunction downloadImage(img, fileName) {\n  let imgData = atob(img.src.split(",")[1]),\n    len = imgData.length,\n    buf = new ArrayBuffer(len),\n    view = new Uint8Array(buf),\n    blob,\n    i;\n\n  for (i = 0; i < len; i++) {\n    view[i] = imgData.charCodeAt(i) & 0xff; // masking\n  }\n\n  blob = new Blob([view], {\n    type: "application/octet-stream",\n  });\n\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(blob, fileName);\n  } else {\n    //var url = URL.createObjectURL(blob);\n    const a = document.createElement("a");\n    a.style = "display: none";\n    //a.href = url;\n    a.href = img.src;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n\n    setTimeout(function () {\n      document.body.removeChild(a);\n      //URL.revokeObjectURL(url);\n    }, 100);\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h1,{id:"\uc5ec\ub2f4",children:"\uc5ec\ub2f4"}),"\n",(0,t.jsxs)(n.p,{children:["![image from hexo](",(0,t.jsx)(n.a,{href:"https://i.imgur.com/36Rf76J.gif",children:"https://i.imgur.com/36Rf76J.gif"}),' title:"\uc2e4\ub9dd\uc2dc\ud0a4\uc9c0 \uc54a\ub294 IE")']})]})}function b(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},65286:(e,n,a)=>{a.d(n,{Z:()=>o,a:()=>l});var t=a(75271);const i={},s=t.createContext(i);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);