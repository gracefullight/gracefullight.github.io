<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>113 posts tagged with "javascript" | gracefullight.dev</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://gracefullight.dev/en/tags/javascript/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true property=og:locale:alternate content=ko /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true content=gcY9SiftHgQoJjBZ7IgwNNN5_atLPAX6kWb1nFVfa6E name=google-site-verification /><meta data-rh=true content=65AD1E28C0D057CEB3C68FBC0293E55B name=msvalidate.01 /><meta data-rh=true content=d024c2837887f72dc7b3792b958be74d69ba9593 name=naver-site-verification /><meta data-rh=true content=f7c93483a6f87c79 name=yandex-verification /><meta data-rh=true content=yZEdU1ABcR name=baidu-site-verification /><meta data-rh=true content=uelupjqqsm5egzlhy1aev2rfxow5yt name=facebook-domain-verification /><meta data-rh=true property=og:title content='113 posts tagged with "javascript" | gracefullight.dev'/><meta data-rh=true name=description content="Any application that can be written in JavaScript, will eventually be written in JavaScript"/><meta data-rh=true property=og:description content="Any application that can be written in JavaScript, will eventually be written in JavaScript"/><meta data-rh=true name=docusaurus_tag content=blog_tags_posts /><meta data-rh=true name=docsearch:docusaurus_tag content=blog_tags_posts /><link data-rh=true rel=icon href=/en/img/favicon.ico /><link data-rh=true rel=canonical href=https://gracefullight.dev/en/tags/javascript/ /><link data-rh=true rel=alternate href=https://gracefullight.dev/tags/javascript/ hreflang=ko /><link data-rh=true rel=alternate href=https://gracefullight.dev/en/tags/javascript/ hreflang=en /><link data-rh=true rel=alternate href=https://gracefullight.dev/tags/javascript/ hreflang=x-default /><link data-rh=true rel=preconnect href=https://RFS69RSYOJ-dsn.algolia.net crossorigin=anonymous /><link rel=alternate type=application/rss+xml href=/en/rss.xml title="gracefullight.dev RSS Feed"><link rel=alternate type=application/atom+xml href=/en/atom.xml title="gracefullight.dev Atom Feed"><link rel=alternate type=application/json href=/en/feed.json title="gracefullight.dev JSON Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-E99DNE7S05"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E99DNE7S05",{})</script><link rel=search type=application/opensearchdescription+xml title=gracefullight.dev href=/en/opensearch.xml><link href=/en/img/favicon-32x32.png rel=icon><link href=/en/manifest.json rel=manifest><meta content=#f28913 name=theme-color><meta content=yes name=mobile-web-app-capable><meta content=#f28913 name=apple-mobile-web-app-status-bar-style><link href=/en/img/apple-touch-icon.png rel=apple-touch-icon><link rel=preconnect href=https://pagead2.googlesyndication.com><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3004788392777865" async crossorigin=anonymous></script><link rel=preconnect href=https://www.clarity.ms><script>!function(t,e,n,a,c,i,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(i=e.createElement(a)).async=1,i.src="https://www.clarity.ms/tag/"+c,(r=e.getElementsByTagName(a)[0]).parentNode.insertBefore(i,r)}(window,document,"clarity","script","aongv9xgi6")</script><link rel=preconnect href=https://wcs.naver.net><script src=https://wcs.naver.net/wcslog.js async></script><script>if(!wcs_add)var wcs_add={};wcs_add.wa="156bc73a81e3bd0",window.wcs&&wcs_do()</script><link rel=preconnect href=https://cdn.channel.io><script>!function(){var n=window;if(n.ChannelIO)return(window.console.error||window.console.log||function(){})("ChannelIO script included twice.");var e=function(){e.c(arguments)};function t(){if(!n.ChannelIOInitialized){n.ChannelIOInitialized=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.channel.io/plugin/ch-plugin-web.js",e.charset="UTF-8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}e.q=[],e.c=function(n){e.q.push(n)},n.ChannelIO=e,"complete"===document.readyState?t():window.attachEvent?window.attachEvent("onload",t):(window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1))}(),ChannelIO("boot",{pluginKey:"0fd130ba-a1a6-4b7e-802a-e82a885a7fd8"})</script><link rel=preconnect href=https://static.cloudflareinsights.com><script src=https://static.cloudflareinsights.com/beacon.min.js defer data-cf-beacon='{"token":"c0899829e72b45e98dff77241127252c"}'></script><link href=https://mc.yandex.ru rel=preconnect><script>!function(e,t,c,n,r,a,s){e[r]=e[r]||function(){(e[r].a=e[r].a||[]).push(arguments)},e[r].l=+new Date;for(var i=0;i<document.scripts.length;i++)if(document.scripts[i].src===n)return;a=t.createElement(c),s=t.getElementsByTagName(c)[0],a.async=1,a.src=n,s.parentNode.insertBefore(a,s)}(window,document,"script","https://mc.yandex.ru/metrika/tag.js?id=104072655","ym"),ym(0x63405cf,"init",{ssr:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1})</script><link href=https://cdn.jsdelivr.net rel=preconnect><script type=application/ld+json>{"@context":"http://schema.org","@type":"Person","email":"mailto:gracefullight.dev@gmail.com","image":"https://avatars.githubusercontent.com/u/11773683?v=4","jobTitle":"FullStack JavaScript Developer","logo":"https://gracefullight.dev/img/apple-touch-icon.png","name":"Eunkwang Shin","nationality":"Korean","sameAs":["https://github.com/gracefullight","https://linkedin.com/in/gracefullight"],"url":"https://gracefullight.dev"}</script><link rel=stylesheet crossorigin=anonymous href=https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css type=text/css><link rel=stylesheet href=/en/assets/css/styles.41650a32.css /><script src=/en/assets/js/runtime~main.4bac1e9e.js defer></script><script src=/en/assets/js/main.59b6dddb.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/en/img/favicon-32x32.png /><link rel=preload as=image href="https://avatars.githubusercontent.com/u/11773683?v=4"/><div role=region aria-label="Skip to main content"><a class=skipToContent_OqUV href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/favicon-32x32.png alt="gracefullight.dev blog logo" class="themedComponent_leTS themedComponent--light_FZCI"/><img src=/en/img/favicon-32x32.png alt="gracefullight.dev blog logo" class="themedComponent_leTS themedComponent--dark_BlTQ"/></div><b class="navbar__title text--truncate">gracefullight.dev</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_PGu2><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/tags/javascript/ target=_self rel="noopener noreferrer" class=dropdown__link lang=ko>한국어</a><li><a href=/en/tags/javascript/ target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a></ul></div><a class="navbar__item navbar__link" href=/en/archive/>Archives</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/en/tags/>Tags</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_ahFW colorModeToggle_FNLe"><button class="clean-btn toggleButton_lGUf toggleButtonDisabled_s8P8" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe lightToggleIcon_rxM3"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe darkToggleIcon_QmJt"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe systemToggleIcon_M5r8"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_H3dU><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_drMG"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_iDDe thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_wrtL margin-bottom--md">Recent posts</div><div role=group><h3 class=yearGroupHeading_Hgwk>2025</h3><ul class="sidebarItemList_ioQQ clean-list"><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/10/13/fundamentals-of-software-development-009/>FSD +009</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/10/12/introduction-to-ai-010/>IAI +010</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/vocab/vocab-ai-011/>Vocabulary for AI 011</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/10/09/introduction-to-ai-009/>IAI +010</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/10/08/fundamentals-of-data-analytics-010/>FDA +010</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/vocab/vocab-ai-010/>Vocabulary for AI 010</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/vocab/vocab-ai-009/>Vocabulary for AI 009</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/22/introduction-to-ai-008/>IAI +008</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/21/fundamentals-of-data-analytics-009/>FDA +009</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/17/fundamentals-of-data-analytics-008/>FDA +008</a></ul></div></nav></aside><main class="col col--7"><header class=margin-bottom--xl><h1>113 posts tagged with "javascript"</h1><p>Any application that can be written in JavaScript, will eventually be written in JavaScript</p><a href=/en/tags/>View All Tags</a></header><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2025/06/23/syntax-analysis/>구문 분석</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2025-06-23T00:38:29.608Z>June 23, 2025</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=개념도>개념도<a href=#개념도 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-c codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-c codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>while</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">count </span><span class="token operator" style=color:#393A34>&lt;=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>100</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  count</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// ...</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<!-- -->
<ul>
<li>재귀적 하향 구문 분석: recursive descent parsing</li>
<li>LL(0) 문법: 어떤 비단말 노드에서 유도되는 규칙이 여러 개인 경우에, 그 중 어떤 규칙을 적용할지는 항상 첫 번째 토큰만 보고 결정 가능한 속성</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=구문-예시>구문 예시<a href=#구문-예시 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<table><thead><tr><th>요소<th>예시<tbody><tr><td>keyword<td><code>'class' | 'function' | 'if' | 'else' | 'while' | 'for' | 'return' | 'int' | 'string' | 'boolean' | 'true' | 'false' | 'null'...</code><tr><td>symbol<td><code>'(', ')' | '{', '}' | '[', ']' | ';' | ',' | '.' | '=' | '==' | '!=' | '&lt;' | '>' | '&lt;=' | '>=' | '~'</code><tr><td>integerConstant<td>10진수 숫자<tr><td>stringConstant<td>따옴표와 줄바꿈 문자를 제외한 유니코드 문자열<tr><td>identifier<td>숫자로 시작하지 않는, 영문자, 숫자, 밑줄(_)로 구성된 문자열<tr><td>comment<td><code>//</code>로 시작하는 한 줄 주석, <code>/* ... */</code>로 감싸진 여러 줄 주석<tr><td>whitespace<td>공백, 탭, 줄바꿈 문자 등</table>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=프로그램-구조>프로그램 구조<a href=#프로그램-구조 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<table><thead><tr><th>요소<th>예시<tbody><tr><td>class<td><code>'class' className '{' classVarDec\* subroutineDec\* '}'</code><tr><td>classVarDec<td><code>('static' | 'field') type varName (',' varName)\* ';'</code><tr><td>type<td><code>'int' | 'boolean' | 'char' | className</code><tr><td>subroutineDec<td><code>('constructor' | 'function' | 'method') ('void' | type) subroutineName '(' parameterList ')' '{' varDec\* subroutineBody '}'</code><tr><td>parameterList<td><code>(type varName (',' type varName)*)?</code><tr><td>subroutineBody<td><code>'{' varDec* statements '}'</code><tr><td>varDec<td><code>'var' type varName (',' varName)* ';'</code><tr><td>className<td>identifier<tr><td>subroutineName<td>identifier<tr><td>varName<td>identifier</table>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=명령문>명령문<a href=#명령문 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<table><thead><tr><th>요소<th>예시<tbody><tr><td>statements<td><code>statement\*</code><tr><td>statement:<td><code>letStatement | ifStatement | whileStatement | doStatement | returnStatement</code><tr><td>letStatement<td><code>'let' varName ('[' expression ']')? '=' expression ';'</code><tr><td>ifStatement<td><code>'if' '(' expression ')' '{' statements '}' ('else' '{' statements '}')?</code><tr><td>whileStatement<td><code>'while' '(' expression ')' '{' statements '}'</code><tr><td>doStatement<td><code>'do' subroutineCall ';'</code><tr><td>returnStatement<td><code>'return' (expression)? ';'</code></table>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=표현식>표현식<a href=#표현식 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<table><thead><tr><th>요소<th>예시<tbody><tr><td>expression<td><code>term (op term)*</code><tr><td>term<td><code>integerConstant | stringConstant | keywordConstant | varName | varName '[' expression']' | subroutineCall | '(' expression ')' | unaryOp term</code><tr><td>subroutineCall<td><code>subroutineName '(' expressionList ')' | (className | varName) '.' subroutineName '(' expressionList ')'</code><tr><td>expressionList<td><code>(expression (',' expression)*)?</code><tr><td>op<td><code>'+' | '-' | '*' | '/' | '&' | '|' | '&lt;' | '>' | '='</code><tr><td>unaryOp<td><code>'-' | '~'</code><tr><td>keywordConstant<td><code>'true' | 'false' | 'null' | 'this'</code></table></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2024/01/21/debug-aggrid/>aggrid 디버깅</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2024-01-21T13:38:08.633Z>January 21, 2024</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=aggrid>AGGRID<a href=#aggrid class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>풀스펙을 지원하는 그리드</li>
<li>대부분의 기능들은 엔터프라이즈 모듈로 분기되어있다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=모듈정보>모듈정보<a href=#모듈정보 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li><a href=https://ag-grid.com/react-data-grid/modules/ target=_blank rel="noopener noreferrer">Modules</a>
<ul>
<li><code>ag-grid-react</code>는 통 패키지</li>
<li><code>@ag-grid-community</code>, <code>@ag-grid-enterprise</code> 스코프 하위는 모듈</li>
</ul>
</li>
<li><a href=https://ag-grid.com/react-data-grid/modules-building/ target=_blank rel="noopener noreferrer">Modules - Example</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=데이터-페칭>데이터 페칭<a href=#데이터-페칭 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>onGridReady 이후 실행</li>
</ul>
<div class="language-ts codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-ts codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> onGridReady </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>useCallback</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">params</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> GridReadyEvent</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>fetch</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"https://www.ag-grid.com/example-assets/olympic-winners.json"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>then</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">resp</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=></span><span class="token plain"> resp</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>json</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>then</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">data</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> IOlympicData</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token function" style=color:#d73a49>setRowData</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">data</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=코드-예시>코드 예시<a href=#코드-예시 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li><a href=https://github.com/ag-grid/ag-grid-react-example/blob/master/src/richGridDeclarativeExample/RichGridDeclarativeExample.jsx target=_blank rel="noopener noreferrer">Full Spec</a></li>
<li>여기서 보는 게 낫다. 문서가 최신화 되어있지 않다.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2023/06/25/atomic-state-management-with-valtio/>Atom-based state management and Valtio</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2023-06-25T07:45:45.480Z>June 25, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>At one point, redux-saga seemed like a cool way to solve redux's tired state management, and then a combination of atomic states seemed like the way to go.</li>
<li>That's why I've mostly used recoil, but if you're using query or swr, you don't need such a complicated feature to manage local UI state.</li>
<li>recoil seems to be an almost abandoned project with only bug fixes in the meta. <a href=https://github.com/facebookexperimental/Recoil/discussions/2171 target=_blank rel="noopener noreferrer">discussion#2171</a></li>
<li>Anyway, local UI state just needs to have a pub/sub pattern.</li>
<li>The winner of the 2023 state management library seems to be <strong>zustand</strong>.<!-- -->
<ul>
<li>If you're building an event/messaging based system, it makes sense to use that library with the Flux pattern.</li>
<li>If you're building an editor with action-based behavior for all front-end features, or if you're integrating with a chat system that receives function call requests, that's one thing.</li>
</ul>
</li>
<li>But for a typical use case, Flux is overkill, except for cascading forms, badges, modals, etc.</li>
<li>If I were developing alone, I would want to separate the backend from the frontend, separate the Local, Dev, Stage, and Prod stages, and have a DB, scheduler, queue, API, and SSR stack.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=atom>atom<a href=#atom class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>Read first; <a href=https://medium.com/@yujso66/%EB%B2%88%EC%97%AD-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC%EC%9D%98-%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%9D%90%EB%A6%84-6e5ed0022e39 target=_blank rel="noopener noreferrer">The new wave of React state management</a>을 보자.</li>
<li>Atomic, pub/sub, and derived are possible.</li>
<li>Using derived state is also rarely necessary unless you need a new state per ID. For data, query already does the job.</li>
<li>Atomic design and atomic state management became a necessity.</li>
<li>With many developers working asynchronously, it was important to keep track of which files were atoms and what they were for.</li>
<li>We have a <code>*.atom.ts</code> file superfix and a <code>*State</code> variable name superfix.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=valtio>valtio<a href=#valtio class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>Both <a href=https://github.com/pmndrs/jotai/blob/main/src/vanilla/atom.ts#L83 target=_blank rel="noopener noreferrer">jotai/atom</a> and <a href=https://github.com/facebookexperimental/Recoil/blob/main/packages/recoil/recoil_values/Recoil_atom.js#L185 target=_blank rel="noopener noreferrer">Recoil/atom</a> manage atom-based state and propagate state.</li>
<li><a href=https://github.com/pmndrs/valtio/blob/main/src/vanilla.ts#L156 target=_blank rel="noopener noreferrer">valtio/proxy</a> implements the same functionality using Proxy and Reflect.</li>
<li>Memory management is not the worst, as you can see from the <a href=https://krausest.github.io/js-framework-benchmark/2023/table_chrome_114.0.5735.90.html target=_blank rel="noopener noreferrer">Results for js web frameworks benchmark</a>.</li>
<li>zustand, jotai, and valtio are all open source, covered by the <a href="https://github.com/orgs/pmndrs/repositories?q=&type=all&language=&sort=stargazers" target=_blank rel="noopener noreferrer">pmndrs</a> community, with <a href=https://github.com/dai-shi target=_blank rel="noopener noreferrer">the same person</a> as a contributor and maintainer.</li>
<li>It just works, as his comments in <a href=https://github.com/pmndrs/valtio/discussions/128 target=_blank rel="noopener noreferrer">valito/discussion#128</a> show.</li>
<li><a href=https://github.com/pmndrs/valtio/issues/141#issuecomment-891214314 target=_blank rel="noopener noreferrer">valito/issues#141</a> Having spent a year on Redux and Redux-saga, and two years on Mobx POC and Recoil, this comment really resonated with me.</li>
<li>For the time being, I'm going to create several projects and try to use this state management library in all of them.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2023/06/17/migrate-yarn-to-pnpm/>Migrate from yarn to pnpm</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2023-06-16T23:42:13.449Z>June 16, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>Yarn berry was all the rage.</li>
<li>I tried it and found quite a few problems, which is why I ended up choosing pnpm.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=problems>Problems<a href=#problems class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=zipfs>zipfs<a href=#zipfs class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>It stores all the packages and logs all the diffs. This is a major culprit for repository size. Difficult to manage images under 1GB.</li>
<li>If typescript goes up, yarn berry version should go up. I want to use the latest syntax in typescript right away, but I can't keep up.</li>
<li>I need to update the executable with <code>yarn dlx @yarnpkg/sdks vscode</code> whenever typescript, eslint, and prettier are released.</li>
<li>In a project with 20+ front-end developers, this is hard to enforce.</li>
<li>It is not possible to test this by making small changes to the source inside the package.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=opensource>opensource<a href=#opensource class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>Monolithic tools like turbo, environments with postinstall hooks like prism, or preset configurators like <code>create-*</code> reference <code>node_modules</code> directly.</li>
<li>Often it won't even run, and you'll have to wait for an open issue in each repo. I'm not writing this to analyze yarn berry's pnp script.</li>
<li>In this case, I'd have to give it a <code>nodeLinker</code> and use it the same way I would with yarn 1, with no advantage.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=workspaces>workspaces<a href=#workspaces class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>The yarn workspaces feature is cool, and <a href=https://github.com/yarnpkg/berry target=_blank rel="noopener noreferrer">yarnpkg/berry</a> is a perfect example of it.</li>
<li>But it's only cool if you're only developing node.js libraries. Libraries for the frontend need a bundler, and there's no reference for that.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=benchmarks>Benchmarks<a href=#benchmarks class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>Benchmark scores are managed by Pnpm on a daily basis.</li>
<li>Slowness is acceptable with pipeline cache and lock files enabled. It's a one-time slowdown, not a request/response slowdown, so it can be handled by probes anyway.</li>
</ul>
<p><img decoding=async loading=lazy src=https://d33wubrfki0l68.cloudfront.net/0cb4f1b1466c5e04cdfd5047d6d509a6a3726996/ea3c9/img/benchmarks/alotta-files.svg alt=https://pnpm.io/benchmarks class=img_tzfx /></p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=conclusion>Conclusion<a href=#conclusion class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>The plugin features in yarn berry are cool, but they add more stress to dependency management.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/nodejs/>nodejs</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2023/01/19/chatgpt-use-case/>ChatGPT use cases</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2023-01-19T13:44:09.237Z>January 19, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>Here's a list of use cases where you can get past the hype and actually use it for something useful.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=extracting-regular-expressions>Extracting regular expressions<a href=#extracting-regular-expressions class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>Creating regular expressions usually involves a lot of testing.
I usually put the desired text in regexr, regex101, and match the negative/positive lookahead from memory, and use negative/positive lookbehind, but often find that negative lookbehind is not supported by different programming versions/languages.</p>
<p>Now I ask ChatGPT. Suppose you want to extract the package name from the package update history below.</p>
<div class="language-text codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-text codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">Hello GPT.</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Can you give me a regex pattern for getting to-be result?</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">as-is:</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Orignal content</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">to-be:</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Refined string #1</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Refined string #2</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">...and so on.</span><br/></span></code></pre></div></div>
<p>It will get it for you.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=writing-documentation-with-code>Writing documentation with code<a href=#writing-documentation-with-code class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>If you want your code to be documented, put it in and ask it to create a README.md.</p>
<div class="language-text codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-text codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">Can you write a README.md with this code?</span><br/></span></code></pre></div></div>
<p>It will get it for you.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=create-an-object-validation-schema-with-the-interface>Create an Object Validation Schema with the interface<a href=#create-an-object-validation-schema-with-the-interface class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>Let's create a Joi Schema with a TypeScript interface.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=create-a-query-dsl-with-raw-sql>Create a Query DSL with Raw SQL<a href=#create-a-query-dsl-with-raw-sql class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>Pass in a raw query and ask it to create a query DSL and query helper syntax.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=create-a-ddl-with-data>Create a DDL with Data<a href=#create-a-ddl-with-data class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>Pass in a query and ask it to generate a table schema query like the interface example above.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=see>See<a href=#see class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>awesome is now live. <a href=https://github.com/f/awesome-chatgpt-prompts target=_blank rel="noopener noreferrer">https://github.com/f/awesome-chatgpt-prompts</a></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/chatgpt/>chatgpt</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2023/01/10/migrate-blog-from-hexo-to-docu/>Migrate a blog from hexo to docusaurus</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2023-01-10T14:26:34.674Z>January 10, 2023</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>I've been using hexo since 2016, and I love it because it has a lot of plugins and themes.
Since 2019. As there are many other Static Site Generators, the advantages of hexo are no longer available.
The updates of ecosystem libraries such as theme and plugin development have also decreased.</p>
<p>The stack was theme-dependent: ejs -> njk, less -> sass -> stylus.
Crucially, it's a nodejs-based core, so even if I uploaded a troubleshooting, it was a waste of resources.</p>
<p>Docusaurus didn't have algolia search when it was 1-2 alpha.
There was a shovel to swizzle and use the local search community plugin to attach it, and Korean did not work normally.</p>
<p>In 2023, version 2 was launched, the frontend stack was unified based on React, and it seemed like it was okay to proceed with this work.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=troubleshooting>Troubleshooting<a href=#troubleshooting class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=seo>SEO<a href=#seo class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=uri>URI<a href=#uri class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<ul>
<li>hexo puts the date inside the front-matter syntax as <code>date: 2023-01-10 09:00:00</code>.</li>
<li>docusaurus should use the <a href=https://docusaurus.io/docs/blog#blog-post-date target=_blank rel="noopener noreferrer">nested folder structure</a>.</li>
<li>It will parse the front-matter.date in the md file and treat it like <code>/2023/01/10/title</code> in the URL.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=site-verification>Site Verification<a href=#site-verification class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<ul>
<li>I put it in the configuration without any problems.</li>
</ul>
<div class="language-json codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>docusaurus.config.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-json codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"themeConfig"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"metadata"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token comment" style=color:#999988;font-style:italic>// ? https://search.google.com/search-console</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"google-site-verification"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"content"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"g"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=hexo-new>hexo new<a href=#hexo-new class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li><code>hexo new post "title"</code> This command creates a post, but I needed a compatible command.</li>
<li>I used <code>yarn cmd new title</code> to generate what looks like <code>blog/2023/01/10/title.mdx</code> as of today.</li>
<li>For URL normalization, you can use <code>import { slugize } from "hexo-util";</code>.<!-- -->
<ul>
<li>slugify also removes Korean characters.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=archive>archive<a href=#archive class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>The archive of hexo is Order by Created DESC, while docusaurus is ASC sorted.</li>
<li>There was an issue to provide this as a plugin option, but it was closed, and do it yourself was the answer.</li>
<li>I created one, <a href=https://github.com/facebook/docusaurus/blob/main/packages/docusaurus-theme-classic/src/theme/BlogArchivePage/index.tsx target=_blank rel="noopener noreferrer">overwrote the existing component</a>, rearranged it, and linked it.</li>
</ul>
<div class="language-json codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>docusaurus.config.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-json codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"presets"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"classic"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"blog"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// path.resolve needed</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"blogArchiveComponent"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"./src/component/BlogArchiveDescendingPage.tsx"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=tag>tag<a href=#tag class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>A docusaurus tag is defined as <code>tags: [tag1, tag2]</code> and must satisfy this format.</li>
<li>I asked ChatGPT for a regular expression and replaced it with the whole thing.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=github-action>github action<a href=#github-action class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>Set up the target repo and branch.</li>
<li>Issue a personal access token and insert the two values appropriately.</li>
<li>Run yarn build, yarn deploy and it should work fine.</li>
</ul>
<div class="language-json codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>docusaurus.config.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-json codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"organizationName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"gracefullight"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"projectName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"gracefullight.github.io"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"deploymentBranch"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"main"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"trailingSlash"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<div class="language-yml codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>workflows/main.yml</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-yml codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#00a4db>env</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>GIT_USER</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> $</span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> secrets.GIT_USER </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>GIT_PASS</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> $</span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> secrets.GIT_PASS </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=dark-only>dark only<a href=#dark-only class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>Dark only, also deleted the switch.</li>
</ul>
<div class="language-json codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>docusaurus.config.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-json codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"themeConfig"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"colorMode"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"defaultMode"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"dark"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"disableSwitch"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=code-block>code block<a href=#code-block class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>has a different format, so I replaced it with a regular expression.</li>
</ul>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># hexo</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>\</span><span class="token variable" style=color:#36acaa>`</span><span class="token variable punctuation" style=color:#393A34>\</span><span class="token variable" style=color:#36acaa>`</span><span class="token punctuation" style=color:#393A34>\</span><span class="token variable" style=color:#36acaa>`</span><span class="token variable" style=color:#36acaa>language title</span><br/></span><span class=token-line style=color:#393A34><span class="token variable" style=color:#36acaa></span><br/></span><span class=token-line style=color:#393A34><span class="token variable" style=color:#36acaa></span><span class="token variable comment" style=color:#999988;font-style:italic># docusaurus</span><span class="token variable" style=color:#36acaa></span><br/></span><span class=token-line style=color:#393A34><span class="token variable" style=color:#36acaa></span><span class="token variable punctuation" style=color:#393A34>\</span><span class="token variable" style=color:#36acaa>`</span><span class="token punctuation" style=color:#393A34>\</span><span class="token variable" style=color:#36acaa>`</span><span class="token variable punctuation" style=color:#393A34>\</span><span class="token variable" style=color:#36acaa>`</span><span class="token plain">language </span><span class="token assign-left variable" style=color:#36acaa>title</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"title"</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=comment>comment<a href=#comment class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>I don't have time to answer questions about the comment feature.</li>
<li>I tried to delete it, but I customized it and integrated gitalk.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=search>search<a href=#search class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>I requested free indexing because algolia is not an open source documentation, but the ticket status didn't change.</li>
<li>I used <a href=https://github.com/easyops-cn/docusaurus-search-local target=_blank rel="noopener noreferrer">@easyops-cn/docusaurus-search-local</a>, but it doesn't support mobile.</li>
</ul>
<div class="language-json codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>docusaurus.config.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-json codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"themes"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"@easyops-cn/docusaurus-search-local"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/** @type {import("@easyops-cn/docusaurus-search-local").PluginOptions} */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"indexDocs"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"blogRouteBasePath"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"hashed"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"language"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"en"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"ko"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<ul>
<li>After about a week, algolia replied and the indexing was successfully completed.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=result>Result<a href=#result class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>LGTM</li>
<li>I think I need to build <a href=https://docusaurus.io/docs/search#using-typesense-docsearch target=_blank rel="noopener noreferrer">typesense</a> first, so it won't be easy.</li>
<li>If you don't need to view it on mobile, the above plugin should be enough.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/nodejs/>nodejs</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2022/11/24/nextjs-13-app-dir/>Nextjs App Directory</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2022-11-24T23:16:14.000Z>November 24, 2022</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=개요>개요<a href=#개요 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>nextjs 13버전에서 app 디렉토리가 생기면서 client/server 컴포넌트를 쉽게 사용할 수 있는 환경이 되었다.</li>
<li><code>getStaticProps</code>, <code>getServerSideProps</code> 와 같은 메소드가 사라졌고, 양쪽이 <code>fetch</code> 로 통합이 되었다.</li>
<li>페이지별 상태 초기화를 위한 HOC 중첩을 가져가지 않아도 될 것 같았다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=app>App<a href=#app class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=nodejs--react-dom-renderer>Node.js + React DOM Renderer<a href=#nodejs--react-dom-renderer class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>app 내의 모든 로직은 Node.js 이다. 따라서 이런 로직이 가능하다.</p>
<div class="language-tsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>app/page.tsx</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-tsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> hostname </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"os"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>default</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>Main</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>{</span><span class="token function" style=color:#d73a49>hostname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>이벤트를 바인딩할 수 없다.</p>
<div class="language-tsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>app/page.tsx</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-tsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token maybe-class-name">SyntheticEvent</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>default</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>Main</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>handleSubmit</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">event</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token maybe-class-name">SyntheticEvent</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">HTMLFormElement</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"submitting"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>onSubmit</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>handleSubmit</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>button</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>submit</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text">submit</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>button</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">    </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<div class="language-html codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-html codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">Error: Event handlers cannot be passed to Client Component props.</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag" style=color:#00009f> </span><span class="token tag special-attr attr-name" style=color:#00a4db>onSubmit</span><span class="token tag special-attr attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag special-attr attr-value punctuation" style=color:#393A34>"</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style=color:#393A34>{</span><span class="token tag special-attr attr-value value javascript language-javascript keyword" style=color:#00009f>function</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style=color:#393A34>}</span><span class="token tag special-attr attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>children</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>...</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  ^^^^^^^^^^ If you need interactivity, consider converting part of this to a</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  Client Component.</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=design-system>Design system<a href=#design-system class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>대부분의 디자인 시스템 라이브러리는 <code>ThemeProvider</code> 로 테마 상태를 공유하고 Baseline StyleSheet를 전역에 넣어준다.
스타일시트를 위해 <a href=https://beta.nextjs.org/docs/styling/css-in-js#styled-components target=_blank rel="noopener noreferrer">RootStyleRegistry</a> 란 HOC 만들어 Baseline StyleSheet 를 동적으로 넣어주면 초기화는 가능하지만,</p>
<p>문제는 Server Component 내에서 use 을 사용할 수 없으니 <code>ThemeProvider</code> 로 기능동작이 불가능하다.
어찌저찌 <code>'use-client'</code> directive 로 Client Component 로 설정한다고 하여도 Provider 로 인해 하위 모든 컴포넌트가 Client Component 로 동작해야할 것이다.</p>
<p>그래서 문서에서 <a href=https://beta.nextjs.org/docs/styling/css-in-js#configuring-css-in-js-in-app target=_blank rel="noopener noreferrer">다음과 같이 표기</a>가 된 것으로 보인다.</p>
<blockquote>
<p>If you want to style Server Components, we recommend using CSS Modules or other solutions that output CSS files, like PostCSS or Tailwind CSS.</p>
</blockquote>
<p>위 방식으로 <a href=https://github.com/mui/material-ui/blob/master/examples/material-next-app-router-ts/src/components/Theme/ThemeRegistry/EmotionCache.tsx target=_blank rel="noopener noreferrer">mui/material-ui/examples/material-next-app-router-ts</a> 예시가 추가되었지만, 이렇게 쓸바에 pages 폴더 라우트와 다를 게 없다고 생각한다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=결론>결론<a href=#결론 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>아직 app 폴더를 사용하기엔 이르다.</li>
<li><a href=https://github.com/vercel/app-playground target=_blank rel="noopener noreferrer">vercel/app-playground</a>에 충분한 예시가 갖춰지고, 생태계가 React Server Component 를 충분히 지원할 때까지는 프로덕션에서 사용은 불가능하다고 보인다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=사견>사견<a href=#사견 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>개인적으로는 왜 이렇게 많이 클라이언트에서 렌더링해야해? 그냥 필요한 영역만 클라이언트에서 그려주면 되잖아? 라는 접근방식은 디버깅 관점에서 마음에 들진 않는다. 웹을 하나의 Client 관점에서 본다면, 설치의 유무만 다를 뿐 앱에서 서버에서 렌더링된 HTML을 받고 일정부분만을 Server Driven UI 로 가는거와 마찬가지다. 복잡도가 크게 증가한다.</p>
<p>이러한 시도는 이미 Dotnet, Laravel Livewire 등 다른 언어에서 많이 진행되어왔고, Remix 에서는 이미 잘 동작 중이다.
단지 React 를 서버에서 쓰기 위해 다시 MVC 시절로 회귀하려는지 모르겠다.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/typescript/>typescript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/nextjs/>nextjs</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2022/07/30/yarn-ts-스타터-체크리스트/>yarn, ts 스타터 체크리스트</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2022-07-30T14:28:02.000Z>July 30, 2022</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=개요>개요<a href=#개요 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>벤치마킹, 툴 테스팅, 엑셀 스트리밍, 맵 리듀스 등 여러가지 테스트를 위해서 빈 레파지토리를 시작해야하는 경우가 많다.
복사해서 사용하기 위해 기록해두자.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=cmd>CMD<a href=#cmd class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>yarn</span><span class="token plain"> init </span><span class="token parameter variable" style=color:#36acaa>-2</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>yarn</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>add</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-D</span><span class="token plain"> typescript ts-node @types/node</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>yarn</span><span class="token plain"> tsc </span><span class="token parameter variable" style=color:#36acaa>--init</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>touch</span><span class="token plain"> src/index.ts</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">code </span><span class="token builtin class-name">.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># package.json</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token string" style=color:#e3116c>"start"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"ts-node src/index.ts"</span><br/></span></code></pre></div></div>
<p>협업 여부에 따라 commitlint, eslint, yarn plugins 등등..</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=패키지>패키지<a href=#패키지 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>csv/tsv: <a href=https://csv.js.org/parse/options/delimiter/ target=_blank rel="noopener noreferrer">csv-parse</a></li>
<li>zip: node zlib 로는 압축파일이 깨진다. 아래 스트리밍 unzip 라이브러리를 사용해야한다.<!-- -->
<ul>
<li><a href=https://github.com/maxogden/extract-zip target=_blank rel="noopener noreferrer">maxogden/extract-zip</a> 👍</li>
<li><a href=https://github.com/antelle/node-stream-zip target=_blank rel="noopener noreferrer">antelle/node-stream-zip</a></li>
<li><a href=https://github.com/ZJONSSON/node-unzipper target=_blank rel="noopener noreferrer">ZJONSSON/node-unzipper</a></li>
</ul>
</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/typescript/>typescript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/yarn/>yarn</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2021/12/02/feconf-2021/>feconf 2021</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2021-12-02T07:19:12.000Z>December 2, 2021</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=feconf-2021>feconf 2021<a href=#feconf-2021 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=a1-do-more-with-less>A1: Do more, with less<a href=#a1-do-more-with-less class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>UI 개발의 일반적인 문제</p>
<p>화면마다 매번 새로 디자인 되는 컴포넌트: UI의 파편화로 생산성 감소
새로 구현하는게 맘편해요...</p>
<p>디자인 일관성 다운 -> 중복코드 파편화 -> 유지보수가 어려운 UI 코드 무한루프</p>
<p>디자인시스템 구성요소</p>
<ul>
<li>토큰: 컬러, 타이포그래피, 사이즈, 여백, 트랜지션…</li>
<li>컴포넌트: 토큰을 가지고 컴포넌트의 생김새 정의<!-- -->
<ul>
<li>Primary, fill, normal, disabled…</li>
</ul>
</li>
<li>패턴: Danger fill > 한 화면에 하나만 사용, 경고용도로 사용</li>
</ul>
<p>스펙을 가지고 스토리북 생성</p>
<p>디자인 시스템 가이드 정의 > 디자인과 개발에 동일한 컴포넌트 구현 및 사용 > 커뮤니케이션 비용 다운, 효율성 일관성, 퀄리티 증가</p>
<p>100명 이상 소통하기에 다른 문제가 생겼다.</p>
<ul>
<li>코드를 디자인에 일치시키는 어려움 (14:25)</li>
<li>비주얼 중심의 디자이너 언어 <code>&lt;-></code> 기능 중심의 개발자 언어<!-- -->
<ul>
<li>Blue: Primary</li>
<li>Red: Danger</li>
</ul>
</li>
<li>엄격함과 유연함 사이에 절충이 필요했다.</li>
</ul>
<p>스케치로 만들고 직접 리액트 컴포넌트를 수동으로 만들었다.</p>
<ul>
<li>휴먼 에러가 생기고, 스케치컴포넌트와 리액트컴포넌트를 서로 비교해야했다.</li>
<li>디자인과 코드 사이에 의존 관계를 만들어야한다.</li>
<li>기존 디자인툴은 모든 프롭의 조합을 그려놓아야한다. (스티커 붙히기) 파워포인트로 디자인만들기 급..<!-- -->
<ul>
<li>디자인 툴에서도 코드를 사용할 수 있으면 좋을텐데.. > 프레이머로 전환</li>
</ul>
</li>
</ul>
<p>프레이머</p>
<ul>
<li>모든 요소가 리액트 컴포넌트로 이루어짐 22:17분</li>
<li>디자이너가 프롭을 정의하고 입력할 수 있음</li>
<li>컨셉 검증을 위해 리액트로 작성된 라이브러리를 프레이머로 옮김</li>
<li>리액트 컴포넌트 수정시 디자인 컴포넌트도 수정되어 코드 동기화가 완료됨</li>
</ul>
<p>언어가 다른것</p>
<ul>
<li>제플린, 피그마에서 디자인한건지 디자인시스템컴포넌트인지를 확인하려면 일일히 눌러봐야함<!-- -->
<ul>
<li>토스에서는 손가락 이모지를 앞에 넣어서 명시적으로 이름을 바꿧음<!-- -->
<ul>
<li>button-1. fill-medium-primary (style, size, color)</li>
</ul>
</li>
<li>박스에 버튼이 있는경우, 알 수가 없음.. 박스에 들어가는 버튼인지 버튼만을 넣는것인지... (29:49)</li>
</ul>
</li>
</ul>
<p>왜 디자인을 다시 개발해야하는가?
프레이머로 커스텀 핸드오프 기능 구현</p>
<ul>
<li>클릭시 전체 자식 노드의 프롭 정보를 노출시킴 (32:09)</li>
<li>개발자와 디자이너의 언어도 일치시킴</li>
</ul>
<p>DST (Design Syntax Tree)</p>
<ul>
<li>리액트 노드의 형태를 모방해서 기계가 파싱가능한 트리구조로 추상화 (33:41)</li>
<li>DST Element (34:22) -> DST React Renderer (35:20) (35:38)</li>
</ul>
<div class="language-json codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-json codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"elementType"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AmountTop"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"properties"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"title"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"subtitle"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"button"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"elementType"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"button"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>"properties"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"Title"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"Type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"Style"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"fill"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>디자인을 바로 코드로 옮기는 목표 달성</p>
<p>엄격함과 유연함</p>
<ul>
<li>디자인 시스템에 컴포넌트가 있는줄 몰랐어요</li>
<li>구멍인 줄은 알았는데 자유롭게 쓰고 싶었어요</li>
<li>컴포넌트를 쓰긴 했는데 패턴을 어긴지 몰랐어요 등등..</li>
<li>커스텀 컴포넌트 계속 만들면 디자인시스템 도입 이전하고 똑같음</li>
<li>리스트 컴포넌트 스펙 참조 (41:21)<!-- -->
<ul>
<li>디자이너가 컴포넌트 목록을 잘 몰라서 새로 만드는 경우</li>
<li>가이드가 힘들었음 (43:26)</li>
<li>디자인 시스템 관리자가 매번 패턴 점검 필요</li>
</ul>
</li>
</ul>
<p>디자인 린터 (디자인 시스템 커버리지 계산기)</p>
<ul>
<li>권장 패턴이 아닌 경우 알림</li>
<li>DST 를 통해 디자인 분석</li>
<li>크롬 확장프로그램으로<!-- -->
<ul>
<li>프레이머 웹사이트의 html 에서 Dst 정보 파싱</li>
<li>DST 에서 컴포넌트 관계 분석</li>
<li>권장 패턴에 맞게 사용중인지 계산 (권장 패턴 요소 개수 / 전체 요소 개수) (44:50)</li>
<li>학습비용과 전파비용을 극복함</li>
</ul>
</li>
</ul>
<p>React + DST (46:20)</p>
<ul>
<li>DST 의 스펙만 확장시키면 됨</li>
<li>Server driven UI 나 다른 언어 컴포넌트로 전환도 가능해보임.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=a6-swc>A6: swc<a href=#a6-swc class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>많은 벤더가 전환 중</li>
</ul>
<p>개인적인 의견: 엄청 빨라짐, 아직 롤업 플러그인 지원은 미비, 모든 Node 생태계가 러스트로 이동 중, swcpack 프로덕션 기대</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=b1-recoil>B1: recoil<a href=#b1-recoil class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>개인적인 의견: 인포그래픽 아름다워서 공유용으로 적합.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/conference/>conference</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2021/11/17/nodejs-alpine3-13-benchmark/>nodejs alpine3.13 테스트</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2021-11-17T23:24:45.000Z>November 17, 2021</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=개요>개요<a href=#개요 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>docker nodejs base image 에 alpine3.13 에 대한 이미지가 있어서 <a href=https://alpinelinux.org/posts/Alpine-3.13.0-released.html target=_blank rel="noopener noreferrer">릴리즈노트</a>를 확인했다.</li>
<li><code>Node.js (LTS) is compiled with -O2 instead of -Os which noticeably improves performance.</code> 란 구문이 눈에 띄었다.</li>
<li>noticeably improves 란 추상적인 표현은 호기심을 자극하기에 충분했다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=히스토리>히스토리<a href=#히스토리 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>처음에 빌드 플래그 변경을 제안한 사람에 따르면, 빌드 플래그 수정으로 <a href=https://lists.alpinelinux.org/~alpine/devel/%3C1593625212.dirkptm3b0.none%40localhost%3E target=_blank rel="noopener noreferrer">15% speedup 이 있을 것</a>이라고 하였다.</li>
<li>이에 몇몇 알파인 패키지들이 O2 로 전환되었고, Node.js도 <a href="https://git.alpinelinux.org/aports/commit/?id=53dd8b58d838892bd9fe4849d7e239e0406e14eb" target=_blank rel="noopener noreferrer">2020-12-19 커밋</a>에 포함되었다.</li>
<li>여기엔 아래와 같은 코멘트가 달려있고, <a href=https://github.com/v8/web-tooling-benchmark target=_blank rel="noopener noreferrer">v8/web-tooling-benchmark</a>를 사용한 것으로 보였다.</li>
</ul>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># Compiling with O2 instead of Os increases binary size by ~10%</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># (53.1 MiB -> 58.6 MiB), but also increases performance by ~20%</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># according to v8/web-tooling-benchmark</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=테스트1>테스트1<a href=#테스트1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>빌드 플래그의 변경으로 nodejs 유저가 베이스 이미지의 버전을 하나 올려주는 것만으로 어플리케이션의 성능을 20% 까지 올릴 수 있다는 이야기로 보였다.</li>
<li><a href=https://github.com/fastify/benchmarks target=_blank rel="noopener noreferrer">fastify/benchmarks</a> 레파지토리의 <a href=https://github.com/fastify/benchmarks/blob/master/benchmarks/express.js target=_blank rel="noopener noreferrer">Express.js</a> 를 아래처럼 도커라이징했다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=node12>node<!-- -->:lts-alpine3<!-- -->.12<a href=#node12 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<div class="language-dockerfile codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-dockerfile codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># 테스트 당시 LTS === 14</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>FROM</span><span class="token instruction"> node:lts-alpine3.12</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>RUN</span><span class="token instruction"> mkdir -p /usr/src/app </span><span class="token instruction operator" style=color:#393A34>\</span><span class="token instruction"></span><br/></span><span class=token-line style=color:#393A34><span class="token instruction">  && chown node:node -R /usr/src/app</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>WORKDIR</span><span class="token instruction"> /usr/src/app</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>COPY</span><span class="token instruction"> </span><span class="token instruction options property" style=color:#36acaa>--chown</span><span class="token instruction options punctuation" style=color:#393A34>=</span><span class="token instruction options string" style=color:#e3116c>node:node</span><span class="token instruction"> package*.json ./</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>USER</span><span class="token instruction"> node</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>RUN</span><span class="token instruction"> npm install && npm cache clean --force</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>COPY</span><span class="token instruction"> </span><span class="token instruction options property" style=color:#36acaa>--chown</span><span class="token instruction options punctuation" style=color:#393A34>=</span><span class="token instruction options string" style=color:#e3116c>node:node</span><span class="token instruction"> . .</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>EXPOSE</span><span class="token instruction"> 3000</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>CMD</span><span class="token instruction"> [ </span><span class="token instruction string" style=color:#e3116c>"node"</span><span class="token instruction">, </span><span class="token instruction string" style=color:#e3116c>"server.js"</span><span class="token instruction"> ]</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=node13>node<!-- -->:lts-alpine3<!-- -->.13<a href=#node13 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<div class="language-dockerfile codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-dockerfile codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># 테스트 당시 LTS === 14</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>FROM</span><span class="token instruction"> node:lts-alpine3.13</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>RUN</span><span class="token instruction"> mkdir -p /usr/src/app </span><span class="token instruction operator" style=color:#393A34>\</span><span class="token instruction"></span><br/></span><span class=token-line style=color:#393A34><span class="token instruction">  && chown node:node -R /usr/src/app</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>WORKDIR</span><span class="token instruction"> /usr/src/app</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>COPY</span><span class="token instruction"> </span><span class="token instruction options property" style=color:#36acaa>--chown</span><span class="token instruction options punctuation" style=color:#393A34>=</span><span class="token instruction options string" style=color:#e3116c>node:node</span><span class="token instruction"> package*.json ./</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>USER</span><span class="token instruction"> node</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>RUN</span><span class="token instruction"> npm install && npm cache clean --force</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>COPY</span><span class="token instruction"> </span><span class="token instruction options property" style=color:#36acaa>--chown</span><span class="token instruction options punctuation" style=color:#393A34>=</span><span class="token instruction options string" style=color:#e3116c>node:node</span><span class="token instruction"> . .</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>EXPOSE</span><span class="token instruction"> 3000</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>CMD</span><span class="token instruction"> [ </span><span class="token instruction string" style=color:#e3116c>"node"</span><span class="token instruction">, </span><span class="token instruction string" style=color:#e3116c>"server.js"</span><span class="token instruction"> ]</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=결과1>결과1<a href=#결과1 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>컨테이너는 테스트되는 이미지만을 띄웠고, docker 4CPUs, 6G RAM 에서 실행했다.</p>
<p><code>autocannon -c 100 -d 40 -p 10 localhost:3000</code></p>
<p>부푼 기대만큼 결과가 같게 나왔으면 좋겠지만 결과 추가를 못할만큼 Latency, Req/Sec, Bytes/Sec 모든 수치에서 엎치락 뒤치락하는 모습을 보였다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=테스트2>테스트2<a href=#테스트2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>noticeably improves 는 CPU intensive Task 를 비교해봐야하는 것일까란 의문만 남았다.</li>
<li>node official image 를 확인해보니 <a href=https://github.com/nodejs/docker-node/blob/main/16/alpine3.13/Dockerfile target=_blank rel="noopener noreferrer">nodejs.org의 배포본</a>을 풀어 사용하는 것으로 보였다.</li>
<li>따라서 이미지를 alpine 패키지를 사용할 수 있게 재구성하고 테스트했다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=alpine313>alpine:3.13<a href=#alpine313 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<div class="language-dockerfile codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-dockerfile codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token instruction keyword" style=color:#00009f>FROM</span><span class="token instruction"> alpine:3.13</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>RUN</span><span class="token instruction"> apk add --update nodejs npm</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>RUN</span><span class="token instruction"> addgroup -g 1000 node </span><span class="token instruction operator" style=color:#393A34>\</span><span class="token instruction"></span><br/></span><span class=token-line style=color:#393A34><span class="token instruction">  && adduser -u 1000 -G node -s /bin/sh -D node </span><span class="token instruction operator" style=color:#393A34>\</span><span class="token instruction"></span><br/></span><span class=token-line style=color:#393A34><span class="token instruction">  && mkdir -p /usr/src/app </span><span class="token instruction operator" style=color:#393A34>\</span><span class="token instruction"></span><br/></span><span class=token-line style=color:#393A34><span class="token instruction">  && chown node:node -R /usr/src/app</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>WORKDIR</span><span class="token instruction"> /usr/src/app</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>COPY</span><span class="token instruction"> </span><span class="token instruction options property" style=color:#36acaa>--chown</span><span class="token instruction options punctuation" style=color:#393A34>=</span><span class="token instruction options string" style=color:#e3116c>node:node</span><span class="token instruction"> package*.json ./</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>USER</span><span class="token instruction"> node</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>RUN</span><span class="token instruction"> npm install && npm cache clean --force</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>COPY</span><span class="token instruction"> </span><span class="token instruction options property" style=color:#36acaa>--chown</span><span class="token instruction options punctuation" style=color:#393A34>=</span><span class="token instruction options string" style=color:#e3116c>node:node</span><span class="token instruction"> . .</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>EXPOSE</span><span class="token instruction"> 3000</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token instruction keyword" style=color:#00009f>CMD</span><span class="token instruction"> [ </span><span class="token instruction string" style=color:#e3116c>"node"</span><span class="token instruction">, </span><span class="token instruction string" style=color:#e3116c>"server.js"</span><span class="token instruction"> ]</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=결과2>결과2<a href=#결과2 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>더 느렸다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=결론>결론<a href=#결론 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>noticeably improves, ~20% 란 문구로 인해 <code>fastify/benchmarks</code> 로직으로 도커라이징하여 테스트해보았으나 비슷한 퍼포먼스를 보여주었다.</li>
<li>위의 수치를 검증할 수 있는 테스트베드가 있다면 돌려보고 싶다. (링크 있으시면 공유부탁드립니다.)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=참조>참조<a href=#참조 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>Build flag 비교: <a href=https://wiki.kldp.org/wiki.php/GccOptimizationOptions target=_blank rel="noopener noreferrer">GCC Optimization Options</a></li>
<li><a href="https://git.alpinelinux.org/aports/tree/main/nodejs/APKBUILD?h=3.13-stable" target=_blank rel="noopener noreferrer">alpine3.13 nodejs apkbuild</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/nodejs/>nodejs</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/alpine/>alpine</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/docker/>docker</a></ul></div></footer></article><nav class=pagination-nav aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href=/en/tags/javascript/page/2/><div class=pagination-nav__label>Older Entries</div></a></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Support Me</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.buymeacoffee.com/LOUB2kN target=_blank rel="noopener noreferrer" style="cursor: pointer;">
                <img src=https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png style="height: auto !important;width: auto !important;">
              </a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Feeds</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://gracefullight.dev/rss.xml target=_blank rel="noopener noreferrer" class=footer__link-item>RSS<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_ZLQs><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://gracefullight.dev/atom.xml target=_blank rel="noopener noreferrer" class=footer__link-item>Atom<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_ZLQs><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2016 - 2023 Gracefullight. Built with Docusaurus.</div></div></div></footer></div></body>