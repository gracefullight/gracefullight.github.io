<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>12 posts tagged with "react" | gracefullight.dev</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://gracefullight.dev/en/tags/react/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true property=og:locale:alternate content=ko /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true content=gcY9SiftHgQoJjBZ7IgwNNN5_atLPAX6kWb1nFVfa6E name=google-site-verification /><meta data-rh=true content=65AD1E28C0D057CEB3C68FBC0293E55B name=msvalidate.01 /><meta data-rh=true content=d024c2837887f72dc7b3792b958be74d69ba9593 name=naver-site-verification /><meta data-rh=true content=f7c93483a6f87c79 name=yandex-verification /><meta data-rh=true content=yZEdU1ABcR name=baidu-site-verification /><meta data-rh=true content=uelupjqqsm5egzlhy1aev2rfxow5yt name=facebook-domain-verification /><meta data-rh=true property=og:title content='12 posts tagged with "react" | gracefullight.dev'/><meta data-rh=true name=docusaurus_tag content=blog_tags_posts /><meta data-rh=true name=docsearch:docusaurus_tag content=blog_tags_posts /><link data-rh=true rel=icon href=/en/img/favicon.ico /><link data-rh=true rel=canonical href=https://gracefullight.dev/en/tags/react/ /><link data-rh=true rel=alternate href=https://gracefullight.dev/tags/react/ hreflang=ko /><link data-rh=true rel=alternate href=https://gracefullight.dev/en/tags/react/ hreflang=en /><link data-rh=true rel=alternate href=https://gracefullight.dev/tags/react/ hreflang=x-default /><link data-rh=true rel=preconnect href=https://RFS69RSYOJ-dsn.algolia.net crossorigin=anonymous /><link rel=alternate type=application/rss+xml href=/en/rss.xml title="gracefullight.dev RSS Feed"><link rel=alternate type=application/atom+xml href=/en/atom.xml title="gracefullight.dev Atom Feed"><link rel=alternate type=application/json href=/en/feed.json title="gracefullight.dev JSON Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-E99DNE7S05"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E99DNE7S05",{})</script><link rel=search type=application/opensearchdescription+xml title=gracefullight.dev href=/en/opensearch.xml><link href=/en/img/favicon-32x32.png rel=icon><link href=/en/manifest.json rel=manifest><meta content=#f28913 name=theme-color><meta content=yes name=mobile-web-app-capable><meta content=#f28913 name=apple-mobile-web-app-status-bar-style><link href=/en/img/apple-touch-icon.png rel=apple-touch-icon><link rel=preconnect href=https://pagead2.googlesyndication.com><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3004788392777865" async crossorigin=anonymous></script><link rel=preconnect href=https://www.clarity.ms><script>!function(t,e,n,a,c,i,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(i=e.createElement(a)).async=1,i.src="https://www.clarity.ms/tag/"+c,(r=e.getElementsByTagName(a)[0]).parentNode.insertBefore(i,r)}(window,document,"clarity","script","aongv9xgi6")</script><link rel=preconnect href=https://wcs.naver.net><script src=https://wcs.naver.net/wcslog.js async></script><script>if(!wcs_add)var wcs_add={};wcs_add.wa="156bc73a81e3bd0",window.wcs&&wcs_do()</script><link rel=preconnect href=https://cdn.channel.io><script>!function(){var n=window;if(n.ChannelIO)return(window.console.error||window.console.log||function(){})("ChannelIO script included twice.");var e=function(){e.c(arguments)};function t(){if(!n.ChannelIOInitialized){n.ChannelIOInitialized=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.channel.io/plugin/ch-plugin-web.js",e.charset="UTF-8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}e.q=[],e.c=function(n){e.q.push(n)},n.ChannelIO=e,"complete"===document.readyState?t():window.attachEvent?window.attachEvent("onload",t):(window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1))}(),ChannelIO("boot",{pluginKey:"0fd130ba-a1a6-4b7e-802a-e82a885a7fd8"})</script><link rel=preconnect href=https://static.cloudflareinsights.com><script src=https://static.cloudflareinsights.com/beacon.min.js defer data-cf-beacon='{"token":"c0899829e72b45e98dff77241127252c"}'></script><link href=https://mc.yandex.ru rel=preconnect><script>!function(e,t,c,n,r,a,s){e[r]=e[r]||function(){(e[r].a=e[r].a||[]).push(arguments)},e[r].l=+new Date;for(var i=0;i<document.scripts.length;i++)if(document.scripts[i].src===n)return;a=t.createElement(c),s=t.getElementsByTagName(c)[0],a.async=1,a.src=n,s.parentNode.insertBefore(a,s)}(window,document,"script","https://mc.yandex.ru/metrika/tag.js?id=104072655","ym"),ym(0x63405cf,"init",{ssr:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1})</script><link href=https://cdn.jsdelivr.net rel=preconnect><script type=application/ld+json>{"@context":"http://schema.org","@type":"Person","email":"mailto:gracefullight.dev@gmail.com","image":"https://avatars.githubusercontent.com/u/11773683?v=4","jobTitle":"FullStack JavaScript Developer","logo":"https://gracefullight.dev/img/apple-touch-icon.png","name":"Eunkwang Shin","nationality":"Korean","sameAs":["https://github.com/gracefullight","https://linkedin.com/in/gracefullight"],"url":"https://gracefullight.dev"}</script><link rel=stylesheet crossorigin=anonymous href=https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css type=text/css><link rel=stylesheet href=/en/assets/css/styles.41650a32.css /><script src=/en/assets/js/runtime~main.df8467ef.js defer></script><script src=/en/assets/js/main.dc6d6e04.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/en/img/favicon-32x32.png /><link rel=preload as=image href="https://avatars.githubusercontent.com/u/11773683?v=4"/><div role=region aria-label="Skip to main content"><a class=skipToContent_OqUV href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/favicon-32x32.png alt="gracefullight.dev blog logo" class="themedComponent_leTS themedComponent--light_FZCI"/><img src=/en/img/favicon-32x32.png alt="gracefullight.dev blog logo" class="themedComponent_leTS themedComponent--dark_BlTQ"/></div><b class="navbar__title text--truncate">gracefullight.dev</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_PGu2><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/tags/react/ target=_self rel="noopener noreferrer" class=dropdown__link lang=ko>한국어</a><li><a href=/en/tags/react/ target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a></ul></div><a class="navbar__item navbar__link" href=/en/archive/>Archives</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/en/tags/>Tags</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_ahFW colorModeToggle_FNLe"><button class="clean-btn toggleButton_lGUf toggleButtonDisabled_s8P8" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe lightToggleIcon_rxM3"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe darkToggleIcon_QmJt"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_BxIe systemToggleIcon_M5r8"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_H3dU><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_drMG"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_iDDe thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_wrtL margin-bottom--md">Recent posts</div><div role=group><h3 class=yearGroupHeading_Hgwk>2025</h3><ul class="sidebarItemList_ioQQ clean-list"><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/22/introduction-to-ai-008/>IAI +008</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/21/fundamentals-of-data-analytics-009/>FDA +009</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/17/fundamentals-of-data-analytics-008/>FDA +008</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/15/introduction-to-ai-007/>IAI +007</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/15/fundamentals-of-software-development-008/>FSD +008</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/14/fundamentals-of-data-analytics-007/>FDA +007</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/vocab/vocab-ai-008/>Vocabulary for AI 008</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/12/introduction-to-ai-006/>IAI +006</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/10/research-methodology/>Research methodology</a><li class=sidebarItem_ZWzP><a class=sidebarItemLink_gh84 href=/en/2025/09/09/fundamentals-of-data-analytics-006/>FDA +006</a></ul></div></nav></aside><main class="col col--7"><header class=margin-bottom--xl><h1>12 posts tagged with "react"</h1><a href=/en/tags/>View All Tags</a></header><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2024/01/21/debug-aggrid/>aggrid 디버깅</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2024-01-21T13:38:08.633Z>January 21, 2024</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=aggrid>AGGRID<a href=#aggrid class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>풀스펙을 지원하는 그리드</li>
<li>대부분의 기능들은 엔터프라이즈 모듈로 분기되어있다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=모듈정보>모듈정보<a href=#모듈정보 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li><a href=https://ag-grid.com/react-data-grid/modules/ target=_blank rel="noopener noreferrer">Modules</a>
<ul>
<li><code>ag-grid-react</code>는 통 패키지</li>
<li><code>@ag-grid-community</code>, <code>@ag-grid-enterprise</code> 스코프 하위는 모듈</li>
</ul>
</li>
<li><a href=https://ag-grid.com/react-data-grid/modules-building/ target=_blank rel="noopener noreferrer">Modules - Example</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=데이터-페칭>데이터 페칭<a href=#데이터-페칭 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>onGridReady 이후 실행</li>
</ul>
<div class="language-ts codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-ts codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> onGridReady </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>useCallback</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">params</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> GridReadyEvent</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>fetch</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"https://www.ag-grid.com/example-assets/olympic-winners.json"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>then</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">resp</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=></span><span class="token plain"> resp</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>json</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>then</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">data</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> IOlympicData</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token function" style=color:#d73a49>setRowData</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">data</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=코드-예시>코드 예시<a href=#코드-예시 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li><a href=https://github.com/ag-grid/ag-grid-react-example/blob/master/src/richGridDeclarativeExample/RichGridDeclarativeExample.jsx target=_blank rel="noopener noreferrer">Full Spec</a></li>
<li>여기서 보는 게 낫다. 문서가 최신화 되어있지 않다.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2023/06/25/atomic-state-management-with-valtio/>Atom-based state management and Valtio</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2023-06-25T07:45:45.480Z>June 25, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>At one point, redux-saga seemed like a cool way to solve redux's tired state management, and then a combination of atomic states seemed like the way to go.</li>
<li>That's why I've mostly used recoil, but if you're using query or swr, you don't need such a complicated feature to manage local UI state.</li>
<li>recoil seems to be an almost abandoned project with only bug fixes in the meta. <a href=https://github.com/facebookexperimental/Recoil/discussions/2171 target=_blank rel="noopener noreferrer">discussion#2171</a></li>
<li>Anyway, local UI state just needs to have a pub/sub pattern.</li>
<li>The winner of the 2023 state management library seems to be <strong>zustand</strong>.<!-- -->
<ul>
<li>If you're building an event/messaging based system, it makes sense to use that library with the Flux pattern.</li>
<li>If you're building an editor with action-based behavior for all front-end features, or if you're integrating with a chat system that receives function call requests, that's one thing.</li>
</ul>
</li>
<li>But for a typical use case, Flux is overkill, except for cascading forms, badges, modals, etc.</li>
<li>If I were developing alone, I would want to separate the backend from the frontend, separate the Local, Dev, Stage, and Prod stages, and have a DB, scheduler, queue, API, and SSR stack.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=atom>atom<a href=#atom class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>Read first; <a href=https://medium.com/@yujso66/%EB%B2%88%EC%97%AD-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC%EC%9D%98-%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%9D%90%EB%A6%84-6e5ed0022e39 target=_blank rel="noopener noreferrer">The new wave of React state management</a>을 보자.</li>
<li>Atomic, pub/sub, and derived are possible.</li>
<li>Using derived state is also rarely necessary unless you need a new state per ID. For data, query already does the job.</li>
<li>Atomic design and atomic state management became a necessity.</li>
<li>With many developers working asynchronously, it was important to keep track of which files were atoms and what they were for.</li>
<li>We have a <code>*.atom.ts</code> file superfix and a <code>*State</code> variable name superfix.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=valtio>valtio<a href=#valtio class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>Both <a href=https://github.com/pmndrs/jotai/blob/main/src/vanilla/atom.ts#L83 target=_blank rel="noopener noreferrer">jotai/atom</a> and <a href=https://github.com/facebookexperimental/Recoil/blob/main/packages/recoil/recoil_values/Recoil_atom.js#L185 target=_blank rel="noopener noreferrer">Recoil/atom</a> manage atom-based state and propagate state.</li>
<li><a href=https://github.com/pmndrs/valtio/blob/main/src/vanilla.ts#L156 target=_blank rel="noopener noreferrer">valtio/proxy</a> implements the same functionality using Proxy and Reflect.</li>
<li>Memory management is not the worst, as you can see from the <a href=https://krausest.github.io/js-framework-benchmark/2023/table_chrome_114.0.5735.90.html target=_blank rel="noopener noreferrer">Results for js web frameworks benchmark</a>.</li>
<li>zustand, jotai, and valtio are all open source, covered by the <a href="https://github.com/orgs/pmndrs/repositories?q=&type=all&language=&sort=stargazers" target=_blank rel="noopener noreferrer">pmndrs</a> community, with <a href=https://github.com/dai-shi target=_blank rel="noopener noreferrer">the same person</a> as a contributor and maintainer.</li>
<li>It just works, as his comments in <a href=https://github.com/pmndrs/valtio/discussions/128 target=_blank rel="noopener noreferrer">valito/discussion#128</a> show.</li>
<li><a href=https://github.com/pmndrs/valtio/issues/141#issuecomment-891214314 target=_blank rel="noopener noreferrer">valito/issues#141</a> Having spent a year on Redux and Redux-saga, and two years on Mobx POC and Recoil, this comment really resonated with me.</li>
<li>For the time being, I'm going to create several projects and try to use this state management library in all of them.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2022/11/24/nextjs-13-app-dir/>Nextjs App Directory</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2022-11-24T23:16:14.000Z>November 24, 2022</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=개요>개요<a href=#개요 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>nextjs 13버전에서 app 디렉토리가 생기면서 client/server 컴포넌트를 쉽게 사용할 수 있는 환경이 되었다.</li>
<li><code>getStaticProps</code>, <code>getServerSideProps</code> 와 같은 메소드가 사라졌고, 양쪽이 <code>fetch</code> 로 통합이 되었다.</li>
<li>페이지별 상태 초기화를 위한 HOC 중첩을 가져가지 않아도 될 것 같았다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=app>App<a href=#app class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=nodejs--react-dom-renderer>Node.js + React DOM Renderer<a href=#nodejs--react-dom-renderer class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>app 내의 모든 로직은 Node.js 이다. 따라서 이런 로직이 가능하다.</p>
<div class="language-tsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>app/page.tsx</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-tsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> hostname </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"os"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>default</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>Main</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>{</span><span class="token function" style=color:#d73a49>hostname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>이벤트를 바인딩할 수 없다.</p>
<div class="language-tsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>app/page.tsx</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-tsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token maybe-class-name">SyntheticEvent</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>default</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>Main</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>handleSubmit</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">event</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token maybe-class-name">SyntheticEvent</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">HTMLFormElement</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"submitting"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>onSubmit</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>handleSubmit</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>button</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>submit</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text">submit</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>button</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">    </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<div class="language-html codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-html codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">Error: Event handlers cannot be passed to Client Component props.</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag" style=color:#00009f> </span><span class="token tag special-attr attr-name" style=color:#00a4db>onSubmit</span><span class="token tag special-attr attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag special-attr attr-value punctuation" style=color:#393A34>"</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style=color:#393A34>{</span><span class="token tag special-attr attr-value value javascript language-javascript keyword" style=color:#00009f>function</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style=color:#393A34>}</span><span class="token tag special-attr attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>children</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>...</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  ^^^^^^^^^^ If you need interactivity, consider converting part of this to a</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  Client Component.</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=design-system>Design system<a href=#design-system class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>대부분의 디자인 시스템 라이브러리는 <code>ThemeProvider</code> 로 테마 상태를 공유하고 Baseline StyleSheet를 전역에 넣어준다.
스타일시트를 위해 <a href=https://beta.nextjs.org/docs/styling/css-in-js#styled-components target=_blank rel="noopener noreferrer">RootStyleRegistry</a> 란 HOC 만들어 Baseline StyleSheet 를 동적으로 넣어주면 초기화는 가능하지만,</p>
<p>문제는 Server Component 내에서 use 을 사용할 수 없으니 <code>ThemeProvider</code> 로 기능동작이 불가능하다.
어찌저찌 <code>'use-client'</code> directive 로 Client Component 로 설정한다고 하여도 Provider 로 인해 하위 모든 컴포넌트가 Client Component 로 동작해야할 것이다.</p>
<p>그래서 문서에서 <a href=https://beta.nextjs.org/docs/styling/css-in-js#configuring-css-in-js-in-app target=_blank rel="noopener noreferrer">다음과 같이 표기</a>가 된 것으로 보인다.</p>
<blockquote>
<p>If you want to style Server Components, we recommend using CSS Modules or other solutions that output CSS files, like PostCSS or Tailwind CSS.</p>
</blockquote>
<p>위 방식으로 <a href=https://github.com/mui/material-ui/blob/master/examples/material-next-app-router-ts/src/components/Theme/ThemeRegistry/EmotionCache.tsx target=_blank rel="noopener noreferrer">mui/material-ui/examples/material-next-app-router-ts</a> 예시가 추가되었지만, 이렇게 쓸바에 pages 폴더 라우트와 다를 게 없다고 생각한다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=결론>결론<a href=#결론 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>아직 app 폴더를 사용하기엔 이르다.</li>
<li><a href=https://github.com/vercel/app-playground target=_blank rel="noopener noreferrer">vercel/app-playground</a>에 충분한 예시가 갖춰지고, 생태계가 React Server Component 를 충분히 지원할 때까지는 프로덕션에서 사용은 불가능하다고 보인다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=사견>사견<a href=#사견 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>개인적으로는 왜 이렇게 많이 클라이언트에서 렌더링해야해? 그냥 필요한 영역만 클라이언트에서 그려주면 되잖아? 라는 접근방식은 디버깅 관점에서 마음에 들진 않는다. 웹을 하나의 Client 관점에서 본다면, 설치의 유무만 다를 뿐 앱에서 서버에서 렌더링된 HTML을 받고 일정부분만을 Server Driven UI 로 가는거와 마찬가지다. 복잡도가 크게 증가한다.</p>
<p>이러한 시도는 이미 Dotnet, Laravel Livewire 등 다른 언어에서 많이 진행되어왔고, Remix 에서는 이미 잘 동작 중이다.
단지 React 를 서버에서 쓰기 위해 다시 MVC 시절로 회귀하려는지 모르겠다.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/typescript/>typescript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/nextjs/>nextjs</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2021/03/07/flutter-비교/>Flutter와 타 프레임워크 비교</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2021-03-07T17:03:16.000Z>March 7, 2021</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><h2 class="anchor anchorWithStickyNavbar_GkGg" id=비교>비교<a href=#비교 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<table><thead><tr><th>-<th>Flutter<th>React Native<th>Ionic<tbody><tr><td>언어<td>Dart + Flutter<td>JS + React<td>JS<tr><td>컴파일결과<td>네이티브 앱<td>부분적인 네이티브앱<td>웹뷰<tr><td>UI 컴포넌트 컴파일<td>🙅‍♂️ (픽셀제어)<td>🙆‍♂️<td>🙅‍♂️<tr><td>플랫폼<td>모바일, 웹, 데스크탑<td>모바일, 웹<td>모바일, 웹, 데스크탑<tr><td>벤더<td>구글<td>페이스북<td>아이오닉</table>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=요약>요약<a href=#요약 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li>플러터는 화면의 픽셀을 직접 제어한다.</li>
<li>웹으로 빌드시에 캔버스 위에 생성된다.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/flutter/>flutter</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/dart/>dart</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2018/02/08/react에서-scrollTo-메소드로-스크롤-이동이-안될-때/>react에서 scrollTo 메소드로 스크롤 이동이 안될 때</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2018-02-08T17:16:14.000Z>February 8, 2018</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><p><code>window.scrollTo(0, 0)</code> 를 아무리 해봐도 스크롤이 맨 위로 올라가지 않을 때 많은 구글링을 한 뒤 다음과 같은 해결책을 적용해보았다</p>
<ul>
<li><code>react-scroll</code> 라이브러리를 써보고</li>
<li>혹시 window 가 레이아웃 컴포넌트에 갇혀있어서 그런가 window 를 App.js 에서 Top 기능을 쓰는 곳까지 내려보고</li>
<li>jQuery 를 추가해서도 해보고</li>
<li>별 짓을 다하다가</li>
</ul>
<p>아무 것도 안 되서 리프레쉬하러 옥상에 갔다가 갑자기 든 생각이 있었다</p>
<p>잠깐만 component 라는게 하나의 element 안에서 쇼를 하는 거 잖아.
그럼 element 안에서 스크롤을 이동하면?</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=해결>해결<a href=#해결 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-jsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>Footer.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-jsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">Footer</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function-variable function" style=color:#d73a49>scrollToTop</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">event</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token dom variable" style=color:#36acaa>document</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>getElementById</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"root"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>scrollTo</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">        </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>div</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>className</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>top</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">          </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>a</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript keyword" style=color:#00009f>this</span><span class="token tag script language-javascript punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript property-access" style=color:#00009f>scrollToTop</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text">위로가기</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>a</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">        </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>index.js 에서 ReactDOM 을 렌더링해주는 element(나같은 경우엔 <strong>div#root</strong>)를 찾아서 그 엘레먼트의 스크롤을 올려주자</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>책에서 봤는데 뇌가 쉴 때 가장 좋은 아이디어가 나온다고 했는데, 사실인 것 같다</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2018/02/05/redux-form-start/>redux-form 사용하기</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2018-02-05T12:15:39.000Z>February 5, 2018</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><p>react 로 form 을 만들어 사용하는 일은 생각보다 많은 걸 해야한다.</p>
<ul>
<li><code>onSubmit</code>에 이벤트를 잡아서 <code>event.target.fieldName.value</code>로 하나씩 체크를 해서 validating 을 하다가</li>
<li>귀찮아질 때 쯤 function 을 만들어서 관리를 하고</li>
<li>자주 사용하는 form input 을 컴포넌트로 만들며</li>
<li>form 에 초기값을 넣어줘야할 경우 (edit 페이지 같은) 값을 가져와 하나하나 바인딩하고</li>
<li>input 에 값이 바뀌었는지에 따라 submit 버튼을 활성, 비활성화 하는 로직도 있어야한다</li>
</ul>
<p>번거로운 일을 하는 것 보다 <a href=https://github.com/erikras/redux-form target=_blank rel="noopener noreferrer">redux-form</a> 라이브러리를 사용해보자
검색시에 나오는 포스트들은 아주 기본적인 예제 밖에 없어서 문서를 매번 헤집는 시간이 필요했다.</p>
<blockquote>
<p>먼저 이 라이브러리를 쓰기 위해선 다음 사전 지식이 필요하다</p>
<ul>
<li><a href=https://redux.js.org/ target=_blank rel="noopener noreferrer">redux</a>, <a href=https://github.com/reactjs/react-redux target=_blank rel="noopener noreferrer">react-redux</a></li>
<li><a href=https://reactjs.org/docs/higher-order-components.html target=_blank rel="noopener noreferrer">HOC</a></li>
</ul>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=설치>설치<a href=#설치 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>yarn</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>add</span><span class="token plain"> redux-form</span><br/></span></code></pre></div></div>
<p>redux-form 의 리듀서를 연결시켜줘야한다</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>rootReducer</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> reducer </span><span class="token imports keyword module" style=color:#00009f>as</span><span class="token imports"> formReducer </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"redux-form"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> rootReducer </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>combineReducers</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// form 키를 사용해야한다</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>form</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> formReducer</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> rootRecuder</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=사용>사용<a href=#사용 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>redux-form component 와 redux-form 이 들어갈 compoent 를 만들어야한다
편의상 <strong>Login component</strong>와 <strong>LoginForm component</strong>라고 하자</p>
<div class="language-jsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>Login</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-jsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> connect </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react-redux"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports maybe-class-name">LoginForm</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"LoginForm"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">Login</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function-variable function" style=color:#d73a49>submitLoginForm</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">formData</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"LoginFormData => "</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> formData</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// this.props.loginAuth(formData)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag class-name" style=color:#00009f>LoginForm</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>onSubmit</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript keyword" style=color:#00009f>this</span><span class="token tag script language-javascript punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript property-access" style=color:#00009f>submitLoginForm</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f> </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>connect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>(</span><span class="token maybe-class-name">Login</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p><strong>LoginComponent</strong>에서는 딱히 특별한게 없이 LoginForm Component 를 호출하고 함수 하나를 내려준 게 끝이다</p>
<div class="language-jsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>LoginForm</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-jsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Field</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> reduxForm </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"redux-form"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">LoginForm</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      handleSubmit</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>// submit 이벤트를 redux-form에서 관리하게 수정</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      pristine</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>// form이 변경점이 없을 경우 true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      submitting</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>// form이 submit 중일 경우 true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">props</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>onSubmit</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>handleSubmit</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">        </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag class-name" style=color:#00009f>Field</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>id</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>text</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>component</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>input</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>placeholder</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>아이디를 입력하세요</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>        </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">        </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag class-name" style=color:#00009f>Field</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>password</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>password</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>component</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>input</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>placeholder</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>비밀번호를 입력하세요</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>        </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>reduxForm</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>form</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"LoginForm"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>// formReducer에 어떤 이름으로 이 폼을 등록할지</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>(</span><span class="token maybe-class-name">LoginForm</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p><strong>redux-form</strong>에서 <strong>Field Component</strong>와 <strong>reduxForm High Order Component</strong>를 가져온 뒤
input tag 대신 Field Component 의 component 속성으로 input 을 만들어준다
그리고 해당 폼을 reduxForm 으로 감싸 redux 와 연결한다</p>
<p><code>handleSubmit</code>은 onSubmit prop 으로 들어온 함수를 폼과 연결해준다 (<code>event.preventDefault()</code> 및 폼의 필드들을 serialize 해서 object 로 바꿔 onSubmit 함수의 parameter 로 넘겨준다)</p>
<p>말이 좀 어렵다면 <code>Login.js</code>의 <code>submitLoginForm</code> 속 <code>console.log(formData)</code>의 구조를 보자</p>
<div class="language-json codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-json codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"id"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"idValue"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"password"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"passwordValue"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>오 꽤 나이스하다
하지만 필드만 덩그라니 있는 경우는 없다 더 업그레이드 해보자</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=스타일이-필요한-필드>스타일이 필요한 필드<a href=#스타일이-필요한-필드 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>보통의 필드들은 <code>label</code>이 들어가 있고, <code>selectBox</code>, <code>checkBox</code>의 경우엔 스타일을 주기위해 대부분 외부 라이브러리를 쓴다
이럴 때 Field Component 의 <strong>component</strong> 속성에 원하는 모양을 만들어서 넣어주면 된다</p>
<div class="language-jsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>LoginForm</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-jsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token spread operator" style=color:#393A34>...</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>renderInputField</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter punctuation" style=color:#393A34>{</span><span class="token parameter"> input</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> type</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> label</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> placeholder</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> </span><span class="token parameter literal-property property" style=color:#36acaa>meta</span><span class="token parameter operator" style=color:#393A34>:</span><span class="token parameter"> </span><span class="token parameter punctuation" style=color:#393A34>{</span><span class="token parameter"> touched</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> error </span><span class="token parameter punctuation" style=color:#393A34>}</span><span class="token parameter punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>label</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">label</span><span class="token punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>label</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag spread punctuation" style=color:#393A34>{</span><span class="token tag spread operator" style=color:#393A34>...</span><span class="token tag spread" style=color:#00009f>input</span><span class="token tag spread punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>type</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>placeholder</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>placeholder</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f> </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> touched </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> error </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>span</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>className</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>error</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">error</span><span class="token punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>span</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">    </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">LoginForm</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      handleSubmit</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      pristine</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      submitting</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">props</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>onSubmit</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>handleSubmit</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">        </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag class-name" style=color:#00009f>Field</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>id</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>text</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>label</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>아이디</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>component</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>renderInputField</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>placeholder</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>아이디를 입력하세요</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>        </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">        </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag class-name" style=color:#00009f>Field</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>password</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>password</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>label</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>비밀번호</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>component</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>renderInputField</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>placeholder</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>비밀번호를 입력하세요</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>        </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p><code>renderInputField</code>라는 함수형 컴포넌트를 만들어서 <strong>Field.component</strong> prop 에 넣긴했는데, <code>div>input</code>을 렌더링 해주는 것만 보이고 엄청난 파라미터들 때문에 정신이 아득할 것이다</p>
<p>component prop 에 함수형 컴포넌트를 넣으면 field prop 을 받게 된다
여기엔 내려준 prop 뿐 아니라 reduxForm 에서 넣어준 prop 도 존재한다
원래 해당 렌더링 컴포넌트는 아래와 같은 모습이다</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>renderInputField</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">field</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">div</span><span class="token operator" style=color:#393A34>></span><span class="token spread operator" style=color:#393A34>...</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token plain">div</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p>그럼 먼저 reduxForm 에서 넣어준 prop 을 보자</p>
<ul>
<li>field.input: input 은 모든 HTML input attribute 를 가지고 있는게 아니라 다음 몇가지만 갖고 있다<!-- -->
<ul>
<li>checked</li>
<li>name</li>
<li>onBlur</li>
<li>onChange</li>
<li>onDragStart</li>
<li>onDrop</li>
<li>onFocus</li>
<li>value</li>
</ul>
</li>
<li>field.meta: meta 는 해당 input 의 상태에 관한 데이터가 있다<!-- -->
<ul>
<li>touched: 해당 input 이 한 번이라도 클릭이 되어졌는지</li>
<li>valid: 해당 input 값이 valid 한지</li>
<li>error: 해당 input 값에 에러가 있으면 error message 가 들어온다</li>
<li>... 나머진 <a href=https://redux-form.com/7.2.3/docs/api/field.md/ target=_blank rel="noopener noreferrer">문서</a>를 참조하자</li>
</ul>
</li>
</ul>
<p>이제 <em>type, label, placeholder 는 field.input prop 에 없어서 직접 넣어줬고, meta 는 이미 정의되어 있었구나</em> 란 renderInputField 함수의 props 가 보일 것이고 Field Component 의 구조를 마음대로 변경할 수 있게 되었다</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=동적으로-value-를-바꿔야할-때>동적으로 value 를 바꿔야할 때<a href=#동적으로-value-를-바꿔야할-때 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>checkbox, select 의 경우엔 스타일이 들어가면 element 의 onClick 를 잡아서 hidden field 의 데이터를 바꿔줘야한다
checkbox 전체 영역을 클릭할 때마다 기존의 값을 toggle 해주는 component 를 만들 수 있다</p>
<div class="language-jsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>LoginForm</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-jsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>renderCheckboxField</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter punctuation" style=color:#393A34>{</span><span class="token parameter"> input</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> label </span><span class="token parameter punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>div</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript punctuation" style=color:#393A34>(</span><span class="token tag script language-javascript parameter" style=color:#00009f>event</span><span class="token tag script language-javascript punctuation" style=color:#393A34>)</span><span class="token tag script language-javascript" style=color:#00009f> </span><span class="token tag script language-javascript arrow operator" style=color:#393A34>=></span><span class="token tag script language-javascript" style=color:#00009f> input</span><span class="token tag script language-javascript punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript method function property-access" style=color:#d73a49>onChange</span><span class="token tag script language-javascript punctuation" style=color:#393A34>(</span><span class="token tag script language-javascript operator" style=color:#393A34>!</span><span class="token tag script language-javascript" style=color:#00009f>input</span><span class="token tag script language-javascript punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript property-access" style=color:#00009f>value</span><span class="token tag script language-javascript punctuation" style=color:#393A34>)</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>i</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>        </span><span class="token tag attr-name" style=color:#00a4db>className</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript template-string template-punctuation string" style=color:#e3116c>`</span><span class="token tag script language-javascript template-string string" style=color:#e3116c>fa </span><span class="token tag script language-javascript template-string interpolation interpolation-punctuation punctuation" style=color:#393A34>${</span><span class="token tag script language-javascript template-string interpolation operator" style=color:#393A34>!</span><span class="token tag script language-javascript template-string interpolation" style=color:#00009f>input</span><span class="token tag script language-javascript template-string interpolation punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript template-string interpolation property-access" style=color:#00009f>value</span><span class="token tag script language-javascript template-string interpolation" style=color:#00009f> </span><span class="token tag script language-javascript template-string interpolation operator" style=color:#393A34>?</span><span class="token tag script language-javascript template-string interpolation" style=color:#00009f> </span><span class="token tag script language-javascript template-string interpolation string" style=color:#e3116c>"fa-square-o"</span><span class="token tag script language-javascript template-string interpolation" style=color:#00009f> </span><span class="token tag script language-javascript template-string interpolation operator" style=color:#393A34>:</span><span class="token tag script language-javascript template-string interpolation" style=color:#00009f> </span><span class="token tag script language-javascript template-string interpolation string" style=color:#e3116c>"fa-check-square-o"</span><span class="token tag script language-javascript template-string interpolation interpolation-punctuation punctuation" style=color:#393A34>}</span><span class="token tag script language-javascript template-string template-punctuation string" style=color:#e3116c>`</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>      </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>label</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">label</span><span class="token punctuation" style=color:#393A34>}</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>label</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>hidden</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag spread punctuation" style=color:#393A34>{</span><span class="token tag spread operator" style=color:#393A34>...</span><span class="token tag spread" style=color:#00009f>input</span><span class="token tag spread punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f> </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">    </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p>value 에 따라서 <a href=https://fontawesome.com/v4.7.0/icon/check-square-o/ target=_blank rel="noopener noreferrer">font-awesome icon</a>이 변경된다</p>
<p>함수로 값을 변경해야할 경우가 있을 수도 있다
이럴 땐 reduxForm prop 의 <code>change</code> 메소드를 사용하면 된다
바꿀 input 의 name 속성과 value 값을 넘겨주자</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function-variable function" style=color:#d73a49>changeInputValue</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">targetInputName</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> val</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">props</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>change</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">targetInputName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> val</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=초기값>초기값<a href=#초기값 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>로그인 폼에는 <strong>아이디 저장</strong> 기능을 붙히면 폼이 초기화될 때 그 값을 가져와야한다</p>
<div class="language-jsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>Login</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-jsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token spread operator" style=color:#393A34>...</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">Login</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  state </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token literal-property property" style=color:#36acaa>userId</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>''</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>componentDidMount</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> userId </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token dom variable" style=color:#36acaa>localStorage</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>getItem</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>'userId'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>setState</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      userId</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag class-name" style=color:#00009f>LoginForm</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>        </span><span class="token tag attr-name" style=color:#00a4db>onSubmit</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript keyword" style=color:#00009f>this</span><span class="token tag script language-javascript punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript property-access" style=color:#00009f>submitLoginForm</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>        </span><span class="token tag attr-name" style=color:#00a4db>initialValues</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag script language-javascript" style=color:#00009f>          </span><span class="token tag script language-javascript literal-property property" style=color:#36acaa>id</span><span class="token tag script language-javascript operator" style=color:#393A34>:</span><span class="token tag script language-javascript" style=color:#00009f> </span><span class="token tag script language-javascript keyword" style=color:#00009f>this</span><span class="token tag script language-javascript punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript property-access" style=color:#00009f>state</span><span class="token tag script language-javascript punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript property-access" style=color:#00009f>userId</span><span class="token tag script language-javascript" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag script language-javascript" style=color:#00009f>        </span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>      </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>Login Component 에는 초기값을 가져와서 <strong>initialValues</strong> prop 안에 넣어준다</p>
<div class="language-jsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>LoginForm</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-jsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">LoginForm</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text">...</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>reduxForm</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>form</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"LoginForm"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 이 값은 LoginForm 컴포넌트가 로드되고 나서</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// initialValues가 바뀔 경우 폼 값도 업데이트가 되야되는지의 여부이다</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>enableReinitialize</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>(</span><span class="token maybe-class-name">LoginForm</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p><code>localStorage.userId</code>에 값이 들어있다면 그 값으로 id Field 가 초기화 된다
컴포넌트가 로딩되기 전에 값이 정해져있다면 <code>enableReinitialize</code> 옵션이 없어도 되지만, 수정 폼처럼 기존 데이터 fetch 후 또는 componentDidMount 후에 값을 가져온다면 해당 옵션값을 <code>true</code>로 넣어줘야한다</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=validation>validation<a href=#validation class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>여기까지 이해했다면 validation 은 큰 어려움 없이 <a href=https://redux-form.com/7.2.3/examples/asyncchangevalidation/ target=_blank rel="noopener noreferrer">문서</a>의 예제소스를 참조하면 붙힐 수 있다</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>react 라이브러리들은 읽은 뒤 바로 적용하긴 힘들다고 생각한다 매번 삽질이 필요한듯</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2018/01/15/react-intl로-번역-적용하기-react-i18n/>react-intl로 번역 적용하기 (react i18n)</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2018-01-15T16:21:41.000Z>January 15, 2018</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><p>리액트 앱에서 번역기능을 사용하려면 <a href=https://github.com/yahoo/react-intl target=_blank rel="noopener noreferrer">react-intl</a> 패키지를 사용하면 된다.
근데 Documentation을 보면 format 기능들, HOC로 데이터를 넣는 등 여러 기능 덕에 정신이 아득하다</p>
<p>step by step으로 간단하게 적용해보자</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=설치>설치<a href=#설치 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>npm</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>install</span><span class="token plain"> react-intl</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=번역-데이터-생성>번역 데이터 생성<a href=#번역-데이터-생성 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>편의상 root에 <strong>locale.js</strong>로 만들었다. 서비스시엔 locale 폴더에 언어별로 파일을 나눠 관리하자.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>locale.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>en</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token literal-property property" style=color:#36acaa>hello</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Hello"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>ko</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token literal-property property" style=color:#36acaa>hello</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"안녕하세요"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>ja</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token literal-property property" style=color:#36acaa>hello</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"こんにちは"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=연동>연동<a href=#연동 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>index.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> </span><span class="token imports maybe-class-name">IntlProvider</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> addLocaleData </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react-intl"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 이 서브 라이브러리들이 내 locale 파일을 사용할 수 있게 해준다</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports">en</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react-intl/locale-data/en"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports">ko</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react-intl/locale-data/ko"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports">ja</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react-intl/locale-data/ja"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports">locale</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"./locale"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>addLocaleData</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token spread operator" style=color:#393A34>...</span><span class="token plain">en</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token spread operator" style=color:#393A34>...</span><span class="token plain">ko</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token spread operator" style=color:#393A34>...</span><span class="token plain">ja</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 저장되어 있는 언어 데이터를 가져온다</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> defaultLang </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token dom variable" style=color:#36acaa>localStorage</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>getItem</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"lang"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>||</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"en"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">Provider</span><span class="token plain"> store</span><span class="token operator" style=color:#393A34>=</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">store</span><span class="token punctuation" style=color:#393A34>}</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">IntlProvider</span><span class="token plain"> locale</span><span class="token operator" style=color:#393A34>=</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">defaultLang</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> messages</span><span class="token operator" style=color:#393A34>=</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">locale</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">defaultLang</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>}</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>/</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token maybe-class-name">IntlProvider</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token maybe-class-name">Provider</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token dom variable" style=color:#36acaa>document</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>getElementById</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"root"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=사용>사용<a href=#사용 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> </span><span class="token imports maybe-class-name">FormattedMessage</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react-intl"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">FormattedMessage</span><span class="token plain"> id</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"hello"</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>/</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 저장되어 있는 언어 값에 따라 Hello, 안녕하세요, こんにちは 중 하나가 보여진다</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=inject>inject<a href=#inject class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>placeholder 등에서 텍스트만 필요할 때 <code>component</code>를 사용하지않고 다음과 같이 intl을 주입해서 사용한다.</p>
<div class="language-jsx codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-jsx codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> injectIntl </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react-intl"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">SignupForm</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> intl </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>this</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">props</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">        </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>input</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>text</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>id</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>          </span><span class="token tag attr-name" style=color:#00a4db>placeholder</span><span class="token tag script language-javascript script-punctuation punctuation" style=color:#393A34>=</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f>intl</span><span class="token tag script language-javascript punctuation" style=color:#393A34>.</span><span class="token tag script language-javascript method function property-access" style=color:#d73a49>formatMessage</span><span class="token tag script language-javascript punctuation" style=color:#393A34>(</span><span class="token tag script language-javascript punctuation" style=color:#393A34>{</span><span class="token tag script language-javascript" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag script language-javascript" style=color:#00009f>            </span><span class="token tag script language-javascript literal-property property" style=color:#36acaa>id</span><span class="token tag script language-javascript operator" style=color:#393A34>:</span><span class="token tag script language-javascript" style=color:#00009f> </span><span class="token tag script language-javascript string" style=color:#e3116c>"hello"</span><span class="token tag script language-javascript punctuation" style=color:#393A34>,</span><span class="token tag script language-javascript" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag script language-javascript" style=color:#00009f>          </span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag script language-javascript punctuation" style=color:#393A34>)</span><span class="token tag script language-javascript punctuation" style=color:#393A34>}</span><span class="token tag" style=color:#00009f></span><br/></span><span class=token-line style=color:#393A34><span class="token tag" style=color:#00009f>        </span><span class="token tag punctuation" style=color:#393A34>/></span><span class="token plain-text"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain-text">      </span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>form</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>injectIntl</span><span class="token punctuation" style=color:#393A34>(</span><span class="token maybe-class-name">SignupForm</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=child>child<a href=#child class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>HOC를 사용하지 않을 경우 <code>FormattedMessage</code>의 child로 번역된 문구를 받으면 된다</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">FormattedMessage</span><span class="token plain"> id</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"hello"</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">hello</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">input type</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"text"</span><span class="token plain"> name</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"id"</span><span class="token plain"> placeholder</span><span class="token operator" style=color:#393A34>=</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">hello</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>/</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token maybe-class-name">FormattedMessage</span><span class="token operator" style=color:#393A34>></span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=dynamic>dynamic<a href=#dynamic class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>Hello, <code>{Gracefullight}</code> 처럼 동적으로 문구가 변해야할 경우<code>values</code>prop을 활용하자
먼저,<code>locale.js</code>에서 변수가 될 부분을 <!-- -->로 감싸준다</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>locale.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>en</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token literal-property property" style=color:#36acaa>helloUser</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Hello {user}"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>ko</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token literal-property property" style=color:#36acaa>helloUser</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"{user} 안녕하세요"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>ja</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token literal-property property" style=color:#36acaa>helloUser</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"{user} こんにちは"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p><code>values</code> 아래 object로 변수 값을 넣어주면 된다</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">FormattedMessage</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  id</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"helloUser"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  values</span><span class="token operator" style=color:#393A34>=</span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token literal-property property" style=color:#36acaa>user</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gracefullight"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>/</span><span class="token operator" style=color:#393A34>></span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>mo, po 파일 건들던 시간들이 너무 아깝다</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react-intl/>react-intl</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2018/01/01/react-native-windows-network-setting/>리액트 네이티브 윈도우 네트워크 설정 (react-native)</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2018-01-01T23:50:31.000Z>January 1, 2018</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><p>리액트 네이티브로 개발한 앱을 <code>Expo</code>로 구동 중 <code>network response timed out</code> 에러 메세지가 보인다면 다음과 같이 해결하면 된다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=방화벽>방화벽<a href=#방화벽 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>인바운드로 19000, 19001 포트를 열어줘야한다.
<strong>방화벽 > 고급 설정 > 인바운드 규칙 > 새 규칙 > 포트</strong> 에서 아래와 같이 설정해주고 이름은 <code>react-native-expo</code> 등 원하는 이름으로 규칙을 생성하자.</p>
<p><img decoding=async loading=lazy src=https://i.imgur.com/fQkG1tn.png alt="image from hexo" class=img_tzfx /></p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=hostname-설정>Hostname 설정<a href=#hostname-설정 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=아이피-확인>아이피 확인<a href=#아이피-확인 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>ipconfig로 현재 Wifi가 설정된 내부 아이피 주소를 확인한다.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token plain">무선 LAN 어댑터 Wi-Fi:</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  연결별 DNS 접미사. </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  링크-로컬 IPv6 주소 </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  IPv4 주소 </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>192.168</span><span class="token plain">.0.7</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  서브넷 마스크 </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>255.255</span><span class="token plain">.255.0</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  기본 게이트웨이 </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>192.168</span><span class="token plain">.0.1</span><br/></span></code></pre></div></div>
<p><strong>192.168.0.7</strong> 을 기억해 놓자.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=설정-추가>설정 추가<a href=#설정-추가 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p><code>REACT_NATIVE_PACKAGER_HOSTNAME</code> 환경 변수를 설정해줘야한다.</p>
<p>Git Bash 환경에서는 다음과 같다.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style=color:#36acaa>REACT_NATIVE_PACKAGER_HOSTNAME</span><span class="token operator" style=color:#393A34>=</span><span class="token number" style=color:#36acaa>192.168</span><span class="token plain">.0.7</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=실행>실행<a href=#실행 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><code>yarn start</code> 후에 Expo 앱으로 QRCode를 찍으면 정상적으로 실행이 가능하다.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2017/12/06/Why-redux-saga/>왜 리덕스 사가(Redux-saga) 인가?</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2017-12-06T09:50:37.000Z>December 6, 2017</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><p><code>redux</code>, <code>redux-thunk</code>, <code>redux-promise-middleware</code>, <code>redux-actions</code>, <code>redux-saga</code> 머리가 뽀개질 지경이다. 결국엔 <code>redux-saga</code>를 써야만 했고 왜 <strong>saga</strong>로 수렴하게 되는지에 대한 삽질기다.</p>
<blockquote>
<p>도대체 몇 개의 미들웨어 라이브러리를 파야하는지 화남을 포스팅했기에 <em>오 프론트엔드를 꾸미는데는 리액트가 최고야</em> 라고 생각하는 분들에겐 마음이 안들 수도 있다.
정신건강을 위해 <a href=https://github.com/mobxjs/mobx target=_blank rel="noopener noreferrer">mobx</a> 사용을 추천드립니다.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=모듈의-필요성>모듈의 필요성<a href=#모듈의-필요성 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=redux>redux<a href=#redux class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>하위, 상위 컴포넌트에 데이터를 props로 넘겨주는게 너무 관리하기 힘들어서 선택한다. 하나의 <strong>Store</strong>(Object)에 SPA의 모든 데이터를 보관한다. 대안으로는 Event Bus Component를 만들면 되는데, 하나의 스토어를 갖는게 그게 그거라 거의 강제된다.
redux를 적용하기에 앞서 기존 MVC 패턴에 쩌든 사상을 Flex(단방향) 패턴으로 바꾼다는게 거의 남북간 화합 수준이였다. 이 부분에 있어선 연습만이 답이다. 눈감고 코딩할 수 있을 만큼 예제 프로젝트를 반복해보자.
일단 몸에 익으면 action creator가 뭔지 왜 dispatch를 해야하고 reducer로 값을 처리해야 하는지가 뇌에서도 이해가 되는 느낌이였다. (counter 예제는 좋지 않다고 본다. shopping cart예제나 todo 예제가 더 이해하기 쉽다.)</p>
<ul>
<li><a href=https://github.com/reactjs/redux target=_blank rel="noopener noreferrer">Redux</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=redux-promise-middleware>redux-promise-middleware<a href=#redux-promise-middleware class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>redux에서 action의 payload를 비동기 데이터로 넘길 때를 알아서 처리해준다.
많은 포스팅이 있는데, 별 쓸모 없다. 실무에서 예제 포스팅을 따라할만한 간단한 비동기 처리 로직은 없다.</p>
<ul>
<li><a href=https://github.com/pburtchaell/redux-promise-middleware target=_blank rel="noopener noreferrer">Redux-promise-middleware</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=redux-thunk>redux-thunk<a href=#redux-thunk class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>하나의 action에서 여러 개의 다른 action을 호출하던지, action이 dispatch되는 걸 조작할 수 있어, 비동기 처리에도 사용한다.
멋진 라이브러리이지만 클로저 패턴을 사용해야하므로 소스가 지저분하다.
(이게 깔끔하다고 생각하면 쓰면 된다. promise then promise then chaning도 깔끔하다고 생각하다면)</p>
<ul>
<li><a href=https://github.com/gaearon/redux-thunk target=_blank rel="noopener noreferrer">Redux-thunk</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=redux-actions>redux-actions<a href=#redux-actions class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>action, type, reducer의 반복되는 코드를 더 깔끔하게 구현하길 원한다면 이게 답일 수 있다.
하지만 이 미들웨어는 구문적인 편의성을 제공하는 것일 뿐 비동기를 처리할 수 없어서 promise, thunk 또는 여기서 소개할 saga가 강제된다. <a href=https://github.com/reduxactions/redux-actions/issues/184 target=_blank rel="noopener noreferrer">여기</a>를 참조하자.</p>
<ul>
<li><a href=https://github.com/reduxactions/redux-actions target=_blank rel="noopener noreferrer">Redux-actions</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=rematch>rematch<a href=#rematch class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>1803 최근엔 이 모든 고민을 해결해주는 <a href=https://github.com/rematch/rematch target=_blank rel="noopener noreferrer">rematch</a> 라는 라이브러리가 있다
<code>async/await</code>를 사용해 간결한 문법을 제공하는데 아직 삽질해보지 않아 소개정도만 하고 지나가겠다</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=redux-saga>redux-saga<a href=#redux-saga class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>어떤 action은 promise payload를 뱉고, 어떤 action은 dispatch로 다른 action을 호출하고 어떤 action은 plain object를 뱉고 이런 일관성없는 짓을 계속하다보면 정말 비효율적이라는 느낌을 받는다. 안 받으셨다면 해보시면 느껴질 것이다.</p>
<p>더 극단적으로 든 생각은 <code>Vuex</code>를 사용하면 그냥 <code>mapGetters</code>, <code>mapActions</code> 두 함수만으로 직관적이고 디자이너도 알아볼 법한 코드로 구현이 가능한데 왜 <code>react</code>를 해야되지? 란 의문이 계속 들었다.</p>
<p><a href=https://github.com/redux-saga/redux-saga target=_blank rel="noopener noreferrer">Redux-saga</a>를 접하고는 드디어 state 관리의 친구를 만난 느낌이였다.
그렇다면 saga는 뭘까? 한 줄 표현만 기억해보자.</p>
<blockquote>
<p>saga란 <strong>action에 대한 listener</strong>이다.
음.. <strong>액션 리스너</strong>구나. 이벤트 리스너같은 것이군.</p>
</blockquote>
<p>설치를 하기 전에 <code>redux</code>와 <code>generator</code>의 개념을 완벽히 이해했다고 가정한다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=설치>설치<a href=#설치 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>## yarn add redux react-redux</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ </span><span class="token function" style=color:#d73a49>yarn</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>add</span><span class="token plain"> redux-saga</span><br/></span></code></pre></div></div>
<p><code>create-react-app</code>으로 생성된 프로젝트로 폴더 구조를 다음과 같이 가져갔다.</p>
<div class="language-bash codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-bash codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token builtin class-name">.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├── public</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└── src</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    ├── components</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    ├── containers</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    └── store</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      ├── actions</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      ├── reducers</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      ├── sagas</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      └── types</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├── package.json</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├── App.js</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└── index.js</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=연동>연동<a href=#연동 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>게시글을 가져오는 액션으로 시작해보자.
예시라 모든 코드를 해당 폴더의 index.js에 넣었다. 분리는 편하신대로 하면 되겠다.</p>
<blockquote>
<p><strong>빠르게 훑는 generator</strong></p>
<ul>
<li>iterable (돌리고 돌릴 수 있다)</li>
<li>비동기든 동기든 간에 <code>yield</code> 구문으로 순차적 처리가 가능하다.</li>
</ul>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=type>type<a href=#type class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>types/index.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>FETCH_BOARDS</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"FETCH_BOARDS"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>FETCH_BOARDS_FULFILLED</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"FETCH_BOARDS_FULFILLED"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>FETCH_BOARDS_REJECTED</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"FETCH_BOARDS_REJECTED"</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=action>action<a href=#action class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>actions/index.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>fetchBoards</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>type</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>FETCH_BOARDS</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// saga에서 호출하는 액션</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>fetchBoardsFulfilled</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">boards</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>type</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>FETCH_BOARDS_FULFILLED</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>payload</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> boards</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// saga에서 호출하는 액션</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>fetchBoardsRejected</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">error</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>type</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>FETCH_BOARDS_REJECTED</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  error</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p>action이 pure object만을 반환하는 것을 보고 있으면 아름답다는 생각이 저절로 든다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=reducer>reducer<a href=#reducer class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>reducers/index.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>INITIAL_STATE</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>boards</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">state </span><span class="token parameter operator" style=color:#393A34>=</span><span class="token parameter"> </span><span class="token parameter constant" style=color:#36acaa>INITIAL_STATE</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> </span><span class="token parameter punctuation" style=color:#393A34>{</span><span class="token parameter"> type</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> payload</span><span class="token parameter punctuation" style=color:#393A34>,</span><span class="token parameter"> error </span><span class="token parameter punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>switch</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">type</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>FETCH_BOARDS_FULFILLED</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token spread operator" style=color:#393A34>...</span><span class="token plain">state</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token literal-property property" style=color:#36acaa>boards</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> payload</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>case</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>FETCH_BOARDS_REJECTED</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token spread operator" style=color:#393A34>...</span><span class="token plain">state</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token literal-property property" style=color:#36acaa>showError</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        error</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword module" style=color:#00009f>default</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> state</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=saga>saga<a href=#saga class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p><code>saga</code>는 action을 listen(watch)한다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>saga/index.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> call</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> spawn</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> put</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> takeEvery </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"redux-saga/effects"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports operator" style=color:#393A34>*</span><span class="token imports"> </span><span class="token imports keyword module" style=color:#00009f>as</span><span class="token imports"> actions</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"../actions"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports">axios</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"axios"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>function</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>fetchBoardsSaga</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// try catch finally 구문으로 오류 제어가 가능하다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>try</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// 이부분을 call 메소드를 이용해 테스트가 쉽게 바꿀 수 있다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// (yeild를 사용하기 때문에 next 명령어로 반복 가능하므로)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// const { data } = yield call([axios, 'get'], '/boards')</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> data </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#00009f>yield</span><span class="token plain"> axios</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>get</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"/boards"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>yield</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>put</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">actions</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>fetchBoardsFulfilled</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">data</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#00009f>catch</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">error</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>yield</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>put</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">actions</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>fetchBoardsRejected</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">error</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">response</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>function</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>watchBoard</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// type의 action이 실행되면 fetchBoardsSaga도 항상(Every) 실행한다</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>yield</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>takeEvery</span><span class="token punctuation" style=color:#393A34>(</span><span class="token constant" style=color:#36acaa>FETCH_BOARDS</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> fetchBoardsSaga</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// 모든 listener(watcher)를 하나로 묶어준다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// rootReducer에 묶어주는 그것과 같다고 보면 된다.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>root</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>yield</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>spawn</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">watchBoard</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>왜 watcher들을 <code>spawn</code>으로 묶어야하는지는 <a href=https://github.com/redux-saga/redux-saga/issues/760 target=_blank rel="noopener noreferrer">이슈</a>에 나와있다.
(여기엔 자동으로 saga가 재시작되는 패턴도 있는데, 아직 활용해본 적은 없다)</p>
<p><strong>action => saga => action => reducer</strong> 로 연결되는 <code>saga</code>가 완성되었다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=store>store<a href=#store class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>스토어 담는건 각자의 취향이니 어떻게 연결하는지만 보면 된다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>store/index.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> createSagaMiddleware</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>END</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"redux-saga"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> saga </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>createSagaMiddleware</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>configureStore</span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">initialState</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> store </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>createStore</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    rootReducer</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    initialState</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>compose</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token function" style=color:#d73a49>applyMiddleware</span><span class="token punctuation" style=color:#393A34>(</span><span class="token spread operator" style=color:#393A34>...</span><span class="token plain">middlewares</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      inDevelopment </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token dom variable" style=color:#36acaa>window</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">devToolsExtension</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token operator" style=color:#393A34>?</span><span class="token plain"> </span><span class="token dom variable" style=color:#36acaa>window</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>devToolsExtension</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token parameter">f</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> f</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  store</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">runSaga</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> saga</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">run</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  store</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method-variable function-variable method function property-access" style=color:#d73a49>close</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> store</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>dispatch</span><span class="token punctuation" style=color:#393A34>(</span><span class="token constant" style=color:#36acaa>END</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> store</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_vGPJ>index.js</div><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> store </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>configureStore</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">store</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>runSaga</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">rootSaga</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=메소드>메소드<a href=#메소드 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=all>all<a href=#all class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p><code>yield</code> 구문으로 기다리는 건 순차적으로 실행되기 때문에, 동시에 실행되고 전부 <code>resolve</code>되는 패턴이 필요하다면 <code>all</code> 메소드를 사용하면 된다. (Promise.all을 생각하면 쉽다)</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>function</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>testSaga</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>//  기존 포스팅들에는 이렇게 사용하라는 구문이 많은데</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// deprecated 경고를 뱉는다</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">response1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> response2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#00009f>yield</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token function" style=color:#d73a49>asyncTask1</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>asyncTask2</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 아래와 같이 사용하자</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">response3</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> response4</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword control-flow" style=color:#00009f>yield</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>all</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token function" style=color:#d73a49>asyncTask1</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>asyncTask2</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=call>call<a href=#call class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p><code>Function.prototype.call()</code> 함수와 같다.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=takeevery>takeEvery<a href=#takeevery class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>모든 액션시마다 실행 된다.
<code>GET</code> 메소드에 사용하자.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=takelatest>takeLatest<a href=#takelatest class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>액션 호출시에 같은 액션이 실행 중이면 그 액션은 파기되고 마지막 호출만 실행된다.
<code>POST, PUT, DELETE</code> 같은 리소스 변경 메소드에 사용하자.</p>
<h4 class="anchor anchorWithStickyNavbar_GkGg" id=put>put<a href=#put class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h4>
<p>액션을 호출한다. <code>dispatch</code>라고 보면 된다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=다시보기>다시보기<a href=#다시보기 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p>비유를 통한 설명이 좋으면 이렇게 이해해도 된다.
회사에서 주로 푸드플라이로 서브웨이를 주문하는데 거기에 빗대어 보았다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=1-board를-가져오는-타입-만들기>1. Board를 가져오는 타입 만들기<a href=#1-board를-가져오는-타입-만들기 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>서브웨이를 푸드플라이로 시킨다고 한다면</li>
<li><code>const 푸드플라이_서브웨이 = '푸드플라이_서브웨이'</code> 처럼 컴퓨터가 알 수 있게 <code>변수</code>로 행동(액션)의 종류를 설정해주는 것</li>
<li><code>const 푸드플라이_서브웨이_주문성공 = '푸드플라이_서브웨이_주문성공'</code> 처럼 주문이 완료됬을 때의 행동명도 만들 수 있다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=2-fetchboards-액션-만들기>2. fetchBoards 액션 만들기<a href=#2-fetchboards-액션-만들기 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>푸드플라이에서 주문서를 넣는 행동과 같다.</li>
<li>액션은 타입과 결과(payload)를 return하는 함수이다.</li>
<li>굳이 payload를 안 써도 되는데, 그게 예쁘다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=3-fetchboards-사가-만들기>3. fetchBoards 사가 만들기<a href=#3-fetchboards-사가-만들기 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>푸드플라이 서버에서 주문서를 처리하는 것</li>
<li>서버에서 디비 값을 바꾸고 서브웨이로 주문을 밀어넣어주는 것</li>
<li>마지막에 주문이 들어갔다는 다른 액션을 <code>put</code>으로 호출한다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=4-fetchboards의-액션과-사가를-연결하기>4. fetchBoards의 액션과 사가를 연결하기<a href=#4-fetchboards의-액션과-사가를-연결하기 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>주문서를 넣으면 푸드플라이의 주문서 로직을 실행해야된다는 걸 컴퓨터에게 알려주는 부분</li>
<li><code>takeEvery</code>로 감싸면 매번 주문서가 들어올 때마다 로직이 실행된다는 것</li>
<li><code>takeLatest</code>로 감싸면 매번 주문서가 들어올 때마다 마지막에 들어온 것만 실행하는 것</li>
<li><code>take</code>는 무한루프가 안 예쁘다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=5-fetchboards-액션이-완료될-경우-발생하는-fetchboardsfulfilled-액션의-리듀서를-만들기>5. fetchBoards 액션이 완료될 경우 발생하는 fetchBoardsFulfilled 액션의 리듀서를 만들기<a href=#5-fetchboards-액션이-완료될-경우-발생하는-fetchboardsfulfilled-액션의-리듀서를-만들기 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>서브웨이에서 주문서를 받아서 <code>서브웨이 멜트</code> 만드는 준비를 하는 부분</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=6-리듀서에서-초기-상태-값을-업데이트-해주기>6. 리듀서에서 초기 상태 값을 업데이트 해주기<a href=#6-리듀서에서-초기-상태-값을-업데이트-해주기 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<ul>
<li>초기상태값은 <code>서브웨이 멜트</code>에 터키가 최소 2장, 햄 최소 2장 들어간다 같은 것</li>
<li>업데이트는 <code>서브웨이 멜트</code>를 진짜 만드는 행동</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=7-컴포넌트클래스를-리덕스-스토어와-연결>7. 컴포넌트(클래스)를 리덕스 스토어와 연결<a href=#7-컴포넌트클래스를-리덕스-스토어와-연결 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=8-boards-prop과-fetchboards-action을-가져오기-maptoprops-아실-거에요>8. Boards Prop과 fetchBoards Action을 가져오기 (map...toProps 아실 거에요)<a href=#8-boards-prop과-fetchboards-action을-가져오기-maptoprops-아실-거에요 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=9-componentdidmount-onclick에서-fetchboards-실행>9. componentDidMount, onClick에서 fetchBoards 실행<a href=#9-componentdidmount-onclick에서-fetchboards-실행 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=10-boardsmap-등-dom에-바인딩>10. Boards.map 등 DOM에 바인딩<a href=#10-boardsmap-등-dom에-바인딩 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=여담>여담<a href=#여담 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<ul>
<li><a href=https://redux-saga.js.org/ target=_blank rel="noopener noreferrer">Saga API Docs</a>엔 action을 기다리는 <code>take</code> 기능 등 많은 고급 기능이 있다.</li>
<li><code>supervisor</code> 패턴으로 구성한 사람도 보이는데 아직 필요성을 잘 못 느끼겠다.</li>
<li>처음부터 <code>mobx</code>로 시작했어도 쉬웠을텐데</li>
<li>saga에서 쓰는 개념들은 rx의 스트림과 비슷하게 느껴졌다.</li>
<li>2020년에는 <a href=https://react-redux.js.org/next/api/hooks target=_blank rel="noopener noreferrer">Redux hooks</a>를 사용하면 된다.</li>
</ul>
<blockquote>
<p>잘 이해가 안 된다면 <code>mobx</code>를 이해하는 게 정신건강에 좋습니다.</p>
</blockquote></div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_oc8d><a href=/en/2017/11/23/React-Router-Code-Splitting-가장-쉬운-방법/>React-Router Code Splitting - 가장 쉬운 방법</a></h2><div class="container_OrIy margin-vert--md"><time datetime=2017-11-23T10:58:22.000Z>November 23, 2017</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_wGk4"><div class="avatar margin-bottom--sm"><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_vBZr" src="https://avatars.githubusercontent.com/u/11773683?v=4" alt=Gracefullight /></a><div class="avatar__intro authorDetails_rwrS"><div class=avatar__name><a href=https://github.com/gracefullight target=_blank rel="noopener noreferrer"><span class=authorName_D1HT translate=no>Gracefullight</span></a></div><small class=authorTitle_Ydry title=Owner>Owner</small><div class=authorSocials_Ed3g></div></div></div></div></div></header><div class=markdown><p><code>create-react-app</code>으로 생성한 리액트 앱에 시작시 가져오는 컴포넌트 빼고는 비동기로 불러와야 메인이 가벼워진다.</p>
<p>검색해보면 <code>AsyncComponent</code>를 만들라는 게 보이는데, 더 쉬운 방법이 있다.</p>
<h2 class="anchor anchorWithStickyNavbar_GkGg" id=react-loadable>React-Loadable<a href=#react-loadable class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h2>
<p><a href=https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/docs/guides/code-splitting.md#code-splitting target=_blank rel="noopener noreferrer">React-router 의 Code Splitting</a>탭 에서 찾아볼 수 있는데, 아주 간결하게 컴포넌트를 불러 온다.</p>
<div class="language-js codeBlockContainer_xEp_ theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_LsJW><pre tabindex=0 class="prism-code language-js codeBlock_w7XU thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_uL9c><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style=color:#393A34>,</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Loadable</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"react-loadable"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Loading</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"./Loading"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token maybe-class-name">LoadableComponent</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function maybe-class-name" style=color:#d73a49>Loadable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function-variable function" style=color:#d73a49>loader</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>import</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"./Dashboard"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>/* 컴포넌트 로딩시 보여지는 로딩 컴포넌트 */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#36acaa>loading</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token maybe-class-name">Loading</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#00009f>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#00009f>default</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">LoadableDashboard</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>render</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword control-flow" style=color:#00009f>return</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">LoadableComponent</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>/</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>너무 너무 쉽다. 진작에 이 정도 레벨의 추상화가 있었어야했다.</p>
<h3 class="anchor anchorWithStickyNavbar_GkGg" id=옵션>옵션<a href=#옵션 class=hash-link aria-label="Direct link to heading" title="Direct link to heading" translate=no>​</a></h3>
<p>자세한 옵션 <code>delay</code>, <code>timeout</code> 등은 <a href=https://github.com/thejameskyle/react-loadable#------------api-docs target=_blank rel="noopener noreferrer">여기</a>서 확인할 수 있다.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Tags:</b><ul class="tags_I9gl padding--none margin-left--sm"><li class=tag_gTs5><a rel=tag title="Any application that can be written in JavaScript, will eventually be written in JavaScript" class="tag_QmFV tagRegular_P3VH" href=/en/tags/javascript/>javascript</a><li class=tag_gTs5><a rel=tag class="tag_QmFV tagRegular_P3VH" href=/en/tags/react/>react</a></ul></div></footer></article><nav class=pagination-nav aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href=/en/tags/react/page/2/><div class=pagination-nav__label>Older Entries</div></a></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Support Me</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.buymeacoffee.com/LOUB2kN target=_blank rel="noopener noreferrer" style="cursor: pointer;">
                <img src=https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png style="height: auto !important;width: auto !important;">
              </a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Feeds</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://gracefullight.dev/rss.xml target=_blank rel="noopener noreferrer" class=footer__link-item>RSS<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_ZLQs><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://gracefullight.dev/atom.xml target=_blank rel="noopener noreferrer" class=footer__link-item>Atom<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_ZLQs><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2016 - 2023 Gracefullight. Built with Docusaurus.</div></div></div></footer></div></body>