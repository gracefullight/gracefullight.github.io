"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[62821],{49613:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var l=n(59496);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,l,i=function(e,t){if(null==e)return{};var n,l,i={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=l.createContext({}),m=function(e){var t=l.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=m(e.components);return l.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},c=l.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=m(n),c=i,k=u["".concat(p,".").concat(c)]||u[c]||d[c]||a;return n?l.createElement(k,r(r({ref:t},s),{},{components:n})):l.createElement(k,r({ref:t},s))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:i,r[1]=o;for(var m=2;m<a;m++)r[m]=n[m];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}c.displayName="MDXCreateElement"},67663:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>m});var l=n(31966),i=(n(59496),n(49613));const a={title:"Pythonic - \ud578\ub4e4\ub9c1",authors:"me",tags:["python"],date:new Date("2020-01-27T18:38:10.000Z")},r="Handling",o={permalink:"/2020/01/27/Pythonic-handling",source:"@site/blog/2020/01/27/Pythonic-handling.md",title:"Pythonic - \ud578\ub4e4\ub9c1",description:"\ud30c\uc77c",date:"2020-01-27T18:38:10.000Z",formattedDate:"2020\ub144 1\uc6d4 27\uc77c",tags:[{label:"python",permalink:"/tags/python"}],readingTime:3.69,hasTruncateMarker:!1,authors:[{name:"Gracefullight",title:"Owner",url:"https://github.com/gracefullight",imageURL:"https://avatars.githubusercontent.com/u/11773683?v=4",key:"me"}],frontMatter:{title:"Pythonic - \ud578\ub4e4\ub9c1",authors:"me",tags:["python"],date:"2020-01-27T18:38:10.000Z"},prevItem:{title:"Workbox5 \ubc84\uc804\uc758 \uc8fc\uc694 \ubcc0\uacbd\uc0ac\ud56d",permalink:"/2020/02/02/Workbox5-breaking-changes"},nextItem:{title:"\ucfe0\ubc84\ub124\ud2f0\uc2a4 \ub9ac\ub205\uc2a4 \ucee4\ub110 \ud29c\ub2dd\ud558\uae30",permalink:"/2020/01/24/k8s-linux-kernel-tuning"}},p={authorsImageUrls:[void 0]},m=[{value:"\ud30c\uc77c",id:"\ud30c\uc77c",level:2},{value:"\ud30c\uc77c \ud655\uc778",id:"\ud30c\uc77c-\ud655\uc778",level:3},{value:"\ud30c\uc77c \uc81c\uc5b4",id:"\ud30c\uc77c-\uc81c\uc5b4",level:3},{value:"\ud3f4\ub354 \uc81c\uc5b4",id:"\ud3f4\ub354-\uc81c\uc5b4",level:3},{value:"CSV",id:"csv",level:3},{value:"\uc784\uc2dc\ud30c\uc77c",id:"\uc784\uc2dc\ud30c\uc77c",level:3},{value:"\uc555\ucd95",id:"\uc555\ucd95",level:2},{value:"tar",id:"tar",level:3},{value:"zip",id:"zip",level:3},{value:"ini",id:"ini",level:3},{value:"yaml",id:"yaml",level:3},{value:"\ub85c\uae45",id:"\ub85c\uae45",level:2},{value:"\ub85c\uae45 \ud578\ub4e4\ub7ec",id:"\ub85c\uae45-\ud578\ub4e4\ub7ec",level:3},{value:"\ub85c\uae45 \ud544\ud130",id:"\ub85c\uae45-\ud544\ud130",level:3},{value:"\uba54\uc77c",id:"\uba54\uc77c",level:2},{value:"\uc11c\ube0c\ud504\ub85c\uc138\uc2a4",id:"\uc11c\ube0c\ud504\ub85c\uc138\uc2a4",level:2},{value:"\ucee4\ub9e8\ub4dc \uccb4\uc774\ub2dd",id:"\ucee4\ub9e8\ub4dc-\uccb4\uc774\ub2dd",level:2},{value:"\ucee4\ub9e8\ub4dc \ud30c\uc2f1",id:"\ucee4\ub9e8\ub4dc-\ud30c\uc2f1",level:2},{value:"\ucd08\uae30\ud654",id:"\ucd08\uae30\ud654",level:2},{value:"\uc5f0\uc0b0",id:"\uc5f0\uc0b0",level:2}],s={toc:m},u="wrapper";function d(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,l.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"\ud30c\uc77c"},"\ud30c\uc77c"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"File pointer \uc5ec\ub294 \ubc95\uc740 ",(0,i.kt)("inlineCode",{parentName:"li"},"f.open(\u2018test.txt\u2019, \u2018w\u2019)")),(0,i.kt)("li",{parentName:"ul"},"\uc774 \uacbd\uc6b0 f.write \ud6c4\uc5d0 f.close \ud574\uc918\uc57c\ud55c\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"with")," \uc0ac\uc6a9\uc2dc close \ub97c \uc0dd\uac01\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub41c\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"with")," \uad6c\ubb38\uc5d0\uc11c \uc120\uc5b8\ub41c \ubcc0\uc218\ub294 \ubc14\uae65\uc5d0\uc11c \uc0ac\uc6a9\uac00\ub2a5"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"f.seek(5)")," \ucc98\ub7fc \uc704\uce58\ub85c \uc774\ub3d9 \uac00\ub2a5\ud558\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"string.Template")," \uacfc \ud568\uaed8 \ubdf0 \ud30c\uc77c\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"# \uc608\uc2dc 1\nwith open('test.txt', 'w') as f:\n    f.write('Test')\n\n# \uc608\uc2dc 2\nwith open('test.txt', 'r') as f:\n    # print(f.read())\n    while True:\n        chunk = 2\n        line = f.read(chunk)\n        print(line)\n\n        if not line:\n        reak\n\n# \uc608\uc2dc 3\n# w+ \ub85c \uc5f4\uba74 \ud30c\uc77c\uc774 \ucd08\uae30\ud654 \ub428\nwith open('test.txt', 'w+') as f:\n    f.write(s)\n    # \uc4f0\uae30 \ud6c4\uc5d0 \uc77d\uae30\uc704\ud574 0\ubc88\uc9f8\ub85c \uc774\ub3d9\n    f.seek(0)\n    print(f.read())\n\n# \uc608\uc2dc 4\nimport string\n\nwith open('view/mail.tpl', 'r') as f:\n    t = string.Template(f.read())\n\n# $name, $contents\ncontents = t.substitute(name='gracefullight', contents='Thanks')\nprint(contents)\n")),(0,i.kt)("h3",{id:"\ud30c\uc77c-\ud655\uc778"},"\ud30c\uc77c \ud655\uc778"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"os.path.exsists")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"os.path.isfile")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"os.path.isdir"))),(0,i.kt)("h3",{id:"\ud30c\uc77c-\uc81c\uc5b4"},"\ud30c\uc77c \uc81c\uc5b4"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"os.rename")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"os.symlink"),": \uc2ec\ubcfc\ub9ad"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"shutil.copy"),": \ubcf5\uc0ac"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"pathlib.Path('TouchFilePath').touch()"),": \ud130\uce58 \ud30c\uc77c")),(0,i.kt)("h3",{id:"\ud3f4\ub354-\uc81c\uc5b4"},"\ud3f4\ub354 \uc81c\uc5b4"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"os.mkdir")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"os.rmdir"),": \ube48 \ub514\ub809\ud1a0\ub9ac\ub9cc \uac00\ub2a5"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"shutil.retree"),": recursive")),(0,i.kt)("h3",{id:"csv"},"CSV"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"csv.DictWriter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"csv.DictReader"))),(0,i.kt)("h3",{id:"\uc784\uc2dc\ud30c\uc77c"},"\uc784\uc2dc\ud30c\uc77c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"import tempfile\n\n# \uc0ad\uc81c \ub428\nwith tempfile.TemporaryFile(mode='w+') as t:\n    t.write('hello')\n\n# \uc0ad\uc81c \uc548 \ub428\nwith tempfile.NamedTemporaryFile(delete=False) as t:\n    # print(t.name)\n    with open(t.name, 'w+') as f:\n        f.write('hello')\n\n\n# \uc0ad\uc81c\ub418\ub294 \ub514\ub809\ud1a0\ub9ac\nwith tempfile.TemporaryDirectory() as td:\n    print(td)\n\n# \uc0ad\uc81c \uc548 \ub418\ub294 \ub514\ub809\ud1a0\ub9ac\ntemp_dir = tempfile.mkdtemp()\n")),(0,i.kt)("h2",{id:"\uc555\ucd95"},"\uc555\ucd95"),(0,i.kt)("h3",{id:"tar"},"tar"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"import tarfile\n\nwith tarfile.open('test.tar.gz', 'w:gz') as tr:\n    tr.add('dir')\n\nwith tarfile.open('test.tar.gz', 'r:gz') as tr:\n    tr.extractall(path='dir')\n\n    with tr.extractfile('tarball') as f:\n        print(f.read())\n")),(0,i.kt)("h3",{id:"zip"},"zip"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"import zipfile\n\nwith zipfile.ZipFile('test.zip', 'w') as z:\n    # \ud558\ub098\uc758 \ud3f4\ub354\ub9cc \uac00\ub2a5\n    z.write('dir')\n\n    # \ud558\uc704 \uc804\uccb4 \uc555\ucd95\n    for f in glob.glob('dir/**', recursive=True):\n        z.write(f)\n")),(0,i.kt)("h3",{id:"ini"},"ini"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"configparser.ConfigParser()"))),(0,i.kt)("h3",{id:"yaml"},"yaml"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"pip install pyyaml"))),(0,i.kt)("h2",{id:"\ub85c\uae45"},"\ub85c\uae45"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"logging.critical"),(0,i.kt)("li",{parentName:"ul"},"error"),(0,i.kt)("li",{parentName:"ul"},"warning"),(0,i.kt)("li",{parentName:"ul"},"info"),(0,i.kt)("li",{parentName:"ul"},"debug")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"import logging\n\n# basicConfig \uc5d0 format \uc744 \uc815\uc758 \uac00\ub2a5\n# doc \ud655\uc778\nlogging.basicConfig(filename='test.log', level=logging.INFO)\nlogging.info('info %s %s', 'test', 'test2') # === logging.info('info {}'.format('test')\n\n# \ud574\ub2f9 \ud30c\uc77c\uc5d0\uc11c \ub85c\uadf8\uba85 \uc7ac\uc815\uc758\nlogger = logging.getLogger(__name__)\n\n# \ub85c\uadf8 \ub808\ubca8 \uc7ac\uc815\uc758\nlogger.setLevel(logging.DEBUG)\n\n# \uc804\uccb4 \uc124\uc815 \ubcc0\uacbd\nlogging.config.fileConfig(...)\nlogging.config.dictConfig(...)\n")),(0,i.kt)("h3",{id:"\ub85c\uae45-\ud578\ub4e4\ub7ec"},"\ub85c\uae45 \ud578\ub4e4\ub7ec"),(0,i.kt)("p",null,"\uc5ec\ub7ec \ud578\ub4e4\ub7ec\ub97c \uc27d\uac8c \ubd99\ud790 \uc218 \uc788\ub2e4. ",(0,i.kt)("a",{parentName:"p",href:"https://docs.python.org/ko/3/library/logging.handlers.html"},"\ubb38\uc11c")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"handler = logging.FileHandler(...)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"logger.addHandler(handler)"))),(0,i.kt)("h3",{id:"\ub85c\uae45-\ud544\ud130"},"\ub85c\uae45 \ud544\ud130"),(0,i.kt)("p",null,"\ub85c\uadf8\uc758 \ucd9c\ub825\uc744 \ud544\ud130\ub97c \uc0ac\uc6a9\ud574 \uc27d\uac8c \uac00\uacf5 \uac00\ub2a5\ud558\ub2e4. ",(0,i.kt)("a",{parentName:"p",href:"https://docs.python.org/ko/3/howto/logging-cookbook.html"},"\ubb38\uc11c")),(0,i.kt)("h2",{id:"\uba54\uc77c"},"\uba54\uc77c"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"smtplib.SMTP")," \uc640 ",(0,i.kt)("inlineCode",{parentName:"li"},"from email import message")," \ud328\ud0a4\uc9c0\ub85c \uac00\ub2a5\ud558\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"\ud30c\uc77c \ucca8\ubd80\ub294 email.mime \uc758 multipart\uc640 text \ud328\ud0a4\uc9c0\ub85c \uac00\ub2a5\ud558\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\ud30c\uc77c \ucd94\uac00 \uc2dc\uc5d0\ub294 \ud5e4\ub354\ub97c ",(0,i.kt)("inlineCode",{parentName:"li"},"Content-Disposition: attachment"),"\ub85c \uc918\uc57c\ud55c\ub2e4."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"logger.handelrs.SMTPHandler")," \ub85c \uba54\uc77c\ub85c \ub85c\uadf8\ub97c \ubc1b\uc744 \uc218 \uc788\ub2e4.")),(0,i.kt)("h1",{id:"\uc258"},"\uc258"),(0,i.kt)("h2",{id:"\uc11c\ube0c\ud504\ub85c\uc138\uc2a4"},"\uc11c\ube0c\ud504\ub85c\uc138\uc2a4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"import subprocess\n\nsubprocess.run(['ls', '-al'])\n")),(0,i.kt)("h2",{id:"\ucee4\ub9e8\ub4dc-\uccb4\uc774\ub2dd"},"\ucee4\ub9e8\ub4dc \uccb4\uc774\ub2dd"),(0,i.kt)("p",null,"\uc5ec\ub7ec \ucee4\ub9e8\ub4dc\ub97c \ud55c \ubc88\uc5d0 \uc2e4\ud589\uc2dc\ud0ac \uacbd\uc6b0 \uc778\uc81d\uc158 \ubc29\uc5b4\ub97c \uc704\ud574 \ub2e4\uc74c\uacfc \uac19\uc774 \ucc98\ub9ac\ud558\ub294 \uac83\uc774 \uc88b\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"process1 = subprocess.Popen(['ls', '-al'], stdout=subprocess.PIPE)\nprocess2 = subprocess.Popen(['grep' , 'test'], stdin=p1.stdout, stdout=subprocess.PIPE)\nprocess1.stdout.close()\n\noutput = process2.communicate()[0]\n")),(0,i.kt)("h2",{id:"\ucee4\ub9e8\ub4dc-\ud30c\uc2f1"},"\ucee4\ub9e8\ub4dc \ud30c\uc2f1"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://docs.python.org/ko/3/library/argparse.html"},"argparse"),"\ub97c \uc0ac\uc6a9\ud558\uc790."),(0,i.kt)("h1",{id:"\ub0a0\uc9dc"},"\ub0a0\uc9dc"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\ud30c\uc774\uc36c\uc5d0\ub294 \ub0a0\uc9dc\ub97c timestamp \ub85c \ubcc0\ud658\ud574 \ucd9c\ub825\ud558\ub294 \uae30\ub2a5\uc740 \uc5c6\ub2e4.")),(0,i.kt)("h2",{id:"\ucd08\uae30\ud654"},"\ucd08\uae30\ud654"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"import datetime\nimport time\n\n\nnow = datetime.datetime.now()\nprint(now)\nprint(now.isoformat())\nprint(now.strftime('%Y-%m-%d %H:%M:%S.%f'))\n\n# \ub0a0\uc9dc\ub9cc\ntoday = datetime.date.today()\nprint(today) # 2020-02-02\nprint(today.isoformat()) # 2020-02-02\nprint(today.strftime('%Y-%m-%d'))\n\n# \uc2dc\uac04\ub9cc\nt = datetime.time(hour=1, minute=10, second=5, microsecond=100)\nprint(t) # 01:10:05.000100\nprint(t.isoformat()) # 01:10:05.000100\nprint(t.strftime('%H:%M:%S')) # 01:10:05\n\n# timestamp\nprint(time.time()) # 1580617313.843047\n")),(0,i.kt)("h2",{id:"\uc5f0\uc0b0"},"\uc5f0\uc0b0"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"now = datetime.datetime.now()\nprint(now)\n\nd = datetime.timedelta(weeks=1)\nprint(now - d)\n")))}d.isMDXComponent=!0}}]);