"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["47061"],{67954(e,t,r){r.r(t),r.d(t,{default:()=>m});var a=r(74848),i=r(82112),n=r(44995),l=r(96540);let o=Math.round(210/25.4*300),d=Math.round(297/25.4*300);function m(){let[e,t]=(0,l.useState)([]),[r,m]=(0,l.useState)(),[c,s]=(0,l.useState)(!0),h=(0,l.useRef)(null);async function u(){let t=await n.PDFDocument.create();for(let{file:r}of e){let e,a,i,n,l=URL.createObjectURL(r),m=await function(e){return new Promise((t,r)=>{let a=new window.Image;a.onload=()=>t(a),a.onerror=r,a.src=e})}(l),{width:s,height:h}=m,u=Math.min(o,s),g=Math.min(d,h);if(c){let t=Math.max(u/s,g/h);e=s*t,a=h*t,i=(u-e)/2,n=(g-a)/2}else{let t=Math.min(u/s,g/h);e=s*t,a=h*t,i=(u-e)/2,n=(g-a)/2}let f=document.createElement("canvas");f.width=u,f.height=g;let p=f.getContext("2d");if(!p)return;p.fillStyle="white",p.fillRect(0,0,u,g),p.drawImage(m,i,n,e,a);let b=f.toDataURL("image/jpeg",.8),y=await fetch(b).then(e=>e.arrayBuffer()),x=await t.embedJpg(y);t.addPage([595,842]).drawImage(x,{height:842,width:595,x:0,y:0})}let r=new Blob([await t.save()],{type:"application/pdf"});m(URL.createObjectURL(r))}return(0,a.jsx)(i.A,{children:(0,a.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:function(e){e.preventDefault();let r=Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/")).map(e=>({file:e,name:e.name,url:URL.createObjectURL(e)}));t(e=>[...e,...r])},style:{border:"1px solid #ccc",borderRadius:"1rem",margin:"0 auto",marginTop:"2rem",maxWidth:"40rem",minWidth:"32rem",padding:"2rem"},children:[(0,a.jsx)("h2",{style:{marginBottom:"1.5rem"},children:"\uC774\uBBF8\uC9C0 \u2192 PDF \uBCC0\uD658\uAE30"}),(0,a.jsx)("input",{accept:"image/*",multiple:!0,onChange:function(e){if(!e.target.files)return;let r=Array.from(e.target.files).filter(e=>e.type.startsWith("image/")).map(e=>({file:e,name:e.name,url:URL.createObjectURL(e)}));t(e=>[...e,...r])},ref:h,style:{display:"none"},type:"file"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[(0,a.jsx)("button",{onClick:()=>h.current?.click(),type:"button",children:"\uC774\uBBF8\uC9C0 \uC120\uD0DD"}),(0,a.jsx)("button",{onClick:function(){t([]),m(void 0)},type:"button",children:"\uC804\uCCB4 \uC0AD\uC81C"})]}),(0,a.jsx)("div",{style:{background:"#fafafa",border:"1px dashed #aaa",borderRadius:"0.5rem",margin:"1rem 0",minHeight:"4rem",padding:"1rem",textAlign:"center"},children:0===e.length?"\uC5EC\uAE30\uB85C \uC774\uBBF8\uC9C0\uB97C \uB4DC\uB798\uADF8 \uD558\uC138\uC694!":e.map(e=>(0,a.jsx)("img",{alt:e.name,src:e.url,style:{border:"1px solid #eee",borderRadius:"0.5rem",margin:"0.5rem"},width:80},e.url))}),(0,a.jsx)("div",{style:{margin:"1rem 0"},children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{checked:c,onChange:e=>s(e.target.checked),style:{marginRight:"0.5rem"},type:"checkbox"}),"\uC774\uBBF8\uC9C0\uB97C A4\uC5D0 \uBE48 \uACF5\uAC04 \uC5C6\uC774 \uCC44\uC6B0\uAE30"]})}),(0,a.jsx)("button",{disabled:0===e.length,onClick:u,style:{background:"#3b82f6",border:"none",borderRadius:"0.5rem",color:"white",cursor:"pointer",fontWeight:"bold",marginBottom:"1rem",padding:"0.625rem 1.25rem"},type:"button",children:"PDF \uB9CC\uB4E4\uAE30"}),r&&(0,a.jsx)("div",{style:{marginTop:"1.5rem"},children:(0,a.jsx)("a",{download:"output.pdf",href:r,rel:"noopener noreferrer",target:"_blank",children:"PDF \uB2E4\uC6B4\uB85C\uB4DC"})})]})})}}}]);