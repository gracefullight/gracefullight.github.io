"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["44353"],{49810:function(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>o});var i=t(89010),r=t(69979),s=t(56774);let l={title:"Laravel 5.5 - \uB85C\uADF8\uC778(Auth) \uBD99\uD788\uAE30",authors:"me",tags:["php","laravel"],date:new Date("2017-07-09T22:46:57.000Z")},a=void 0,d={authorsImageUrls:[void 0]},o=[{value:"Basic Auth",id:"basic-auth",level:2},{value:"\uB2E4\uB978 \uD14C\uC774\uBE14 \uC0AC\uC6A9",id:"\uB2E4\uB978-\uD14C\uC774\uBE14-\uC0AC\uC6A9",level:3},{value:"\uC124\uC815 \uBCC0\uACBD",id:"\uC124\uC815-\uBCC0\uACBD",level:4},{value:"\uC778\uC99D \uD544\uB4DC \uBCC0\uACBD",id:"\uC778\uC99D-\uD544\uB4DC-\uBCC0\uACBD",level:4},{value:"\uD68C\uC6D0\uAC00\uC785 \uD6C4 \uC790\uB3D9\uB85C\uADF8\uC778",id:"\uD68C\uC6D0\uAC00\uC785-\uD6C4-\uC790\uB3D9\uB85C\uADF8\uC778",level:3},{value:"ajax \uCC98\uB9AC",id:"ajax-\uCC98\uB9AC",level:3},{value:"\uB85C\uADF8\uC778",id:"\uB85C\uADF8\uC778",level:4},{value:"\uBE44\uBC00\uBC88\uD638 \uCC3E\uAE30",id:"\uBE44\uBC00\uBC88\uD638-\uCC3E\uAE30",level:4},{value:"routing \uC608\uC678",id:"routing-\uC608\uC678",level:3},{value:"notification \uC608\uC678",id:"notification-\uC608\uC678",level:3},{value:"Auth",id:"auth",level:2},{value:"\uB85C\uADF8\uC778",id:"\uB85C\uADF8\uC778-1",level:3},{value:"not bcrypt",id:"not-bcrypt",level:4},{value:"N\uAC1C\uC758 \uC138\uC158",id:"n\uAC1C\uC758-\uC138\uC158",level:3},{value:"\uBAA8\uB378 \uC0DD\uC131",id:"\uBAA8\uB378-\uC0DD\uC131",level:4},{value:"\uC124\uC815 \uCD94\uAC00",id:"\uC124\uC815-\uCD94\uAC00",level:4},{value:"\uBBF8\uB4E4\uC6E8\uC5B4",id:"\uBBF8\uB4E4\uC6E8\uC5B4",level:4},{value:"\uD65C\uC6A9",id:"\uD65C\uC6A9",level:4},{value:"\uB85C\uADF8\uC544\uC6C3",id:"\uB85C\uADF8\uC544\uC6C3",level:3},{value:"\uC774\uC288",id:"\uC774\uC288",level:2},{value:"\uC138\uC158 \uC544\uC774\uB514",id:"\uC138\uC158-\uC544\uC774\uB514",level:3},{value:"\uC18C\uC15C \uB85C\uADF8\uC778",id:"\uC18C\uC15C-\uB85C\uADF8\uC778",level:2},{value:"\uC138\uD305",id:"\uC138\uD305",level:3},{value:"\uC5EC\uB2F4",id:"\uC5EC\uB2F4",level:2}];function h(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/2017/06/06/Laravel-5-4-Eloquent-Model/",children:"\uC774\uC804 \uD3EC\uC2A4\uD305"}),"\uC5D0\uC11C \uB370\uC774\uD130\uB97C \uAC00\uC838\uC654\uC73C\uB2C8, \uB85C\uADF8\uC778\uC744 \uAD6C\uD604\uD574\uBCF4\uC790."]}),"\n",(0,r.jsx)(n.h2,{id:"basic-auth",children:"Basic Auth"}),"\n",(0,r.jsx)(n.p,{children:"\uB77C\uB77C\uBCA8\uC5D0\uC11C \uC81C\uACF5\uD558\uB294 \uD68C\uC6D0\uAC00\uC785, \uB85C\uADF8\uC778, \uBE44\uBC00\uBC88\uD638 \uCC3E\uAE30 \uAE30\uB2A5\uC744 \uC0AC\uC6A9\uD558\uACE0 \uC2F6\uB2E4\uBA74 artisan \uBA85\uB839\uC5B4\uB85C \uAC04\uB2E8\uD558\uAC8C \uC2DC\uC791\uD560 \uC218 \uC788\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan make:auth\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD558\uBA74 ",(0,r.jsx)(n.strong,{children:"resources/views/auth"})," \uD3F4\uB354\uC5D0 \uBDF0\uAC00 ",(0,r.jsx)(n.strong,{children:"app/Http/Controllers/Auth"}),"\uC5D0 \uB85C\uC9C1\uC774 \uC0DD\uC131\uB418\uACE0 ",(0,r.jsx)(n.strong,{children:"routes/web.php"}),"\uC5D0 \uB77C\uC6B0\uD305\uC774 \uB4F1\uB85D\uB41C\uB2E4.\nDB\uB3C4 \uAC19\uC774 \uB9CC\uB4E4\uACE0 \uC2F6\uB2E4\uBA74 ",(0,r.jsx)(n.a,{href:"https://laravel.com/docs/5.4/authentication",children:"Docs"}),"\uB97C \uB530\uB77C\uD558\uC790."]}),"\n",(0,r.jsx)(n.h3,{id:"\uB2E4\uB978-\uD14C\uC774\uBE14-\uC0AC\uC6A9",children:"\uB2E4\uB978 \uD14C\uC774\uBE14 \uC0AC\uC6A9"}),"\n",(0,r.jsx)(n.p,{children:"\uC81C\uACF5\uB41C user \uD14C\uC774\uBE14\uC744 \uC548 \uC4F0\uB824\uBA74 \uCEE4\uC2A4\uD130\uB9C8\uC774\uC9D5\uC774 \uD544\uC694\uD558\uB2E4."}),"\n",(0,r.jsx)(n.h4,{id:"\uC124\uC815-\uBCC0\uACBD",children:"\uC124\uC815 \uBCC0\uACBD"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"config/auth.php"})," \uD30C\uC77C\uB85C \uC774\uB3D9\uD574 \uB2E4\uB978 \uBAA8\uB378\uC744 \uB4F1\uB85D\uD558\uC790."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="config/auth.php"',children:"<?php\n'providers' => [\n  'users' => [\n    'driver' => 'eloquent',\n    // \uC5EC\uAE30\uC5D0 \uC0AC\uC6A9\uD560 \uBAA8\uB378\uC744 \uB4F1\uB85D\uD55C\uB2E4.\n    'model' => App\\Models\\Member::class,\n  ]\n]\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["config \uC548\uC758 \uD30C\uC77C\uC744 \uBCC0\uACBD\uD558\uBA74 config",":clear","\uB97C \uC2E4\uD589\uD574 \uD639\uC2DC \uBAA8\uB97C \uCE90\uC2DC\uB97C \uB0A0\uB824\uC8FC\uC790"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\uADF8\uB9AC\uACE0 ",(0,r.jsx)(n.strong,{children:"app/Models/Member.php"}),"\uB85C \uC774\uB3D9\uD574 \uB0B4 \uBAA8\uB378\uC744 \uB77C\uB77C\uBCA8 \uAE30\uBCF8 \uC778\uC99D \uBAA8\uB4C8\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC788\uAC8C \uCD94\uAC00\uD574\uC57C\uD55C\uB2E4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Models/Member.php"',children:"<?\n// \uB77C\uB77C\uBCA8 \uC778\uC99D \uC0AC\uC6A9\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\n// \uBE44\uBC00\uBC88\uD638 \uBCC0\uACBD \uBA54\uC77C\uC744 \uC704\uD574 \uD544\uC694\uD55C trait\nuse Illuminate\\Notifications\\Notifiable;\n\n// Authenticatable \uB97C \uC0C1\uC18D\uBC1B\uB294\uB2E4.\nclass Member extends Authenticatable {\n  // Notifiable trait\uB97C \uCD94\uAC00\uD55C\uB2E4.\n  use Notifiable;\n\n  protected $guarded = [\n    'member_id', 'remember_token'\n  ];\n\n  protected $hidden = [\n    'password', 'remember_token',\n  ];\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\uC778\uC99D-\uD544\uB4DC-\uBCC0\uACBD",children:"\uC778\uC99D \uD544\uB4DC \uBCC0\uACBD"}),"\n",(0,r.jsx)(n.p,{children:"Basic Auth\uB294 \uAE30\uBCF8 \uD544\uB4DC\uB97C email\uB85C \uC7A1\uACE0 \uC788\uAE30 \uB54C\uBB38\uC5D0 id \uD544\uB4DC\uB97C \uC0AC\uC6A9\uD558\uAC8C \uBCC0\uACBD\uD574\uC57C\uD55C\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Http/Controllers/Auth/LoginController.php"',children:"<?php\n// username \uBA54\uC18C\uB4DC\uB97C \uCD94\uAC00\npublic function username() {\n  // \uBC18\uD658\uD560 \uD544\uB4DC\uB97C \uC120\uC5B8\uD55C\uB2E4.\n  return 'id';\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uD68C\uC6D0\uAC00\uC785-\uD6C4-\uC790\uB3D9\uB85C\uADF8\uC778",children:"\uD68C\uC6D0\uAC00\uC785 \uD6C4 \uC790\uB3D9\uB85C\uADF8\uC778"}),"\n",(0,r.jsx)(n.p,{children:"\uD68C\uC6D0\uAC00\uC785\uC774 \uC131\uACF5\uD558\uBA74 \uC138\uC158\uC744 \uC0DD\uC131\uD574\uC918\uC57C\uD55C\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Http/Controllers/Auth/RegisterController.php"',children:"<?php\n// registered \uBA54\uC18C\uB4DC\uB97C Override\nprotected function registered(Request $request, $user) {\n  // \uC138\uC158 \uC0DD\uC131\n  Auth::attempt([\n    'id' => $request->input('id'),\n    'password' => $request->input('password')\n  ]);\n\n  return response(null, 204);\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ajax-\uCC98\uB9AC",children:"ajax \uCC98\uB9AC"}),"\n",(0,r.jsx)(n.h4,{id:"\uB85C\uADF8\uC778",children:"\uB85C\uADF8\uC778"}),"\n",(0,r.jsx)(n.p,{children:"\uB85C\uADF8\uC778\uC744 ajax\uB85C \uCC98\uB9AC\uD574\uC57C\uB420 \uACBD\uC6B0 \uCEE4\uC2A4\uD130\uB9C8\uC774\uC9D5\uC774 \uD544\uC694\uD558\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Http/Controllers/Auth/LoginController.php"',children:"<?php\n// authenticated \uBA54\uC18C\uB4DC\uB97C Override\nprotected function authenticated(Request $request, $user) {\n  // \uC778\uC99D\uC774 \uB41C \uACBD\uC6B0 \uD398\uC774\uC9C0 \uC804\uD658\uC774 \uC544\uB2CC \uC804\uD658\uB420 \uD398\uC774\uC9C0\uB97C json\uC73C\uB85C \uBC18\uD658\uD55C\uB2E4.\n  if ($request->ajax()) {\n    return response()->json([\n      'href' => url()->previous()\n    ]);\n\n  } else {\n    return abort(405);\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\uBE44\uBC00\uBC88\uD638-\uCC3E\uAE30",children:"\uBE44\uBC00\uBC88\uD638 \uCC3E\uAE30"}),"\n",(0,r.jsx)(n.p,{children:"\uBE44\uBC00\uBC88\uD638 \uCC3E\uAE30\uB97C ajax\uB85C \uCC98\uB9AC\uD574\uC57C\uB420 \uACBD\uC6B0 \uCEE4\uC2A4\uD130\uB9C8\uC774\uC9D5\uC774 \uD544\uC694\uD558\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Http/Controllers/Auth/ForgotPasswordController.php"',children:"<?php\npublic function sendResetLinkEmail(Request $request) {\n  $this->validateId($request);\n  // email\uC774 \uC544\uB2CC \uC544\uC774\uB514\uB85C \uAC80\uC0C9\uC744 \uD574 \uBA54\uC77C\uC744 \uCC3E\uACE0 \uC2F6\uB2E4\uBA74\n  $data = Member::where('id', $request->only('id'))\n    ->first(['email']);\n\n  $email = isset($data->email) ? $data->email : null;\n\n  // \uC5EC\uAE30\uC11C email\uC774 User Model(Member Model)\uC5D0 \uBC14\uC778\uB529\uB41C\uB2E4.\n  // \uC544\uB798\uC758 sendPasswordResetNotification \uBA54\uC18C\uB4DC\uC5D0\uC11C $this->email \uAC12\uC774\uB2E4.\n  $response = $this->broker()->sendResetLink([\n    'email' => $email\n  ]);\n\n  // \uB9AC\uD134 \uAC12\uC744 \uBCC0\uACBD\uD574\uC8FC\uC790.\n  return response()->json([\n    'email' => $email\n  ], $response == Password::RESET_LINK_SENT ? 200 : 500 );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"routing-\uC608\uC678",children:"routing \uC608\uC678"}),"\n",(0,r.jsxs)(n.p,{children:["ajax \uC694\uCCAD\uC73C\uB85C \uBC14\uAFE8\uB2E4\uBA74 \uAD73\uC774 \uD544\uC694\uC5C6\uB294 \uAE30\uBCF8 route\uB294 \uB4F1\uB85D\uD560 \uD544\uC694\uAC00 \uC5C6\uB2E4. (\uC608\uB97C \uB4E4\uBA74 \uB85C\uADF8\uC778 \uD398\uC774\uC9C0)\n\uBA3C\uC800 ",(0,r.jsx)(n.strong,{children:"routes/web.php"}),"\uC5D0\uC11C ",(0,r.jsx)(n.code,{children:"Auth::routes();"})," \uB97C \uC9C0\uC6CC\uC8FC\uACE0 \uB77C\uB77C\uBCA8 route \uD30C\uC77C\uC744 \uC5F4\uC5B4\uBCF4\uC790."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="vendor/laravel/Illuminate/Routing/Router.php"',children:"// 994 \uB77C\uC778\npublic function auth()\n{\n  // Authentication Routes...\n  $this->get('login', 'Auth\\LoginController@showLoginForm')->name('login');\n  $this->post('login', 'Auth\\LoginController@login');\n  $this->post('logout', 'Auth\\LoginController@logout')->name('logout');\n\n  // Registration Routes...\n  $this->get('register', 'Auth\\RegisterController@showRegistrationForm')->name('register');\n  $this->post('register', 'Auth\\RegisterController@register');\n\n  // Password Reset Routes...\n  $this->get('password/reset', 'Auth\\ForgotPasswordController@showLinkRequestForm')->name('password.request');\n  $this->post('password/email', 'Auth\\ForgotPasswordController@sendResetLinkEmail')->name('password.email');\n  $this->get('password/reset/{token}', 'Auth\\ResetPasswordController@showResetForm')->name('password.reset');\n  $this->post('password/reset', 'Auth\\ResetPasswordController@reset');\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uC785\uB9DB\uC5D0 \uB9DE\uAC8C web.php\uB85C \uAC00\uC838\uC640 \uC0AC\uC6A9\uD558\uC790."}),"\n",(0,r.jsx)(n.h3,{id:"notification-\uC608\uC678",children:"notification \uC608\uC678"}),"\n",(0,r.jsx)(n.p,{children:"Noticifation\uC740 \uC0AC\uC6A9\uC790\uC5D0\uAC8C \uBE60\uB974\uAC8C \uC54C\uB9BC\uC744 \uBCF4\uB0BC \uC218 \uC788\uB294 \uAE30\uB2A5\uC774\uC9C0\uB9CC, \uC815\uD574\uC838 \uC788\uB294 \uD15C\uD50C\uB9BF\uC744 \uC0AC\uC6A9\uD558\uBBC0\uB85C \uCEE4\uC2A4\uD130\uB9C8\uC774\uC9D5\uC774 \uB418\uAC8C \uD798\uB4E4\uB2E4.\n\uBE44\uBC00\uBC88\uD638 \uCC3E\uAE30\uC2DC\uC5D0 \uBCF4\uB0BC \uBA54\uC77C\uC744 \uC815\uD574\uC9C4 \uD15C\uD50C\uB9BF\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uB2E4\uBA74 \uBA54\uC18C\uB4DC\uB97C \uC218\uC815\uD558\uC790."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Models/Member.php"',children:"<?php\n// \uC774 \uBA54\uC18C\uB4DC\uB97C override\uD574\uC57C\uD55C\uB2E4.\n// \uCCAB \uD30C\uB77C\uBBF8\uD130\uB294 \uBE44\uBC00\uBC88\uD638 \uC778\uC99D\uC6A9 token\uC774 \uB4E4\uC5B4\uC628\uB2E4.\npublic function sendPasswordResetNotification($token) {\n  Mail::to($this->email)->send(new PasswordReset($token));\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"auth",children:"Auth"}),"\n",(0,r.jsx)(n.p,{children:"Basic Auth\uB97C \uC0AC\uC6A9\uD558\uB294\uB370 \uAC74\uB4DC\uB824\uC57C \uB418\uB294 \uACF3\uC774 \uB9CE\uC73C\uBBC0\uB85C Auth \uBAA8\uB4C8\uB9CC \uC0AC\uC6A9\uD558\uB294\uAC8C \uC815\uC2E0\uAC74\uAC15\uC5D0 \uC88B\uB2E4\uACE0 \uBCF8\uB2E4.\n(Bootstrap \uAE30\uBC18\uC758 Laravel\uC5D0 \uB531 \uB9DE\uB294 \uBAA8\uC591\uC744 \uC785\uC740 \uD504\uB85C\uC81D\uD2B8\uB77C\uBA74 \uAE30\uBCF8 \uC778\uC99D\uC774 \uC88B\uACA0\uC9C0\uB9CC)"}),"\n",(0,r.jsx)(n.h3,{id:"\uB85C\uADF8\uC778-1",children:"\uB85C\uADF8\uC778"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\uBA3C\uC800 \uC0AC\uC6A9\uD560 \uBAA8\uB378\uC5D0 Authenticatable \uD074\uB798\uC2A4\uB97C \uC0C1\uC18D \uBC1B\uC790"}),"\n\uADF8\uB9AC\uACE0 LoginController\uC5D0\uC11C ",(0,r.jsx)(n.strong,{children:"Auth::attempt()"})," \uBA54\uC18C\uB4DC\uB97C \uC2E4\uD589\uD558\uBA74 \uB05D\uC774\uB2E4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Http/Controllers/LoginController.php"',children:"public function login(Request $request) {\n  $password = $request->password;\n\n  if(Auth::attempt([ 'id' => $request->id, 'password' => $password ])){\n    return response(null, 200);\n\n  }else{\n    return abort(401);\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"not-bcrypt",children:"not bcrypt"}),"\n",(0,r.jsx)(n.p,{children:"Auth \uBAA8\uB4C8\uC740 \uAE30\uBCF8\uC73C\uB85C bcrypt\uB97C \uC0AC\uC6A9\uD574 \uBE44\uBC00\uBC88\uD638\uB97C \uC554\uD638\uD654\uD558\uACE0 \uBE44\uAD50\uD558\uB294\uB370 \uB2E4\uB978 \uC554\uD638\uD654 \uBC29\uC2DD\uC744 \uC0AC\uC6A9\uD574\uC57C\uD558\uB294 \uACBD\uC6B0\uAC00 \uC788\uB2E4.\nbcrypt\uB97C \uC0AC\uC6A9\uD558\uC9C0 \uC54A\uAC8C \uCC98\uB9AC\uD574\uBCF4\uC790."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Models/Member.php"',children:"// \uC774 \uBA54\uC18C\uB4DC\uB97C override \uD574\uC57C\uD55C\uB2E4.\npublic function getAuthPassword() {\n  // bcrypt \uBE44\uAD50\uB97C \uD558\uC9C0 \uC54A\uAE30 \uC704\uD574 \uAC15\uC81C\uB85C \uD574\uC2DC\uB97C \uC0DD\uC131\uD55C\uB2E4.\n  return Hash::make($this->password);\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\uC774\uC81C ",(0,r.jsx)(n.strong,{children:"Auth::attempt()"})," \uBA54\uC18C\uB4DC\uC5D0 \uD328\uC2A4\uC6CC\uB4DC\uB97C \uB118\uAE38 \uB54C \uC554\uD638\uD654\uB97C \uD574\uC8FC\uACE0 \uB118\uAE30\uBA74 \uB41C\uB2E4."]}),"\n",(0,r.jsx)(n.h3,{id:"n\uAC1C\uC758-\uC138\uC158",children:"N\uAC1C\uC758 \uC138\uC158"}),"\n",(0,r.jsx)(n.p,{children:"\uAD00\uB9AC\uC790\uC640 \uD68C\uC6D0\uC740 \uAC19\uC740 \uC138\uC158\uC744 \uC0AC\uC6A9\uD558\uBA74 \uC548 \uB41C\uB2E4. \uC138\uC158\uC744 \uBD84\uAE30\uD574\uBCF4\uC790."}),"\n",(0,r.jsx)(n.h4,{id:"\uBAA8\uB378-\uC0DD\uC131",children:"\uBAA8\uB378 \uC0DD\uC131"}),"\n",(0,r.jsx)(n.p,{children:"\uBA3C\uC800 \uBAA8\uB378\uC744 \uD558\uB098 \uB9CC\uB4E4\uACE0 Authenticatable \uD074\uB798\uC2A4\uB97C \uC0C1\uC18D\uBC1B\uB294\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Models/Admin.php"',children:"<?php\n\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\n\nclass Admin extends Authenticatable {\n  // \uC18D\uC131\uC740 \uD14C\uC774\uBE14\uC5D0 \uB9DE\uAC8C \uC54C\uC544\uC11C \uC815\uB9AC\uD558\uC790\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\uC124\uC815-\uCD94\uAC00",children:"\uC124\uC815 \uCD94\uAC00"}),"\n",(0,r.jsx)(n.p,{children:"\uB9CC\uB4E0 \uBAA8\uB378\uC744 Laravel Auth\uC5D0\uC11C \uC0AC\uC6A9\uD55C\uB2E4\uACE0 \uB4F1\uB85D\uC744 \uD574\uC918\uC57C\uD55C\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="config/auth.php"',children:"<?php\nreturn [\n  'guards' => [\n    ...\n    // \uC544\uB798\uC5D0 \uB4F1\uB85D\uB41C provider\uB97C admin\uC774\uB780 \uC774\uB984\uC758 guard\uB85C \uC0AC\uC6A9\n    'admin' => [\n      'driver'   => 'session',\n      'provider' => 'admin'\n    ]\n  ],\n  'providers' => [\n    ...\n    // \uBC29\uAE08 \uB9CC\uB4E0 \uBAA8\uB378\uC744 Auth\uC758 Provider\uB85C \uB4F1\uB85D\n    'admin' => [\n      'driver'   => 'eloquent',\n      'model' => App\\Models\\Admin::class\n    ]\n  ],\n];\n"})}),"\n",(0,r.jsx)(n.p,{children:"passowrds \uC18D\uC131\uC740 \uC81C\uACF5\uB418\uB294 password_resets \uAE30\uB2A5\uC744 \uC0AC\uC6A9\uD560 \uACBD\uC6B0\uC5D0\uB9CC \uCD94\uAC00\uD574\uC8FC\uBA74 \uB41C\uB2E4."}),"\n",(0,r.jsx)(n.h4,{id:"\uBBF8\uB4E4\uC6E8\uC5B4",children:"\uBBF8\uB4E4\uC6E8\uC5B4"}),"\n",(0,r.jsxs)(n.p,{children:["\uAD00\uB9AC\uC790 \uC138\uC158\uC774 \uC778\uC99D\uB41C \uC0AC\uB78C\uB9CC \uAD00\uB9AC\uC790 \uD398\uC774\uC9C0\uC5D0 \uC811\uADFC\uD560 \uC218 \uC788\uC5B4\uC57C\uD55C\uB2E4.\n",(0,r.jsxs)(n.strong,{children:["php artisan make",":middleware"," Admin"]})," \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD574 Admin Middleware\uB97C \uB9CC\uB4E4\uC790."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Http/Middleware/Admin.php"',children:"<?php\nuse Auth;\nuse Closure;\n\nclass Admin {\n\n  public function handle($request, Closure $next) {\n    // admin session\uC774 \uC788\uB294 \uACBD\uC6B0\uB9CC request\uB97C \uC9C4\uD589\uD55C\uB2E4.\n    if (Auth::guard('admin')->check()) {\n      return $next($request);\n    }\n\n    // \uC544\uB2D0\uACBD\uC6B0 \uAD00\uB9AC\uC790 \uB85C\uADF8\uC778 \uD398\uC774\uC9C0\uB85C \uB118\uAE34\uB2E4.\n    return redirect()->route('admin.login');\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uADF8\uB9AC\uACE0 Http Kernel\uC5D0 \uBC29\uAE08 \uB9CC\uB4E0 Admin Middleware\uB97C \uB77C\uC6B0\uD305\uC5D0\uC11C \uC0AC\uC6A9\uD560 \uC218 \uC788\uAC8C \uB4F1\uB85D\uD574\uC900\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Http/Kernel.php"',children:"<?php\n  ...\n  protected $routeMiddleware = [\n    'auth' => \\Illuminate\\Auth\\Middleware\\Authenticate::class,\n    'auth.basic' => \\Illuminate\\Auth\\Middleware\\AuthenticateWithBasicAuth::class,\n    'bindings' => \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class,\n    'can' => \\Illuminate\\Auth\\Middleware\\Authorize::class,\n    'guest' => \\App\\Http\\Middleware\\RedirectIfAuthenticated::class,\n    'throttle' => \\Illuminate\\Routing\\Middleware\\ThrottleRequests::class,\n    // admin \uC774\uB984\uC73C\uB85C Admin Middleware\uB97C \uD638\uCD9C\uD560 \uC218 \uC788\uAC8C \uB4F1\uB85D\n    'admin' => \\App\\Http\\Middleware\\Admin::class,\n  ];\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uC0C8\uB85C\uC6B4 \uB77C\uC6B0\uD305 \uD30C\uC77C\uB85C \uAD00\uB9AC\uD558\uAE30 \uC704\uD574 RouteServiceProvider\uC5D0 \uC124\uC815\uC744 \uCD94\uAC00\uD55C\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="app/Providers/RouteServiceProvider.php"',children:"<?php\n...\n  public function map() {\n    ...\n    $this->mapAdminRoutes();\n  }\n\n  protected function mapAdminRoutes() {\n    // /admin \uC73C\uB85C \uB4E4\uC5B4\uC624\uB294 \uC694\uCCAD\uC5D0 \uB300\uD574 \uCC98\uB9AC\uD55C\uB2E4.\n    Route::prefix('admin')\n    // \uC774\uB7F0\uC2DD\uC73C\uB85C \uD55C \uBC88\uC5D0 \uCD94\uAC00\uD560 \uC218\uB3C4 \uC788\uB2E4. \uD558\uC9C0\uB9CC except \uD568\uC218\uB97C \uC4F8 \uC218 \uC5C6\uB294 \uAC83 \uAC19\uACE0,\n    // \uB77C\uC6B0\uD305 \uD398\uC774\uC9C0\uC5D0\uC11C \uBBF8\uB4E4\uC6E8\uC5B4\uB97C \uB4F1\uB85D\uD574\uC8FC\uB294 \uAC8C \uB354 \uD3B8\uD588\uB2E4.\n    // ->middleware(['web', 'admin'])\n      ->middleware('web')\n      ->namespace($this->namespace)\n    // routes/admin.php \uD30C\uC77C\uC744 \uAD00\uB9AC\uC790 \uB77C\uC6B0\uD305 \uD30C\uC77C\uB85C \uB4F1\uB85D\uD55C\uB2E4.\n      ->group(base_path('routes/admin.php'));\n  }\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uB9C8\uC9C0\uB9C9\uC73C\uB85C \uB77C\uC6B0\uD305 \uD30C\uC77C\uC5D0 \uBBF8\uB4E4\uC6E8\uC5B4\uB97C \uB123\uC5B4\uC900\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="routes/admin.php"',children:"<?php\n// admin middleware\uB97C \uC0AC\uC6A9\uD558\uACE0, namespace\uC5D0 admin.\uC744 \uCD94\uAC00\uD55C\uB2E4.\nRoute::group(['middleware' => 'admin', 'as' => 'admin.'], function() {\n  // \uC774 \uB77C\uC6B0\uD305\uC740 route('admin.main') \uC73C\uB85C \uC811\uADFC\uC774 \uAC00\uB2A5\uD574\uC9C4\uB2E4.\n  Route::get('/', 'AdminController@index')->name('main');\n});\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\uD65C\uC6A9",children:"\uD65C\uC6A9"}),"\n",(0,r.jsx)(n.p,{children:"\uAE30\uC874 Auth \uBA54\uC18C\uB4DC\uB4E4\uC5D0 guard\uB9CC \uCD94\uAC00\uD574\uC8FC\uBA74 \uC27D\uAC8C \uC0AC\uC6A9 \uAC00\uB2A5\uD558\uB2E4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\nAuth::guard('admin')->attepmt();\nAuth::guard('admin')->check();\nAuth::guard('admin')->user();\nAuth::guard('admin')->logout();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uB85C\uADF8\uC544\uC6C3",children:"\uB85C\uADF8\uC544\uC6C3"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Auth::logout()"})," \uBA54\uC18C\uB4DC\uB97C \uD638\uCD9C\uD558\uBA74 \uB41C\uB2E4."]}),"\n",(0,r.jsx)(n.h2,{id:"\uC774\uC288",children:"\uC774\uC288"}),"\n",(0,r.jsx)(n.h3,{id:"\uC138\uC158-\uC544\uC774\uB514",children:"\uC138\uC158 \uC544\uC774\uB514"}),"\n",(0,r.jsx)(n.p,{children:"\uB77C\uB77C\uBCA8\uC5D0\uC120 \uB85C\uADF8\uC778\uC744 \uD560 \uB54C \uC138\uC158\uC544\uC774\uB514\uB97C \uC0C8\uB85C\uC6B4 \uAC12\uC73C\uB85C \uC5CE\uC5B4\uCCD0\uBC84\uB9B0\uB2E4.\n\uB530\uB77C\uC11C \uAC19\uC740 \uD658\uACBD\uC5D0\uC11C \uC811\uADFC\uD588\uB294\uB370, \uB85C\uADF8\uC778\uC744 \uD558\uBA74 \uB2E4\uB978 \uC0AC\uC6A9\uC790\uAC00 \uB418\uB294 \uACBD\uC6B0\uAC00 \uC0DD\uAE34\uB2E4.\n(\uB85C\uADF8\uC544\uC6C3\uC2DC\uC5D0\uB294 \uADF8\uB300\uB85C\uB2E4.)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n// \uB85C\uADF8\uC778 \uC804\uC5D0 \uC138\uC158\uC544\uC774\uB514\uB97C \uAC00\uC838\uC640\n$old_session_id = Session::getId();\n// \uB85C\uADF8\uC778\uC774 \uC131\uACF5\uD558\uBA74 DB\uC5D0\uC11C \uB4F1\uB85D\uB41C \uC138\uC158\uAC12\uC744 \uC5C5\uB370\uC774\uD2B8\uD558\uC790.\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\uC18C\uC15C-\uB85C\uADF8\uC778",children:"\uC18C\uC15C \uB85C\uADF8\uC778"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"laravel/socialite"})," \uD328\uD0A4\uC9C0\uB97C \uC124\uCE58\uD558\uACE0 \uC544\uC8FC \uC27D\uAC8C \uC5F0\uB3D9\uC774 \uAC00\uB2A5\uD558\uB2E4."]}),"\n",(0,r.jsx)(n.h3,{id:"\uC138\uD305",children:"\uC138\uD305"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"composer require laravel/socialite\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\uAE30\uBCF8 socialite \uD328\uD0A4\uC9C0\uB294 ",(0,r.jsx)(n.code,{children:"facebook"}),", ",(0,r.jsx)(n.code,{children:"twitter"}),", ",(0,r.jsx)(n.code,{children:"linkedin"}),", ",(0,r.jsx)(n.code,{children:"google"}),", ",(0,r.jsx)(n.code,{children:"github"})," or ",(0,r.jsx)(n.code,{children:"bitbucket"})," \uB9CC \uC5F0\uB3D9\uC774 \uAC00\uB2A5\uD558\uBBC0\uB85C \uB2E4\uB978 \uC18C\uC15C \uB85C\uADF8\uC778\uC744 \uC5F0\uB3D9\uD558\uACE0 \uC2F6\uC744 \uACBD\uC6B0 ",(0,r.jsx)(n.a,{href:"https://socialiteproviders.github.io/",children:(0,r.jsx)(n.code,{children:"Socialite Providers"})})," \uD328\uD0A4\uC9C0\uB97C \uC0AC\uC6A9\uD558\uBA74 \uB41C\uB2E4."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Socialite Providers \uC0AC\uC774\uD2B8\uC5D0\uB294 Naver, Kakao, BattleNet(?) \uB4F1\uC758 \uC18C\uC15C \uC5F0\uB3D9\uC774 \uAC00\uB2A5\uD55C \uD328\uD0A4\uC9C0\uAC00 \uBB34\uC218\uD788 \uB9CE\uB2E4."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\uC5EC\uB2F4",children:"\uC5EC\uB2F4"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/2017/11/03/Laravel-5-5-JWT-Auth-Guide",children:"JWT \uC778\uC99D"}),"\uACFC \uAC19\uC774\uBCF8\uB2E4\uBA74 Laravel\uC744 \uC0AC\uC6A9\uD55C \uC2E4\uBB34\uC5D0\uC11C \uD544\uC694\uD55C \uC778\uC99D\uC740 \uB2E4 \uB9C8\uBB34\uB9AC\uD55C \uC148\uC77C \uB4EF"]})]})}function p(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},56774:function(e,n,t){t.d(n,{Z:()=>a,a:()=>l});var i=t(52136);let r={},s=i.createContext(r);function l(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},89010:function(e){e.exports=JSON.parse('{"permalink":"/2017/07/09/Laravel-5-4-Login-with-Auth","source":"@site/blog/2017/07/09/Laravel-5-4-Login-with-Auth.md","title":"Laravel 5.5 - \uB85C\uADF8\uC778(Auth) \uBD99\uD788\uAE30","description":"\uC774\uC804 \uD3EC\uC2A4\uD305\uC5D0\uC11C \uB370\uC774\uD130\uB97C \uAC00\uC838\uC654\uC73C\uB2C8, \uB85C\uADF8\uC778\uC744 \uAD6C\uD604\uD574\uBCF4\uC790.","date":"2017-07-09T22:46:57.000Z","tags":[{"inline":true,"label":"php","permalink":"/tags/php"},{"inline":true,"label":"laravel","permalink":"/tags/laravel"}],"readingTime":6.03,"hasTruncateMarker":false,"authors":[{"name":"Eunkwang Shin","title":"Owner","url":"https://github.com/gracefullight","socials":{"linkedin":"https://www.linkedin.com/in/gracefullight/","github":"https://github.com/gracefullight"},"description":"Full Stack JavaScript Developer | Half-time Open Sourcerer.","page":{"permalink":"/authors/me"},"imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me"}],"frontMatter":{"title":"Laravel 5.5 - \uB85C\uADF8\uC778(Auth) \uBD99\uD788\uAE30","authors":"me","tags":["php","laravel"],"date":"2017-07-09T22:46:57.000Z"},"unlisted":false,"prevItem":{"title":"unpkg cdn \uC0AC\uC6A9\uD558\uAE30 (jsdelivr)","permalink":"/2017/07/16/unpkg-cdn"},"nextItem":{"title":"PHP 7.1\uC5D0\uC11C mcrypt \uB300\uCCB4\uD558\uAE30","permalink":"/2017/07/07/PHP-7-1\uC5D0\uC11C-mcrypt-\uB300\uCCB4\uD558\uAE30"}}')}}]);