"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[69849],{43973:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var a=l(34476),i=l(86070),s=l(81699);const t={title:"mysql, maria \ub4f1\uc758 \uc11c\ube44\uc2a4 \ud3ec\ud2b8 \ubcc0\uacbd\uc774 \uc548 \ub420\ub54c",authors:"me",tags:["linux","selinux","mysql","mariadb"],date:new Date("2017-01-10T23:01:42.000Z")},r=void 0,c={authorsImageUrls:[void 0]},d=[{value:"\uc77c\ubc18\uc801\uc778 \ud3ec\ud2b8 \ubcc0\uacbd",id:"\uc77c\ubc18\uc801\uc778-\ud3ec\ud2b8-\ubcc0\uacbd",level:2},{value:"\ud3ec\ud2b8 \ud655\uc778",id:"\ud3ec\ud2b8-\ud655\uc778",level:3},{value:"iptable \uc218\uc815",id:"iptable-\uc218\uc815",level:3},{value:"database \ud3ec\ud2b8 \ubcc0\uacbd",id:"database-\ud3ec\ud2b8-\ubcc0\uacbd",level:3},{value:"\uc11c\ube44\uc2a4 \uc7ac\uc2dc\uc791",id:"\uc11c\ube44\uc2a4-\uc7ac\uc2dc\uc791",level:3},{value:"\uc6d0\uc778",id:"\uc6d0\uc778",level:2},{value:"\ub85c\uadf8 \ud655\uc778",id:"\ub85c\uadf8-\ud655\uc778",level:3},{value:"SELinux \ud655\uc778",id:"selinux-\ud655\uc778",level:3},{value:"\ud574\uacb0",id:"\ud574\uacb0",level:2},{value:"SELinux \uc124\uc815 \ud655\uc778",id:"selinux-\uc124\uc815-\ud655\uc778",level:3},{value:"SELinux\uc5d0 \ud3ec\ud2b8 \ub4f1\ub85d",id:"selinux\uc5d0-\ud3ec\ud2b8-\ub4f1\ub85d",level:3},{value:"\ud655\uc778",id:"\ud655\uc778",level:3},{value:"\uc5ec\ub2f4",id:"\uc5ec\ub2f4",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"\uc77c\ubc18\uc801\uc778-\ud3ec\ud2b8-\ubcc0\uacbd",children:"\uc77c\ubc18\uc801\uc778 \ud3ec\ud2b8 \ubcc0\uacbd"}),"\n",(0,i.jsx)(n.h3,{id:"\ud3ec\ud2b8-\ud655\uc778",children:"\ud3ec\ud2b8 \ud655\uc778"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"## grep \ub4a4\uc5d0 \ud655\uc778\ud560 \ud3ec\ud2b8\ub97c \uc801\uc73c\uba74 \ub41c\ub2e4.\n$ netstat -lp | grep 3307\n"})}),"\n",(0,i.jsx)(n.h3,{id:"iptable-\uc218\uc815",children:"iptable \uc218\uc815"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ vi /etc/sysconfig/iptables\n\n## \ud574\ub2f9 \ud3ec\ud2b8\ub97c \ubc29\ud654\ubcbd\uc5d0\uc11c \uc5f4\uc5b4\uc900\ub2e4.\n-A INPUT -p tcp -m state --state NEW -m tcp --dport 3307 -j ACCEPT\n"})}),"\n",(0,i.jsx)(n.h3,{id:"database-\ud3ec\ud2b8-\ubcc0\uacbd",children:"database \ud3ec\ud2b8 \ubcc0\uacbd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ vi /etc/my.cnf\n\n## \ud3ec\ud2b8\uac00 \uc124\uc815\ub418\uc788\ub294 \ubd80\ubd84\uc744 \ucc3e\uc544 \ubcc0\uacbd\ud55c\ub2e4.\nport = 3307\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\uc11c\ube44\uc2a4-\uc7ac\uc2dc\uc791",children:"\uc11c\ube44\uc2a4 \uc7ac\uc2dc\uc791"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"service mysql restart\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\uc798 \ud588\ub294\ub370 \uc11c\ube44\uc2a4\uac00 \uc62c\ub77c\uac00\uc9c0 \uc54a\ub294\ub2e4!!!"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\uc6d0\uc778",children:"\uc6d0\uc778"}),"\n",(0,i.jsx)(n.h3,{id:"\ub85c\uadf8-\ud655\uc778",children:"\ub85c\uadf8 \ud655\uc778"}),"\n",(0,i.jsx)(n.p,{children:"mysql \uc124\uce58 \uacbd\ub85c\ub85c \uc774\ub3d9\ud558\uc5ec \ub85c\uadf8\ub97c \uc0b4\ud3b4\ubcf4\uc790."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ cd /var/lib/mysql/ # basedir \uc124\uc815\uc774 \ub418\uc5b4\uc788\ub2e4\uba74 \ud574\ub2f9\uacbd\ub85c\ub97c \ub367\ubd99\ud78c\ub2e4.\n\n$ cat {hostname}.err\n\n[ERROR] Cant start server: Bind on TCP/IP port. Got error: 13: Permission denied\n[ERROR] Do you already have another mysqld server running on port: 3307 ?\n[ERROR] Aborting\n"})}),"\n",(0,i.jsx)(n.p,{children:"\ud574\ub2f9 \ud3ec\ud2b8\uc5d0 \uad8c\ud55c\uc774 \uc5c6\ub2e4. \ud574\ub2f9 \ud3ec\ud2b8\ub97c \ub2e4\ub978 mysqld \uc11c\ube44\uc2a4\uac00 \uc0ac\uc6a9\ud558\ub294\uac00? \ub77c\uace0 \ub85c\uadf8\uac00 \ub0a8\uaca8\uc838\uc788\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"selinux-\ud655\uc778",children:"SELinux \ud655\uc778"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ sestatus\n\nSELinux status: enabled\n"})}),"\n",(0,i.jsx)(n.p,{children:"\ud639\uc2dc\ub098 \uc5ed\uc2dc\ub098 SELinux\uac00 \ud65c\uc131\ud654 \ub418\uc5b4\uc788\ub2e4.\nSELinux\uc5d0\uc11c \ud3ec\ud2b8\uac00 \uc11c\ube44\uc2a4\uc6a9\uc73c\ub85c \ud65c\uc131\ud654\uac00 \ub418\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc5d0 \uacc4\uc18d \uac70\uc808\ub2f9\ud55c \uac83\uc774\uc600\ub2e4."}),"\n",(0,i.jsx)(n.h2,{id:"\ud574\uacb0",children:"\ud574\uacb0"}),"\n",(0,i.jsx)(n.h3,{id:"selinux-\uc124\uc815-\ud655\uc778",children:"SELinux \uc124\uc815 \ud655\uc778"}),"\n",(0,i.jsx)(n.p,{children:"semanage \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud574\uc11c \ud655\uc778\ud558\uace0 \ubcc0\uacbd\ud560 \uc218 \uc788\ub2e4.\n\uba85\ub839\uc5b4 \uc2e4\ud589\uc774 \uc548\ub420 \uacbd\uc6b0 policycoreutils-python \ud328\ud0a4\uc9c0\ub97c \uc124\uce58\ud574\uc8fc\uba74 \ub41c\ub2e4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"## semanage \uc124\uce58\n$ yum install -y policycoreutils-python\n\n## \ud3ec\ud2b8 \ud655\uc778\n## mysql\n$ semanage port -l | grep mysqld_port_t\n## http\n$ semanage port -l | grep http_port_t\n\nmysqld_port_t tcp 1186, 3306, 63132-63164\n"})}),"\n",(0,i.jsx)(n.p,{children:"\ubcc0\uacbd\ud558\ub824\ub294 3307 \ud3ec\ud2b8\ub294 \ub4f1\ub85d\ub418\uc5b4 \uc788\uc9c0 \uc54a\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"selinux\uc5d0-\ud3ec\ud2b8-\ub4f1\ub85d",children:"SELinux\uc5d0 \ud3ec\ud2b8 \ub4f1\ub85d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"semanage port -a -t mysqld_port_t -p tcp 3307\n"})}),"\n",(0,i.jsx)(n.p,{children:"\uba85\ub839\uc5b4\uac00 iptables\uc5d0 \ub4f1\ub85d\ud558\ub294 \uac83\uacfc \uc720\uc0ac\ud558\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"\ud655\uc778",children:"\ud655\uc778"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ semanage port -l | grep mysqld_port_t\n\nmysqld_port_t tcp 3307, 1186, 3306, 63132-63164\n"})}),"\n",(0,i.jsx)(n.p,{children:"\uc774\uc81c mysql restart\ub97c \ud558\uba74 \uc815\uc0c1\uc801\uc73c\ub85c \uad6c\ub3d9\ub41c\ub2e4."}),"\n",(0,i.jsx)(n.h2,{id:"\uc5ec\ub2f4",children:"\uc5ec\ub2f4"}),"\n",(0,i.jsx)(n.p,{children:"\ub9ac\ub205\uc2a4\uc5d0\uc11c \uc815\uc0c1\uc801\uc73c\ub85c \uc9c4\ud589\ud588\ub294\ub370 \ubb54\uac00 \uc548\ub41c\ub2e4\uba74 SELinux\ubd80\ud130 \uc758\uc2ec\ud574\ubcf4\uc790."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},81699:(e,n,l)=>{l.d(n,{R:()=>t,x:()=>r});var a=l(30758);const i={},s=a.createContext(i);function t(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),a.createElement(s.Provider,{value:n},e.children)}},34476:e=>{e.exports=JSON.parse('{"permalink":"/2017/01/10/mysql-maria-\ub4f1\uc758-\uc11c\ube44\uc2a4-\ud3ec\ud2b8-\ubcc0\uacbd\uc774-\uc548-\ub420\ub54c","source":"@site/blog/2017/01/10/mysql-maria-\ub4f1\uc758-\uc11c\ube44\uc2a4-\ud3ec\ud2b8-\ubcc0\uacbd\uc774-\uc548-\ub420\ub54c.md","title":"mysql, maria \ub4f1\uc758 \uc11c\ube44\uc2a4 \ud3ec\ud2b8 \ubcc0\uacbd\uc774 \uc548 \ub420\ub54c","description":"\uc77c\ubc18\uc801\uc778 \ud3ec\ud2b8 \ubcc0\uacbd","date":"2017-01-10T23:01:42.000Z","tags":[{"inline":true,"label":"linux","permalink":"/tags/linux"},{"inline":true,"label":"selinux","permalink":"/tags/selinux"},{"inline":true,"label":"mysql","permalink":"/tags/mysql"},{"inline":true,"label":"mariadb","permalink":"/tags/mariadb"}],"readingTime":2.52,"hasTruncateMarker":false,"authors":[{"name":"Eunkwang Shin","title":"Owner","url":"https://github.com/gracefullight","socials":{"linkedin":"https://www.linkedin.com/in/gracefullight/","github":"https://github.com/gracefullight"},"description":"Full Stack JavaScript Developer | Half-time Open Sourcerer.","page":{"permalink":"/authors/me"},"imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me"}],"frontMatter":{"title":"mysql, maria \ub4f1\uc758 \uc11c\ube44\uc2a4 \ud3ec\ud2b8 \ubcc0\uacbd\uc774 \uc548 \ub420\ub54c","authors":"me","tags":["linux","selinux","mysql","mariadb"],"date":"2017-01-10T23:01:42.000Z"},"unlisted":false,"prevItem":{"title":"\ub0b4\ubd80 \uc544\uc774\ud53c \uc0ac\uc6a9 \ub610\ub294 \uc218\ub3d9 \ub124\ud2b8\uc6cc\ud06c \uc124\uc815\uc2dc \uc624\ub958","permalink":"/2017/01/11/\ub0b4\ubd80-\uc544\uc774\ud53c-\uc0ac\uc6a9-\ub610\ub294-\uc218\ub3d9-\ub124\ud2b8\uc6cc\ud06c-\uc124\uc815\uc2dc-\uc624\ub958"},"nextItem":{"title":"Temporary failure in name resolution, \uc77c\uc2dc\uc801\uc778 \uc2e4\ud328","permalink":"/2017/01/10/Temporary-failure-in-name-resolution-\uc77c\uc2dc\uc801\uc778-\uc2e4\ud328"}}')}}]);