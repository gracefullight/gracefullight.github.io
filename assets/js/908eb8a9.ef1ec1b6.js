"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["68626"],{41478(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>o,frontMatter:()=>l,metadata:()=>i,toc:()=>a});var i=t(72301),r=t(74848),s=t(28453);let l={title:"nodejs triple des \uC554\uD638\uD654",authors:"me",tags:["nodejs","javascript","crypto"],date:new Date("2019-05-12T20:29:20.000Z")},c,d={authorsImageUrls:[void 0]},a=[{value:"\uC554\uD638\uD654",id:"\uC554\uD638\uD654",level:2},{value:"\uC18C\uC2A4",id:"\uC18C\uC2A4",level:2},{value:"\uC0AC\uC6A9\uBC95",id:"\uC0AC\uC6A9\uBC95",level:2},{value:"\uCC38\uC870",id:"\uCC38\uC870",level:2}];function p(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"triple des \uC54C\uACE0\uB9AC\uC998\uC73C\uB85C \uC554\uD638\uD654\uD558\uB294 \uC77C\uC740 \uC694\uC0C8\uB294 \uB4DC\uBB38\uB370, \uB4DC\uBB3C\uC5B4\uC11C \uADF8\uB7F0\uC9C0 \uAD6C\uAE00\uB9C1\uD574\uB3C4 \uC544\uBB34 \uAC83\uB3C4 \uB098\uC624\uC9C0 \uC54A\uC558\uB2E4."}),"\n",(0,r.jsxs)(n.p,{children:["\uB808\uAC70\uC2DC \uC5B8\uC5B4\uB4E4\uC5D0\uB294 ",(0,r.jsx)(n.strong,{children:"3des"})," \uC554\uD638\uD654\uB41C \uB85C\uC9C1\uC774 \uB9CE\uC740\uB370, \uD3EC\uD305\uD558\uBA74\uC11C \uAC1C\uBC1C\uD574\uC57C\uB420 \uD544\uC694\uC131\uC774 \uC0DD\uACBC\uB2E4."]}),"\n",(0,r.jsx)(n.h2,{id:"\uC554\uD638\uD654",children:"\uC554\uD638\uD654"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"nodejs \uC758 \uC554\uD638\uD654 \uD328\uD0A4\uC9C0\uB294 crypto \uC548\uC5D0 \uB4E4\uC5B4\uC788\uB2E4."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"crypto.getCiphers();"})," \uBA54\uC18C\uB4DC\uB85C \uC0AC\uC6A9\uD560 \uC218 \uC788\uB294 \uC54C\uACE0\uB9AC\uC998\uC744 \uD655\uC778\uD560 \uC218 \uC788\uB2E4.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ciphers.filter(cipher => cipher.includes('des'));"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["3des \uC54C\uACE0\uB9AC\uC998\uC740 ",(0,r.jsx)(n.code,{children:"des-ede3"})," \uB85C \uC2DC\uC791\uD55C\uB2E4."]}),"\n",(0,r.jsx)(n.li,{children:"\uD0A4\uB294 24bytes \uC774\uBA70, iv \uB294 8bytes \uB2E4."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\uC18C\uC2A4",children:"\uC18C\uC2A4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'import crypto from "node:crypto";\n\nclass TripleDes {\n  // #iv;\n  // #key;\n\n  constructor(key, iv) {\n    this.key = key;\n    this.iv = iv;\n  }\n\n  getKey() {\n    return this.key.padEnd(24, String.fromCharCode(0));\n  }\n\n  getIv() {\n    return this.iv;\n  }\n\n  encrypt(plain, iv) {\n    if (!iv) {\n      iv = this.iv ? Buffer.from(this.iv, "hex") : crypto.randomBytes(8);\n    }\n\n    const cipher3des = crypto.createCipheriv(\n      "des-ede3-cfb8",\n      this.getKey(),\n      iv,\n    );\n    let encrypted = cipher3des.update(plain, "utf8", "hex");\n    encrypted += cipher3des.final("hex");\n\n    this.iv = iv.toString("hex");\n    return encrypted;\n  }\n\n  decrypt(encrypted, iv) {\n    if (!iv) {\n      iv = this.iv;\n    }\n\n    const decipher3des = crypto.createDecipheriv(\n      "des-ede3-cfb8",\n      this.getKey(),\n      Buffer.from(iv, "hex"),\n    );\n    let decrypted = decipher3des.update(encrypted, "hex", "utf8");\n    decrypted += decipher3des.final("utf8");\n\n    return decrypted;\n  }\n}\n\nmodule.exports = TripleDes;\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\uC704\uC758 ",(0,r.jsx)(n.code,{children:"encrypt"})," \uBA54\uC18C\uB4DC\uB294 \uC544\uB798\uCC98\uB7FC \uBC84\uD37C\uB97C \uD569\uCE5C \uD6C4\uC5D0 \uD5E5\uC2A4\uB85C \uBC14\uAFB8\uB294 \uAC83\uACFC \uB3D9\uC77C\uD558\uB2E4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'let encrypted = Buffer.concat([\n  cipher3des.update(plain, "utf8"),\n  cipher3des.final("utf8"),\n]);\n\nencrypted = encrypted.toString("hex");\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\uC0AC\uC6A9\uBC95",children:"\uC0AC\uC6A9\uBC95"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'const TripleDes = require("./TripleDes");\n\nconst tripleDes = new TripleDes("encryptionKey");\n// \uC554\uD638\uD654\nconst encrypted = tripleDes.encrypt("yummy");\n// \uBCF5\uD638\uD654\nconst decrypted = tripleDes.decrypt(encrypted);\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\uCC38\uC870",children:"\uCC38\uC870"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://nodejs.org/api/crypto.html",children:"nodejs.crypto"})}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453(e,n,t){t.d(n,{R:()=>l,x:()=>c});var i=t(96540);let r={},s=i.createContext(r);function l(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},72301(e){e.exports=JSON.parse('{"permalink":"/2019/05/12/nodejs-triple-des-encryption","source":"@site/blog/2019/05/12/nodejs-triple-des-encryption.md","title":"nodejs triple des \uC554\uD638\uD654","description":"triple des \uC54C\uACE0\uB9AC\uC998\uC73C\uB85C \uC554\uD638\uD654\uD558\uB294 \uC77C\uC740 \uC694\uC0C8\uB294 \uB4DC\uBB38\uB370, \uB4DC\uBB3C\uC5B4\uC11C \uADF8\uB7F0\uC9C0 \uAD6C\uAE00\uB9C1\uD574\uB3C4 \uC544\uBB34 \uAC83\uB3C4 \uB098\uC624\uC9C0 \uC54A\uC558\uB2E4.","date":"2019-05-12T20:29:20.000Z","tags":[{"inline":true,"label":"nodejs","permalink":"/tags/nodejs"},{"inline":false,"label":"javascript","permalink":"/tags/javascript","description":"Any application that can be written in JavaScript, will eventually be written in JavaScript"},{"inline":true,"label":"crypto","permalink":"/tags/crypto"}],"readingTime":0.99,"hasTruncateMarker":false,"authors":[{"name":"Eunkwang Shin","title":"Owner","url":"https://github.com/gracefullight","socials":{"linkedin":"https://www.linkedin.com/in/gracefullight/","github":"https://github.com/gracefullight","email":"mailto:gracefullight.dev@gmail.com"},"description":"Full Stack JavaScript Developer | Half-time Open Sourcerer.","page":{"permalink":"/authors/me"},"imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me"}],"frontMatter":{"title":"nodejs triple des \uC554\uD638\uD654","authors":"me","tags":["nodejs","javascript","crypto"],"date":"2019-05-12T20:29:20.000Z"},"unlisted":false,"prevItem":{"title":"Mac\uC5D0\uC11C lsd \uC124\uCE58\uD558\uAE30 (ls \uBA85\uB839\uC5B4 \uAFB8\uBBF8\uAE30)","permalink":"/2019/05/27/install-lsd-on-mac"},"nextItem":{"title":"DEV \uB3C4\uBA54\uC778\uACFC Github Pages \uC5F0\uACB0\uD558\uAE30","permalink":"/2019/05/07/connecting-a-DEV-domain-to-github-pages"}}')}}]);