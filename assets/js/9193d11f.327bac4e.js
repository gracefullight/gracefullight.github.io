"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[21418],{49613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var a=n(59496);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),p=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(o.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=r,g=m["".concat(o,".").concat(d)]||m[d]||c[d]||l;return n?a.createElement(g,i(i({ref:t},u),{},{components:n})):a.createElement(g,i({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[m]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},60162:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var a=n(31966),r=(n(59496),n(49613));const l={title:"mysql, maria \ub4f1\uc758 \uc11c\ube44\uc2a4 \ud3ec\ud2b8 \ubcc0\uacbd\uc774 \uc548 \ub420\ub54c",authors:"me",tags:["linux","selinux","mysql","mariadb"],date:new Date("2017-01-10T23:01:42.000Z")},i="\uc77c\ubc18\uc801\uc778 \ud3ec\ud2b8 \ubcc0\uacbd",s={permalink:"/2017/01/10/mysql-maria-\ub4f1\uc758-\uc11c\ube44\uc2a4-\ud3ec\ud2b8-\ubcc0\uacbd\uc774-\uc548-\ub420\ub54c",source:"@site/blog/2017/01/10/mysql-maria-\ub4f1\uc758-\uc11c\ube44\uc2a4-\ud3ec\ud2b8-\ubcc0\uacbd\uc774-\uc548-\ub420\ub54c.md",title:"mysql, maria \ub4f1\uc758 \uc11c\ube44\uc2a4 \ud3ec\ud2b8 \ubcc0\uacbd\uc774 \uc548 \ub420\ub54c",description:"\ud3ec\ud2b8 \ud655\uc778",date:"2017-01-10T23:01:42.000Z",formattedDate:"2017\ub144 1\uc6d4 10\uc77c",tags:[{label:"linux",permalink:"/tags/linux"},{label:"selinux",permalink:"/tags/selinux"},{label:"mysql",permalink:"/tags/mysql"},{label:"mariadb",permalink:"/tags/mariadb"}],readingTime:2.49,hasTruncateMarker:!1,authors:[{name:"Gracefullight",title:"Owner",url:"https://github.com/gracefullight",imageURL:"https://avatars.githubusercontent.com/u/11773683?v=4",key:"me"}],frontMatter:{title:"mysql, maria \ub4f1\uc758 \uc11c\ube44\uc2a4 \ud3ec\ud2b8 \ubcc0\uacbd\uc774 \uc548 \ub420\ub54c",authors:"me",tags:["linux","selinux","mysql","mariadb"],date:"2017-01-10T23:01:42.000Z"},prevItem:{title:"\ub0b4\ubd80 \uc544\uc774\ud53c \uc0ac\uc6a9 \ub610\ub294 \uc218\ub3d9 \ub124\ud2b8\uc6cc\ud06c \uc124\uc815\uc2dc \uc624\ub958",permalink:"/2017/01/11/\ub0b4\ubd80-\uc544\uc774\ud53c-\uc0ac\uc6a9-\ub610\ub294-\uc218\ub3d9-\ub124\ud2b8\uc6cc\ud06c-\uc124\uc815\uc2dc-\uc624\ub958"},nextItem:{title:"Temporary failure in name resolution, \uc77c\uc2dc\uc801\uc778 \uc2e4\ud328",permalink:"/2017/01/10/Temporary-failure-in-name-resolution-\uc77c\uc2dc\uc801\uc778-\uc2e4\ud328"}},o={authorsImageUrls:[void 0]},p=[{value:"\ud3ec\ud2b8 \ud655\uc778",id:"\ud3ec\ud2b8-\ud655\uc778",level:2},{value:"iptable \uc218\uc815",id:"iptable-\uc218\uc815",level:2},{value:"database \ud3ec\ud2b8 \ubcc0\uacbd",id:"database-\ud3ec\ud2b8-\ubcc0\uacbd",level:2},{value:"\uc11c\ube44\uc2a4 \uc7ac\uc2dc\uc791",id:"\uc11c\ube44\uc2a4-\uc7ac\uc2dc\uc791",level:2},{value:"\ub85c\uadf8 \ud655\uc778",id:"\ub85c\uadf8-\ud655\uc778",level:2},{value:"SELinux \ud655\uc778",id:"selinux-\ud655\uc778",level:2},{value:"SELinux \uc124\uc815 \ud655\uc778",id:"selinux-\uc124\uc815-\ud655\uc778",level:2},{value:"SELinux\uc5d0 \ud3ec\ud2b8 \ub4f1\ub85d",id:"selinux\uc5d0-\ud3ec\ud2b8-\ub4f1\ub85d",level:2},{value:"\ud655\uc778",id:"\ud655\uc778",level:2}],u={toc:p},m="wrapper";function c(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\ud3ec\ud2b8-\ud655\uc778"},"\ud3ec\ud2b8 \ud655\uc778"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# grep \ub4a4\uc5d0 \ud655\uc778\ud560 \ud3ec\ud2b8\ub97c \uc801\uc73c\uba74 \ub41c\ub2e4.\n$ netstat -lp | grep 3307\n")),(0,r.kt)("h2",{id:"iptable-\uc218\uc815"},"iptable \uc218\uc815"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ vi /etc/sysconfig/iptables\n\n# \ud574\ub2f9 \ud3ec\ud2b8\ub97c \ubc29\ud654\ubcbd\uc5d0\uc11c \uc5f4\uc5b4\uc900\ub2e4.\n-A INPUT -p tcp -m state --state NEW -m tcp --dport 3307 -j ACCEPT\n")),(0,r.kt)("h2",{id:"database-\ud3ec\ud2b8-\ubcc0\uacbd"},"database \ud3ec\ud2b8 \ubcc0\uacbd"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ vi /etc/my.cnf\n\n# \ud3ec\ud2b8\uac00 \uc124\uc815\ub418\uc788\ub294 \ubd80\ubd84\uc744 \ucc3e\uc544 \ubcc0\uacbd\ud55c\ub2e4.\nport = 3307\n")),(0,r.kt)("h2",{id:"\uc11c\ube44\uc2a4-\uc7ac\uc2dc\uc791"},"\uc11c\ube44\uc2a4 \uc7ac\uc2dc\uc791"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ service mysql restart\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\uc798 \ud588\ub294\ub370 \uc11c\ube44\uc2a4\uac00 \uc62c\ub77c\uac00\uc9c0 \uc54a\ub294\ub2e4!!!")),(0,r.kt)("h1",{id:"\uc6d0\uc778"},"\uc6d0\uc778"),(0,r.kt)("h2",{id:"\ub85c\uadf8-\ud655\uc778"},"\ub85c\uadf8 \ud655\uc778"),(0,r.kt)("p",null,"mysql \uc124\uce58 \uacbd\ub85c\ub85c \uc774\ub3d9\ud558\uc5ec \ub85c\uadf8\ub97c \uc0b4\ud3b4\ubcf4\uc790."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ cd /var/lib/mysql/ # basedir \uc124\uc815\uc774 \ub418\uc5b4\uc788\ub2e4\uba74 \ud574\ub2f9\uacbd\ub85c\ub97c \ub367\ubd99\ud78c\ub2e4.\n\n$ cat {hostname}.err\n\n[ERROR] Cant start server: Bind on TCP/IP port. Got error: 13: Permission denied\n[ERROR] Do you already have another mysqld server running on port: 3307 ?\n[ERROR] Aborting\n")),(0,r.kt)("p",null,"\ud574\ub2f9 \ud3ec\ud2b8\uc5d0 \uad8c\ud55c\uc774 \uc5c6\ub2e4. \ud574\ub2f9 \ud3ec\ud2b8\ub97c \ub2e4\ub978 mysqld \uc11c\ube44\uc2a4\uac00 \uc0ac\uc6a9\ud558\ub294\uac00? \ub77c\uace0 \ub85c\uadf8\uac00 \ub0a8\uaca8\uc838\uc788\ub2e4."),(0,r.kt)("h2",{id:"selinux-\ud655\uc778"},"SELinux \ud655\uc778"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ sestatus\n\nSELinux status: enabled\n")),(0,r.kt)("p",null,"\ud639\uc2dc\ub098 \uc5ed\uc2dc\ub098 SELinux\uac00 \ud65c\uc131\ud654 \ub418\uc5b4\uc788\ub2e4.\nSELinux\uc5d0\uc11c \ud3ec\ud2b8\uac00 \uc11c\ube44\uc2a4\uc6a9\uc73c\ub85c \ud65c\uc131\ud654\uac00 \ub418\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc5d0 \uacc4\uc18d \uac70\uc808\ub2f9\ud55c \uac83\uc774\uc600\ub2e4."),(0,r.kt)("h1",{id:"\ud574\uacb0"},"\ud574\uacb0"),(0,r.kt)("h2",{id:"selinux-\uc124\uc815-\ud655\uc778"},"SELinux \uc124\uc815 \ud655\uc778"),(0,r.kt)("p",null,"semanage \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud574\uc11c \ud655\uc778\ud558\uace0 \ubcc0\uacbd\ud560 \uc218 \uc788\ub2e4.\n\uba85\ub839\uc5b4 \uc2e4\ud589\uc774 \uc548\ub420 \uacbd\uc6b0 policycoreutils-python \ud328\ud0a4\uc9c0\ub97c \uc124\uce58\ud574\uc8fc\uba74 \ub41c\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# semanage \uc124\uce58\n$ yum install -y policycoreutils-python\n\n# \ud3ec\ud2b8 \ud655\uc778\n# mysql\n$ semanage port -l | grep mysqld_port_t\n# http\n$ semanage port -l | grep http_port_t\n\nmysqld_port_t tcp 1186, 3306, 63132-63164\n")),(0,r.kt)("p",null,"\ubcc0\uacbd\ud558\ub824\ub294 3307 \ud3ec\ud2b8\ub294 \ub4f1\ub85d\ub418\uc5b4 \uc788\uc9c0 \uc54a\ub2e4."),(0,r.kt)("h2",{id:"selinux\uc5d0-\ud3ec\ud2b8-\ub4f1\ub85d"},"SELinux\uc5d0 \ud3ec\ud2b8 \ub4f1\ub85d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ semanage port -a -t mysqld_port_t -p tcp 3307\n")),(0,r.kt)("p",null,"\uba85\ub839\uc5b4\uac00 iptables\uc5d0 \ub4f1\ub85d\ud558\ub294 \uac83\uacfc \uc720\uc0ac\ud558\ub2e4."),(0,r.kt)("h2",{id:"\ud655\uc778"},"\ud655\uc778"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ semanage port -l | grep mysqld_port_t\n\nmysqld_port_t tcp 3307, 1186, 3306, 63132-63164\n")),(0,r.kt)("p",null,"\uc774\uc81c mysql restart\ub97c \ud558\uba74 \uc815\uc0c1\uc801\uc73c\ub85c \uad6c\ub3d9\ub41c\ub2e4."),(0,r.kt)("h1",{id:"\uc5ec\ub2f4"},"\uc5ec\ub2f4"),(0,r.kt)("p",null,"\ub9ac\ub205\uc2a4\uc5d0\uc11c \uc815\uc0c1\uc801\uc73c\ub85c \uc9c4\ud589\ud588\ub294\ub370 \ubb54\uac00 \uc548\ub41c\ub2e4\uba74 SELinux\ubd80\ud130 \uc758\uc2ec\ud574\ubcf4\uc790."))}c.isMDXComponent=!0}}]);