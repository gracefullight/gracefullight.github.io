"use strict";(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([[89446],{17768:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>h,contentTitle:()=>l,default:()=>j,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var i=d(70723),r=d(86070),n=d(56192);const t={title:"node-redis vs ioredis",authors:"me",tags:["nodejs","redis"],date:new Date("2022-01-29T22:16:22.000Z")},l=void 0,h={authorsImageUrls:[void 0]},c=[{value:"\uc804\uc81c\uc870\uac74",id:"\uc804\uc81c\uc870\uac74",level:2},{value:"node-redis",id:"node-redis",level:2},{value:"\ubca4\uce58\ub9c8\ud06c",id:"\ubca4\uce58\ub9c8\ud06c",level:2},{value:"\ud14c\uc2a4\ud2b8",id:"\ud14c\uc2a4\ud2b8",level:3},{value:"dropBufferSuppport: true",id:"dropbuffersuppport-true",level:4},{value:"dropBufferSuppport: false",id:"dropbuffersuppport-false",level:4},{value:"\uacb0\ub860",id:"\uacb0\ub860",level:2}];function x(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"\uc804\uc81c\uc870\uac74",children:"\uc804\uc81c\uc870\uac74"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\ubcf4\ud1b5 IOredis \uac00 \ud37c\ud3ec\uba3c\uc2a4\uba74\uc5d0\uc11c \ub354 \ube60\ub974\ub2e4\uace0 \uc54c\uace0 \uc788\ub294\ub370, node-redis\uac00 4\ubc84\uc804\uc73c\ub85c \uc62c\ub77c\uc624\uba74\uc11c \ubc14\ub00c\uc5c8\ub294\uc9c0 \uad81\uae08\ud588\ub2e4."}),"\n",(0,r.jsxs)(s.li,{children:["\uba3c\uc800 IOredis \uc758 ",(0,r.jsx)(s.a,{href:"https://github.com/luin/ioredis#benchmarks",children:"\ubca4\uce58\ub9c8\ud06c \ubb38\uc11c"})," \uc5d0\ub294 node-redis \uc640\uc758 \ube44\uad50\ub294 \uc5c6\uace0 ",(0,r.jsx)(s.code,{children:"enableAutoPipelining"})," \uc635\uc158\uc744 \ucf1c\ub77c\ub294 \ub9d0\ub9cc \ub098\uc628\ub2e4."]}),"\n",(0,r.jsxs)(s.li,{children:["\ub2e4\ub978 \ucc38\uace0\ud560\ub9cc\ud55c \uc790\ub8cc\ub294 ",(0,r.jsx)(s.a,{href:"https://ably.com/blog/migrating-from-node-redis-to-ioredis",children:"Ably: Migrating from Node Redis to Ioredis: a slightly bumpy but faster road"})," \uc778\ub370 \uba87 \ubc84\uc804\uc758 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c \ube44\uad50\ub97c \ud588\ub294\uc9c0\ub294 \ub098\uc624\uc9c0 \uc54a\ub294\ub2e4."]}),"\n",(0,r.jsx)(s.li,{children:"\ucd5c\uc2e0 node-redis \ub77c\uc774\ube0c\ub7ec\ub9ac\uc640 \ube44\uad50\ub97c \ud574\uc57c\ud588\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"node-redis",children:"node-redis"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\ubc84\uc804 4\uc5d0\uc11c \ud638\ud658\ub418\uc9c0 \uc54a\ub294 \uba54\uc18c\ub4dc\uac00 \ub9ce\uc740\ub370 Breaking Changes \ub098 ",(0,r.jsx)(s.a,{href:"https://github.com/redis/node-redis/blob/master/docs/v3-to-v4.md",children:"v3 to v4 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uac00\uc774\ub4dc"}),"\uc5d0 \ucd94\uac00\uac00 \ub418\uc5b4\uc788\uc9c0 \uc54a\ub2e4. \ud83d\ude21"]}),"\n",(0,r.jsxs)(s.li,{children:["\uc5f4\ub824\uc788\ub294 \uc774\uc288\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/redis/node-redis/issues/1765",children:"#1765"}),": ",(0,r.jsx)(s.code,{children:"hgetall, hget, hset, hmset, setex"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/redis/node-redis/issues/1796",children:"#1796"}),": ",(0,r.jsx)(s.code,{children:"batch"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"\ub808\ub514\uc2a4 \uc0ac\uc758 \ub808\ud30c\uc9c0\ud1a0\ub9ac\uac00 \ub9de\ub294\uc9c0 \uc758\ubb38\uc774 \ub4e0\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"\ubca4\uce58\ub9c8\ud06c",children:"\ubca4\uce58\ub9c8\ud06c"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/redis/node-redis/tree/master/benchmark",children:"redis/node-redis/benchmark"})," \ubca4\uce58\ub9c8\ud06c \ud3f4\ub354\uac00 \uc788\ub294\ub370 \uacb0\uacfc\uac00 \uc815\ub9ac\ub41c \ubb38\uc11c\ub97c \ubabb \ucc3e\uc558\ub2e4."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/poppinlp/node_redis-vs-ioredis",children:"poppinlp/node_redis-vs-ioredis"})," \ub808\ud30c\uc9c0\ud1a0\ub9ac\uac00 \uc788\uc5c8\uc9c0\ub9cc node-redis \ubc84\uc804\uc774 \uc544\uc27d\uac8c ",(0,r.jsx)(s.a,{href:"https://github.com/poppinlp/node_redis-vs-ioredis/blob/master/package.json#L26",children:"3.0.2"}),"\uc600\ub2e4."]}),"\n",(0,r.jsx)(s.li,{children:"\uc9c1\uc811 \uc218\uc815\ud574\uc11c \ub3cc\ub824\ubd10\uc57c\ud588\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"\ud14c\uc2a4\ud2b8",children:"\ud14c\uc2a4\ud2b8"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yml",metastring:'title="docker-compose.yml"',children:'version: "3.9"\nservices:\n  redis:\n    image: "redis:6.2-alpine"\n    ports:\n      - "6379:6379"\n'})}),"\n",(0,r.jsxs)(s.p,{children:["\ub744\uc6cc\ub193\uace0 \uc9c4\ud589\ud588\ub2e4. IOredis \uc758 ",(0,r.jsx)(s.code,{children:"options.dropBufferSupport"})," \uc635\uc158\uc744 \ucf1c\uba74 ",(0,r.jsx)(s.a,{href:"https://github.com/luin/ioredis/blob/master/API.md#new-redisport-host-options",children:"\ud37c\ud3ec\uba3c\uc2a4\uac00 \ud5a5\uc0c1\ub41c\ub2e4\ub77c\uace0 \ub098\uc640\uc788\uc5b4\uc11c"})," \ub450 \uacbd\uc6b0\ub97c \ubaa8\ub450 \ud14c\uc2a4\ud2b8\ud588\ub2e4."]}),"\n",(0,r.jsx)(s.h4,{id:"dropbuffersuppport-true",children:"dropBufferSuppport: true"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"ioredis"}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"node-redis (avg): 9586.215"}),"\n",(0,r.jsx)(s.li,{children:"ioredis (avg): 9488.689"}),"\n"]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Operation"}),(0,r.jsx)(s.th,{children:"node-redis(ms)"}),(0,r.jsx)(s.th,{children:"node-redis with multi(ms)"}),(0,r.jsx)(s.th,{children:"node-redis with pipeline(ms)"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"set"}),(0,r.jsx)(s.td,{children:"26525.039"}),(0,r.jsx)(s.td,{children:"170.461"}),(0,r.jsx)(s.td,{children:"112.881"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"get"}),(0,r.jsx)(s.td,{children:"26334.277"}),(0,r.jsx)(s.td,{children:"252.904"}),(0,r.jsx)(s.td,{children:"183.610"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hset"}),(0,r.jsx)(s.td,{children:"26461.201"}),(0,r.jsx)(s.td,{children:"224.977"}),(0,r.jsx)(s.td,{children:"133.728"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hgetall"}),(0,r.jsx)(s.td,{children:"31394.670"}),(0,r.jsx)(s.td,{children:"389.773"}),(0,r.jsx)(s.td,{children:"306.851"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"incr"}),(0,r.jsx)(s.td,{children:"28580.127"}),(0,r.jsx)(s.td,{children:"206.482"}),(0,r.jsx)(s.td,{children:"116.846"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"keys"}),(0,r.jsx)(s.td,{children:"29647.691"}),(0,r.jsx)(s.td,{children:"772.989"}),(0,r.jsx)(s.td,{children:"737.362"})]})]})]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Operation"}),(0,r.jsx)(s.th,{children:"ioredis(ms)"}),(0,r.jsx)(s.th,{children:"ioredis with multi(ms)"}),(0,r.jsx)(s.th,{children:"ioredis with pipeline(ms)"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"set"}),(0,r.jsx)(s.td,{children:"25684.449"}),(0,r.jsx)(s.td,{children:"260.598"}),(0,r.jsx)(s.td,{children:"173.958"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"get"}),(0,r.jsx)(s.td,{children:"25720.408"}),(0,r.jsx)(s.td,{children:"290.935"}),(0,r.jsx)(s.td,{children:"226.623"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hmset"}),(0,r.jsx)(s.td,{children:"25857.690"}),(0,r.jsx)(s.td,{children:"338.286"}),(0,r.jsx)(s.td,{children:"200.380"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hgetall"}),(0,r.jsx)(s.td,{children:"31666.897"}),(0,r.jsx)(s.td,{children:"480.690"}),(0,r.jsx)(s.td,{children:"380.761"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"incr"}),(0,r.jsx)(s.td,{children:"28392.304"}),(0,r.jsx)(s.td,{children:"257.203"}),(0,r.jsx)(s.td,{children:"150.187"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"keys"}),(0,r.jsx)(s.td,{children:"29061.574"}),(0,r.jsx)(s.td,{children:"915.112"}),(0,r.jsx)(s.td,{children:"738.331"})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"dropbuffersuppport-false",children:"dropBufferSuppport: false"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"node-redis"}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"node-redis (avg): 9764.244"}),"\n",(0,r.jsx)(s.li,{children:"ioredis (avg): 9993.67"}),"\n"]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Operation"}),(0,r.jsx)(s.th,{children:"node-redis(ms)"}),(0,r.jsx)(s.th,{children:"node-redis with multi(ms)"}),(0,r.jsx)(s.th,{children:"node-redis with pipeline(ms)"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"set"}),(0,r.jsx)(s.td,{children:"29100.469"}),(0,r.jsx)(s.td,{children:"176.660"}),(0,r.jsx)(s.td,{children:"126.425"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"get"}),(0,r.jsx)(s.td,{children:"28317.308"}),(0,r.jsx)(s.td,{children:"321.528"}),(0,r.jsx)(s.td,{children:"189.664"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hset"}),(0,r.jsx)(s.td,{children:"28963.134"}),(0,r.jsx)(s.td,{children:"194.640"}),(0,r.jsx)(s.td,{children:"139.163"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hgetall"}),(0,r.jsx)(s.td,{children:"29219.324"}),(0,r.jsx)(s.td,{children:"406.834"}),(0,r.jsx)(s.td,{children:"357.909"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"incr"}),(0,r.jsx)(s.td,{children:"29009.774"}),(0,r.jsx)(s.td,{children:"211.714"}),(0,r.jsx)(s.td,{children:"133.763"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"keys"}),(0,r.jsx)(s.td,{children:"27309.474"}),(0,r.jsx)(s.td,{children:"847.218"}),(0,r.jsx)(s.td,{children:"731.385"})]})]})]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Operation"}),(0,r.jsx)(s.th,{children:"ioredis(ms)"}),(0,r.jsx)(s.th,{children:"ioredis with multi(ms)"}),(0,r.jsx)(s.th,{children:"ioredis with pipeline(ms)"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"set"}),(0,r.jsx)(s.td,{children:"27995.198"}),(0,r.jsx)(s.td,{children:"265.654"}),(0,r.jsx)(s.td,{children:"160.538"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"get"}),(0,r.jsx)(s.td,{children:"30821.817"}),(0,r.jsx)(s.td,{children:"335.706"}),(0,r.jsx)(s.td,{children:"245.901"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hmset"}),(0,r.jsx)(s.td,{children:"28127.822"}),(0,r.jsx)(s.td,{children:"288.023"}),(0,r.jsx)(s.td,{children:"216.563"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"hgetall"}),(0,r.jsx)(s.td,{children:"28732.957"}),(0,r.jsx)(s.td,{children:"406.565"}),(0,r.jsx)(s.td,{children:"372.790"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"incr"}),(0,r.jsx)(s.td,{children:"30576.902"}),(0,r.jsx)(s.td,{children:"277.081"}),(0,r.jsx)(s.td,{children:"133.760"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"keys"}),(0,r.jsx)(s.td,{children:"29278.756"}),(0,r.jsx)(s.td,{children:"863.351"}),(0,r.jsx)(s.td,{children:"786.658"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"\uacb0\ub860",children:"\uacb0\ub860"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["IOredis \ub97c \uc4f0\ub824\uba74 ",(0,r.jsx)(s.code,{children:"dropBufferSupport: true"})," \ub97c \uad8c\uc7a5"]}),"\n",(0,r.jsx)(s.li,{children:"\ub450 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc758 \ud37c\ud3ec\uba3c\uc2a4 \ucc28\uc774\ub294 \ubbf8\ubbf8\ud558\ub2e4."}),"\n",(0,r.jsx)(s.li,{children:"node-redis \ub294 \uacf5\uc2dd \ub77c\uc774\ube0c\ub7ec\ub9ac\uc774\uc9c0\ub9cc \uc544\uc9c1 \ubb38\uc11c\uac00 \uc644\ubcbd\ud558\uc9c0 \uc54a\ub2e4."}),"\n",(0,r.jsx)(s.li,{children:"redis \uc5d0\uc11c \uc81c\uacf5\ud558\ub294 RedisJson, RediSearch \uc758 \ud655\uc7a5\uc131\uc744 \uc704\ud574 node-redis \ub97c \uc120\ud0dd\ud560 \uac83 \uac19\ub2e4."}),"\n",(0,r.jsxs)(s.li,{children:["\uc601\uc18d\uc131\uc744 \uc704\ud55c aof, rdb \uc124\uc815\uc740 \ub458 \ub2e4 \uc0ac\uc6a9\ud558\ub77c ",(0,r.jsx)(s.a,{href:"https://redis.io/topics/persistence#ok-so-what-should-i-use",children:"\ubb38\uc11c"}),"\uc5d0 \ub098\uc640\uc788\ub2e4."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/redis/redis-om-node",children:"Redis/redis-om-node"})," \uc640 ",(0,r.jsx)(s.a,{href:"https://oss.redis.com/redisjson/",children:"RedisJson"}),", ",(0,r.jsx)(s.a,{href:"https://oss.redis.com/redisearch/",children:"RediSearch"})," \ub97c \ub2e4 \uc0ac\uc6a9\ud55c\ub2e4\uba74 BFF \ubaa8\ub378\uc744 \uc27d\uac8c \ub9cc\ub4e4 \uc218 \uc788\uc744 \uac83 \uac19\ub2e4. \ub808\ud37c\ub7f0\uc2a4\ub294 \uc544\uc9c1 \uc5c6\ub294\ub4ef..."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/RedisJSON/RedisJSON/blob/master/Dockerfile",children:"RedisJSON/RedisJson/Dockerfile"})," \uc5d0 \ub450 \ubaa8\ub4c8\uc774 \ubaa8\ub450 \uc124\uce58\ub418\uc5b4\uc788\ub2e4."]}),"\n"]})]})}function j(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},56192:(e,s,d)=>{d.d(s,{R:()=>t,x:()=>l});var i=d(30758);const r={},n=i.createContext(r);function t(e){const s=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(n.Provider,{value:s},e.children)}},70723:e=>{e.exports=JSON.parse('{"permalink":"/2022/01/29/node-redis-vs-ioredis","source":"@site/blog/2022/01/29/node-redis-vs-ioredis.md","title":"node-redis vs ioredis","description":"\uc804\uc81c\uc870\uac74","date":"2022-01-29T22:16:22.000Z","tags":[{"inline":true,"label":"nodejs","permalink":"/tags/nodejs"},{"inline":true,"label":"redis","permalink":"/tags/redis"}],"readingTime":4.17,"hasTruncateMarker":false,"authors":[{"name":"Eunkwang Shin","title":"Owner","url":"https://github.com/gracefullight","socials":{"linkedin":"https://www.linkedin.com/in/gracefullight/","github":"https://github.com/gracefullight"},"description":"Full Stack JavaScript Developer | Half-time Open Sourcerer.","page":{"permalink":"/authors/me"},"imageURL":"https://avatars.githubusercontent.com/u/11773683?v=4","key":"me"}],"frontMatter":{"title":"node-redis vs ioredis","authors":"me","tags":["nodejs","redis"],"date":"2022-01-29T22:16:22.000Z"},"unlisted":false,"prevItem":{"title":"yarn, ts \uc2a4\ud0c0\ud130 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","permalink":"/2022/07/30/yarn-ts-\uc2a4\ud0c0\ud130-\uccb4\ud06c\ub9ac\uc2a4\ud2b8"},"nextItem":{"title":"TypeScript \ud611\uc5c5","permalink":"/2022/01/16/typescript-\ud611\uc5c5"}}')}}]);