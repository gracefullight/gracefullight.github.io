(self.webpackChunkgracefullight_github_io=self.webpackChunkgracefullight_github_io||[]).push([["53404"],{47128(t,e,r){"use strict";r.d(e,{A:()=>z});var s=r(31635),i=function(){if("u">typeof Map)return Map;function t(t,e){var r=-1;return t.some(function(t,s){return t[0]===e&&(r=s,!0)}),r}function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var r=t(this.__entries__,e),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(e,r){var s=t(this.__entries__,e);~s?this.__entries__[s][1]=r:this.__entries__.push([e,r])},e.prototype.delete=function(e){var r=this.__entries__,s=t(r,e);~s&&r.splice(s,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,s=this.__entries__;r<s.length;r++){var i=s[r];t.call(e,i[1],i[0])}},e}(),n="u">typeof window&&"u">typeof document&&window.document===document,o=void 0!==r.g&&r.g.Math===Math?r.g:"u">typeof self&&self.Math===Math?self:"u">typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},l=["top","right","bottom","left","width","height","size","weight"],u="u">typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,s=!1,i=0;function n(){r&&(r=!1,t()),s&&l()}function o(){a(n)}function l(){var t=Date.now();if(r){if(t-i<2)return;s=!0}else r=!0,s=!1,setTimeout(o,20);i=t}return l}(this.refresh.bind(this),0)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=void 0===e?"":e;l.some(function(t){return!!~r.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var r=0,s=Object.keys(e);r<s.length;r++){var i=s[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},d=p(0,0,0,0);function m(t){return parseFloat(t)||0}function g(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(e,r){return e+m(t["border-"+r+"-width"])},0)}var w="u">typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"==typeof t.getBBox};function p(t,e,r,s){return{x:t,y:e,width:r,height:s}}var y=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=p(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=function(t){if(!n)return d;if(w(t)){var e;return p(0,0,(e=t.getBBox()).width,e.height)}return function(t){var e,r=t.clientWidth,s=t.clientHeight;if(!r&&!s)return d;var i=f(t).getComputedStyle(t),n=function(t){for(var e={},r=0,s=["top","right","bottom","left"];r<s.length;r++){var i=s[r],n=t["padding-"+i];e[i]=m(n)}return e}(i),o=n.left+n.right,a=n.top+n.bottom,l=m(i.width),u=m(i.height);if("border-box"===i.boxSizing&&(Math.round(l+o)!==r&&(l-=g(i,"left","right")+o),Math.round(u+a)!==s&&(u-=g(i,"top","bottom")+a)),(e=t)!==f(e).document.documentElement){var h=Math.round(l+o)-r,c=Math.round(u+a)-s;1!==Math.abs(h)&&(l-=h),1!==Math.abs(c)&&(u-=c)}return p(n.left,n.top,l,u)}(t)}(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,e){var r,s,i,n,o,a=(r=e.x,s=e.y,i=e.width,n=e.height,c(o=Object.create(("u">typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:r,y:s,width:i,height:n,top:s,right:r+i,bottom:n+s,left:r}),o);c(this,{target:t,contentRect:a})},_=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof t)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if(!("u"<typeof Element)&&Element instanceof Object){if(!(t instanceof f(t).Element))throw TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if(!("u"<typeof Element)&&Element instanceof Object){if(!(t instanceof f(t).Element))throw TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new b(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),v="u">typeof WeakMap?new WeakMap:new i,k=function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var r=new _(e,h.getInstance(),this);v.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){k.prototype[t]=function(){var e;return(e=v.get(this))[t].apply(e,arguments)}});var x=void 0!==o.ResizeObserver?o.ResizeObserver:k,M=r(96540),S=r(16415);let E=function(t){var e=(0,M.useRef)(0),r=(0,s.__read)((0,M.useState)(t),2),i=r[0],n=r[1],o=(0,M.useCallback)(function(t){cancelAnimationFrame(e.current),e.current=requestAnimationFrame(function(){n(t)})},[]);return(0,S.A)(function(){cancelAnimationFrame(e.current)}),[i,o]};var T=r(96422),O=r(50127),N=r(89944),A=(0,r(6154).A)(M.useLayoutEffect),D=O.A?A:N.A;let z=function(t){var e=(0,s.__read)(E(function(){var e=(0,T.e)(t);return e?{width:e.clientWidth,height:e.clientHeight}:void 0}),2),r=e[0],i=e[1];return D(function(){var e=(0,T.e)(t);if(e){var r=new x(function(t){t.forEach(function(t){var e=t.target;i({width:e.clientWidth,height:e.clientHeight})})});return r.observe(e),function(){r.disconnect()}}},[],t),r}},52566(t,e){var r;r=function(t){t.version="1.2.2";var e=function(){for(var t=0,e=Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-0x12477ce0^t>>>1:t>>>1)?-0x12477ce0^t>>>1:t>>>1)?-0x12477ce0^t>>>1:t>>>1)?-0x12477ce0^t>>>1:t>>>1)?-0x12477ce0^t>>>1:t>>>1)?-0x12477ce0^t>>>1:t>>>1)?-0x12477ce0^t>>>1:t>>>1)?-0x12477ce0^t>>>1:t>>>1,e[r]=t;return"u">typeof Int32Array?new Int32Array(e):e}(),r=function(t){var e=0,r=0,s=0,i="u">typeof Int32Array?new Int32Array(4096):Array(4096);for(s=0;256!=s;++s)i[s]=t[s];for(s=0;256!=s;++s)for(r=t[s],e=256+s;e<4096;e+=256)r=i[e]=r>>>8^t[255&r];var n=[];for(s=1;16!=s;++s)n[s-1]="u">typeof Int32Array?i.subarray(256*s,256*s+256):i.slice(256*s,256*s+256);return n}(e),s=r[0],i=r[1],n=r[2],o=r[3],a=r[4],l=r[5],u=r[6],h=r[7],c=r[8],f=r[9],d=r[10],m=r[11],g=r[12],w=r[13],p=r[14];t.table=e,t.bstr=function(t,r){for(var s=-1^r,i=0,n=t.length;i<n;)s=s>>>8^e[(s^t.charCodeAt(i++))&255];return~s},t.buf=function(t,r){for(var y=-1^r,b=t.length-15,_=0;_<b;)y=p[t[_++]^255&y]^w[t[_++]^y>>8&255]^g[t[_++]^y>>16&255]^m[t[_++]^y>>>24]^d[t[_++]]^f[t[_++]]^c[t[_++]]^h[t[_++]]^u[t[_++]]^l[t[_++]]^a[t[_++]]^o[t[_++]]^n[t[_++]]^i[t[_++]]^s[t[_++]]^e[t[_++]];for(b+=15;_<b;)y=y>>>8^e[(y^t[_++])&255];return~y},t.str=function(t,r){for(var s=-1^r,i=0,n=t.length,o=0,a=0;i<n;)(o=t.charCodeAt(i++))<128?s=s>>>8^e[(s^o)&255]:o<2048?s=(s=s>>>8^e[(s^(192|o>>6&31))&255])>>>8^e[(s^(128|63&o))&255]:o>=55296&&o<57344?(o=(1023&o)+64,a=1023&t.charCodeAt(i++),s=(s=(s=(s=s>>>8^e[(s^(240|o>>8&7))&255])>>>8^e[(s^(128|o>>2&63))&255])>>>8^e[(s^(128|a>>6&15|(3&o)<<4))&255])>>>8^e[(s^(128|63&a))&255]):s=(s=(s=s>>>8^e[(s^(224|o>>12&15))&255])>>>8^e[(s^(128|o>>6&63))&255])>>>8^e[(s^(128|63&o))&255];return~s}},"u"<typeof DO_NOT_EXPORT_CRC?r(e):r({})},70788(t,e,r){"use strict";r.r(e),r.d(e,{isAnyArray:()=>i});let s=Object.prototype.toString;function i(t){let e=s.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},68986(t,e,r){"use strict";r.r(e),r.d(e,{default:()=>i});var s=r(70788);function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,s.isAnyArray)(t)){if(0===t.length)throw TypeError("input must not be empty")}else throw TypeError("input must be an array");if(void 0!==r.output){if(!(0,s.isAnyArray)(r.output))throw TypeError("output option must be an array if specified");e=r.output}else e=Array(t.length);var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,s.isAnyArray)(t))throw TypeError("input must be an array");if(0===t.length)throw TypeError("input must not be empty");var r=e.fromIndex,i=void 0===r?0:r,n=e.toIndex,o=void 0===n?t.length:n;if(i<0||i>=t.length||!Number.isInteger(i))throw Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>t.length||!Number.isInteger(o))throw Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[i],l=i+1;l<o;l++)t[l]<a&&(a=t[l]);return a}(t),n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,s.isAnyArray)(t))throw TypeError("input must be an array");if(0===t.length)throw TypeError("input must not be empty");var r=e.fromIndex,i=void 0===r?0:r,n=e.toIndex,o=void 0===n?t.length:n;if(i<0||i>=t.length||!Number.isInteger(i))throw Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>t.length||!Number.isInteger(o))throw Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[i],l=i+1;l<o;l++)t[l]>a&&(a=t[l]);return a}(t);if(i===n)throw RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=r.min,a=void 0===o?r.autoMinMax?i:0:o,l=r.max,u=void 0===l?r.autoMinMax?n:1:l;if(a>=u)throw RangeError("min option must be smaller than max option");for(var h=(u-a)/(n-i),c=0;c<t.length;c++)e[c]=(t[c]-i)*h+a;return e}},10673(t,e,r){"use strict";var s=r(70788),i=r(68986);let n=" ".repeat(2),o=" ".repeat(4);function a(t,e={}){let{maxRows:r=15,maxColumns:s=10,maxNumSize:i=8,padMinus:u="auto"}=e;return`${t.constructor.name} {
${n}[
${o}${function(t,e,r,s,i){let{rows:n,columns:a}=t,u=Math.min(n,e),h=Math.min(a,r),c=[];if("auto"===i){i=!1;t:for(let e=0;e<u;e++)for(let r=0;r<h;r++)if(0>t.get(e,r)){i=!0;break t}}for(let e=0;e<u;e++){let r=[];for(let n=0;n<h;n++){var f,d,m;r.push((f=t.get(e,n),d=s,m=i,(f>=0&&m?` ${l(f,d-1)}`:l(f,d)).padEnd(d)))}c.push(`${r.join(" ")}`)}return h!==a&&(c[c.length-1]+=` ... ${a-r} more columns`),u!==n&&c.push(`... ${n-e} more rows`),c.join(`
${o}`)}(t,r,s,i,u)}
${n}]
${n}rows: ${t.rows}
${n}columns: ${t.columns}
}`}function l(t,e){let r=t.toString();if(r.length<=e)return r;let s=t.toFixed(e);if(s.length>e&&(s=t.toFixed(Math.max(0,e-(s.length-e)))),s.length<=e&&!s.startsWith("0.000")&&!s.startsWith("-0.000"))return s;let i=t.toExponential(e);return i.length>e&&(i=t.toExponential(Math.max(0,e-(i.length-e)))),i.slice(0)}function u(t,e,r){let s=r?t.rows:t.rows-1;if(e<0||e>s)throw RangeError("Row index out of range")}function h(t,e,r){let s=r?t.columns:t.columns-1;if(e<0||e>s)throw RangeError("Column index out of range")}function c(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw RangeError("vector size must be the same as the number of columns");return e}function f(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw RangeError("vector size must be the same as the number of rows");return e}function d(t,e){if(!s.isAnyArray(e))throw TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw RangeError("row indices are out of range")}function m(t,e){if(!s.isAnyArray(e))throw TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw RangeError("column indices are out of range")}function g(t,e,r,s,i){if(5!=arguments.length)throw RangeError("expected 4 arguments");if(p("startRow",e),p("endRow",r),p("startColumn",s),p("endColumn",i),e>r||s>i||e<0||e>=t.rows||r<0||r>=t.rows||s<0||s>=t.columns||i<0||i>=t.columns)throw RangeError("Submatrix indices are out of range")}function w(t,e=0){let r=[];for(let s=0;s<t;s++)r.push(e);return r}function p(t,e){if("number"!=typeof e)throw TypeError(`${t} must be a number`)}function y(t){if(t.isEmpty())throw Error("Empty matrix has no elements to index")}class b{static from1DArray(t,e,r){if(t*e!==r.length)throw RangeError("data length does not match given dimensions");let s=new v(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)s.set(i,t,r[i*e+t]);return s}static rowVector(t){let e=new v(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new v(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new v(t,e)}static ones(t,e){return new v(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw TypeError("options must be an object");let{random:s=Math.random}=r,i=new v(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)i.set(r,t,s());return i}static randInt(t,e,r={}){if("object"!=typeof r)throw TypeError("options must be an object");let{min:s=0,max:i=1e3,random:n=Math.random}=r;if(!Number.isInteger(s))throw TypeError("min must be an integer");if(!Number.isInteger(i))throw TypeError("max must be an integer");if(s>=i)throw RangeError("min must be smaller than max");let o=i-s,a=new v(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=s+Math.round(n()*o);a.set(r,t,e)}return a}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let s=Math.min(t,e),i=this.zeros(t,e);for(let t=0;t<s;t++)i.set(t,t,r);return i}static diag(t,e,r){let s=t.length;void 0===e&&(e=s),void 0===r&&(r=e);let i=Math.min(s,e,r),n=this.zeros(e,r);for(let e=0;e<i;e++)n.set(e,e,t[e]);return n}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,i=new v(r,s);for(let n=0;n<r;n++)for(let r=0;r<s;r++)i.set(n,r,Math.min(t.get(n,r),e.get(n,r)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,i=new this(r,s);for(let n=0;n<r;n++)for(let r=0;r<s;r++)i.set(n,r,Math.max(t.get(n,r),e.get(n,r)));return i}static checkMatrix(t){return b.isMatrix(t)?t:new v(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,r=-1,s=!0,i=!1;for(;t<this.rows&&s;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(s=!1,i=!0);t++}return s}isReducedEchelonForm(){let t=0,e=0,r=-1,s=!0,i=!1;for(;t<this.rows&&s;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(s=!1,i=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(s=!1);t++}return s}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let s=e;for(let i=e;i<t.rows;i++)t.get(i,r)>t.get(s,r)&&(s=i);if(0===t.get(s,r))r++;else{t.swapRows(e,s);let i=t.get(e,r);for(let s=r;s<t.columns;s++)t.set(e,s,t.get(e,s)/i);for(let s=e+1;s<t.rows;s++){let i=t.get(s,r)/t.get(e,r);t.set(s,r,0);for(let n=r+1;n<t.columns;n++)t.set(s,n,t.get(s,n)-t.get(e,n)*i)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,s=r-1;for(;s>=0;)if(0===t.maxRow(s))s--;else{let i=0,n=!1;for(;i<r&&!1===n;)1===t.get(s,i)?n=!0:i++;for(let r=0;r<s;r++){let n=t.get(r,i);for(let o=i;o<e;o++){let e=t.get(r,o)-n*t.get(s,o);t.set(r,o,e)}}s--}return t}set(){throw Error("set method is unimplemented")}get(){throw Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw TypeError("columns must be a positive integer");let s=new v(this.rows*e,this.columns*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)s.setSubMatrix(this,this.rows*t,this.columns*e);return s}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){u(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return v.rowVector(this.getRow(t))}setRow(t,e){u(this,t),e=c(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){u(this,t),u(this,e);for(let r=0;r<this.columns;r++){let s=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,s)}return this}getColumn(t){h(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return v.columnVector(this.getColumn(t))}setColumn(t,e){h(this,t),e=f(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){h(this,t),h(this,e);for(let r=0;r<this.rows;r++){let s=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,s)}return this}addRowVector(t){t=c(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=c(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=c(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=c(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){u(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){h(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{let t=Array(this.rows).fill(-1/0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{let t=Array(this.columns).fill(-1/0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw Error(`invalid option: ${t}`)}}maxIndex(){y(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{let t=Array(this.rows).fill(1/0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{let t=Array(this.columns).fill(1/0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw Error(`invalid option: ${t}`)}}minIndex(){y(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}maxRow(t){if(u(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){u(this,t),y(this);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.columns;s++)this.get(t,s)>e&&(e=this.get(t,s),r[1]=s);return r}minRow(t){if(u(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){u(this,t),y(this);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.columns;s++)this.get(t,s)<e&&(e=this.get(t,s),r[1]=s);return r}maxColumn(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){h(this,t),y(this);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.rows;s++)this.get(s,t)>e&&(e=this.get(s,t),r[0]=s);return r}minColumn(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){h(this,t),y(this);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.rows;s++)this.get(s,t)<e&&(e=this.get(s,t),r[0]=s);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){b.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw RangeError("vectors do not have the same size");let r=0;for(let s=0;s<e.length;s++)r+=e[s]*t[s];return r}mmul(t){t=v.checkMatrix(t);let e=this.rows,r=this.columns,s=t.columns,i=new v(e,s),n=new Float64Array(r);for(let o=0;o<s;o++){for(let e=0;e<r;e++)n[e]=t.get(e,o);for(let t=0;t<e;t++){let e=0;for(let s=0;s<r;s++)e+=this.get(t,s)*n[s];i.set(t,o,e)}}return i}mpow(t){if(!this.isSquare())throw RangeError("Matrix must be square");if(!Number.isInteger(t)||t<0)throw RangeError("Exponent must be a non-negative integer");let e=v.eye(this.rows),r=this;for(let s=t;s>=1;s/=2)(1&s)!=0&&(e=e.mmul(r)),r=r.mmul(r);return e}strassen2x2(t){t=v.checkMatrix(t);let e=new v(2,2),r=this.get(0,0),s=t.get(0,0),i=this.get(0,1),n=t.get(0,1),o=this.get(1,0),a=t.get(1,0),l=this.get(1,1),u=t.get(1,1),h=(r+l)*(s+u),c=(o+l)*s,f=r*(n-u),d=l*(a-s),m=(r+i)*u;return e.set(0,0,h+d-m+(i-l)*(a+u)),e.set(0,1,f+m),e.set(1,0,c+d),e.set(1,1,h-c+f+(o-r)*(s+n)),e}strassen3x3(t){t=v.checkMatrix(t);let e=new v(3,3),r=this.get(0,0),s=this.get(0,1),i=this.get(0,2),n=this.get(1,0),o=this.get(1,1),a=this.get(1,2),l=this.get(2,0),u=this.get(2,1),h=this.get(2,2),c=t.get(0,0),f=t.get(0,1),d=t.get(0,2),m=t.get(1,0),g=t.get(1,1),w=t.get(1,2),p=t.get(2,0),y=t.get(2,1),b=t.get(2,2),_=(r+s+i-n-o-u-h)*g,k=(r-n)*(-f+g),x=o*(-c+f+m-g-w-p+b),M=(-r+n+o)*(c-f+g),S=(n+o)*(-c+f),E=r*c,T=(-r+l+u)*(c-d+w),O=(-r+l)*(d-w),N=(l+u)*(-c+d),A=(r+s+i-o-a-l-u)*w,D=u*(-c+d+m-g-w-p+y),z=(-i+u+h)*(g+p-y),I=(i-h)*(g-y),R=i*p,V=(u+h)*(-p+y),C=(-i+o+a)*(w+p-b),F=(i-a)*(w-b),L=(o+a)*(-p+b),Z=_+M+S+E+z+R+V,$=E+T+N+A+R+C+L,U=k+x+M+E+R+C+F,q=E+T+O+D+z+I+R;return e.set(0,0,E+R+s*m),e.set(0,1,Z),e.set(0,2,$),e.set(1,0,U),e.set(1,1,k+M+S+E+a*y),e.set(1,2,R+C+F+L+n*d),e.set(2,0,q),e.set(2,1,z+I+R+V+l*f),e.set(2,2,E+T+O+N+h*b),e}mmulStrassen(t){t=v.checkMatrix(t);let e=this.clone(),r=e.rows,s=e.columns,i=t.rows,n=t.columns;function o(t,e,r){let s=t.rows,i=t.columns;if(s===e&&i===r)return t;{let s=b.zeros(e,r);return s.setSubMatrix(t,0,0)}}s!==i&&console.warn(`Multiplying ${r} x ${s} and ${i} x ${n} matrix: dimensions do not match.`);let a=Math.max(r,i),l=Math.max(s,n);return e=o(e,a,l),function t(e,r,s,i){if(s<=512||i<=512)return e.mmul(r);s%2==1&&i%2==1?(e=o(e,s+1,i+1),r=o(r,s+1,i+1)):s%2==1?(e=o(e,s+1,i),r=o(r,s+1,i)):i%2==1&&(e=o(e,s,i+1),r=o(r,s,i+1));let n=parseInt(e.rows/2,10),a=parseInt(e.columns/2,10),l=e.subMatrix(0,n-1,0,a-1),u=r.subMatrix(0,n-1,0,a-1),h=e.subMatrix(0,n-1,a,e.columns-1),c=r.subMatrix(0,n-1,a,r.columns-1),f=e.subMatrix(n,e.rows-1,0,a-1),d=r.subMatrix(n,r.rows-1,0,a-1),m=e.subMatrix(n,e.rows-1,a,e.columns-1),g=r.subMatrix(n,r.rows-1,a,r.columns-1),w=t(b.add(l,m),b.add(u,g),n,a),p=t(b.add(f,m),u,n,a),y=t(l,b.sub(c,g),n,a),_=t(m,b.sub(d,u),n,a),v=t(b.add(l,h),g,n,a),k=t(b.sub(f,l),b.add(u,c),n,a),x=t(b.sub(h,m),b.add(d,g),n,a),M=b.add(w,_);M.sub(v),M.add(x);let S=b.add(y,v),E=b.add(p,_),T=b.sub(w,p);T.add(y),T.add(k);let O=b.zeros(2*M.rows,2*M.columns);return(O=(O=(O=(O=O.setSubMatrix(M,0,0)).setSubMatrix(S,M.rows,0)).setSubMatrix(E,0,M.columns)).setSubMatrix(T,M.rows,M.columns)).subMatrix(0,s-1,0,i-1)}(e,t=o(t,a,l),a,l)}scaleRows(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw TypeError("min must be a number");if(!Number.isFinite(r))throw TypeError("max must be a number");if(e>=r)throw RangeError("min must be smaller than max");let s=new v(this.rows,this.columns);for(let t=0;t<this.rows;t++){let n=this.getRow(t);n.length>0&&i(n,{min:e,max:r,output:n}),s.setRow(t,n)}return s}scaleColumns(t={}){if("object"!=typeof t)throw TypeError("options must be an object");let{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw TypeError("min must be a number");if(!Number.isFinite(r))throw TypeError("max must be a number");if(e>=r)throw RangeError("min must be smaller than max");let s=new v(this.rows,this.columns);for(let t=0;t<this.columns;t++){let n=this.getColumn(t);n.length&&i(n,{min:e,max:r,output:n}),s.setColumn(t,n)}return s}flipRows(){let t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),s=this.get(e,this.columns-1-r);this.set(e,r,s),this.set(e,this.columns-1-r,t)}return this}flipColumns(){let t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),s=this.get(this.rows-1-r,e);this.set(r,e,s),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=v.checkMatrix(t);let e=this.rows,r=this.columns,s=t.rows,i=t.columns,n=new v(e*s,r*i);for(let o=0;o<e;o++)for(let e=0;e<r;e++)for(let r=0;r<s;r++)for(let a=0;a<i;a++)n.set(s*o+r,i*e+a,this.get(o,e)*t.get(r,a));return n}kroneckerSum(t){if(t=v.checkMatrix(t),!this.isSquare()||!t.isSquare())throw Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,s=this.kroneckerProduct(v.eye(r,r)),i=v.eye(e,e).kroneckerProduct(t);return s.add(i)}transpose(){let t=new v(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=_){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=_){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,s){g(this,t,e,r,s);let i=new v(e-t+1,s-r+1);for(let n=t;n<=e;n++)for(let e=r;e<=s;e++)i.set(n-t,e-r,this.get(n,e));return i}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw RangeError("Argument out of range");let s=new v(t.length,r-e+1);for(let i=0;i<t.length;i++)for(let n=e;n<=r;n++){if(t[i]<0||t[i]>=this.rows)throw RangeError(`Row index out of range: ${t[i]}`);s.set(i,n-e,this.get(t[i],n))}return s}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw RangeError("Argument out of range");let s=new v(r-e+1,t.length);for(let i=0;i<t.length;i++)for(let n=e;n<=r;n++){if(t[i]<0||t[i]>=this.columns)throw RangeError(`Column index out of range: ${t[i]}`);s.set(n-e,i,this.get(n,t[i]))}return s}setSubMatrix(t,e,r){if((t=v.checkMatrix(t)).isEmpty())return this;let s=e+t.rows-1,i=r+t.columns-1;g(this,e,s,r,i);for(let s=0;s<t.rows;s++)for(let i=0;i<t.columns;i++)this.set(e+s,r+i,t.get(s,i));return this}selection(t,e){d(this,t),m(this,e);let r=new v(t.length,e.length);for(let s=0;s<t.length;s++){let i=t[s];for(let t=0;t<e.length;t++){let n=e[t];r.set(s,t,this.get(i,n))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){return this.constructor.copy(this,new v(this.rows,this.columns))}static copy(t,e){for(let[r,s,i]of t.entries())e.set(r,s,i);return e}sum(t){switch(t){case"row":return function(t){let e=w(t.rows);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[r]+=t.get(r,s);return e}(this);case"column":return function(t){let e=w(t.columns);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[s]+=t.get(r,s);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)e+=t.get(r,s);return e}(this);default:throw Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=w(t.rows,1);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[r]*=t.get(r,s);return e}(this);case"column":return function(t){let e=w(t.columns,1);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[s]*=t.get(r,s);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)e*=t.get(r,s);return e}(this);default:throw Error(`invalid option: ${t}`)}}mean(t){let e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let{unbiased:r=!0,mean:i=this.mean(t)}=e;if("boolean"!=typeof r)throw TypeError("unbiased must be a boolean");switch(t){case"row":if(!s.isAnyArray(i))throw TypeError("mean must be an array");return function(t,e,r){let s=t.rows,i=t.columns,n=[];for(let o=0;o<s;o++){let s=0,a=0,l=0;for(let e=0;e<i;e++)s+=l=t.get(o,e)-r[o],a+=l*l;e?n.push((a-s*s/i)/(i-1)):n.push((a-s*s/i)/i)}return n}(this,r,i);case"column":if(!s.isAnyArray(i))throw TypeError("mean must be an array");return function(t,e,r){let s=t.rows,i=t.columns,n=[];for(let o=0;o<i;o++){let i=0,a=0,l=0;for(let e=0;e<s;e++)i+=l=t.get(e,o)-r[o],a+=l*l;e?n.push((a-i*i/s)/(s-1)):n.push((a-i*i/s)/s)}return n}(this,r,i);case void 0:if("number"!=typeof i)throw TypeError("mean must be a number");return function(t,e,r){let s=t.rows,i=t.columns,n=s*i,o=0,a=0,l=0;for(let e=0;e<s;e++)for(let s=0;s<i;s++)o+=l=t.get(e,s)-r,a+=l*l;return e?(a-o*o/n)/(n-1):(a-o*o/n)/n}(this,r,i);default:throw Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);let r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let{center:r=this.mean(t)}=e;switch(t){case"row":if(!s.isAnyArray(r))throw TypeError("center must be an array");for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)-r[t]);return this;case"column":if(!s.isAnyArray(r))throw TypeError("center must be an array");for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)-r[e]);return this;case void 0:if("number"!=typeof r)throw TypeError("center must be a number");for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)-r);return this;default:throw Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){let e=[];for(let r=0;r<t.rows;r++){let s=0;for(let e=0;e<t.columns;e++)s+=t.get(r,e)**2/(t.columns-1);e.push(Math.sqrt(s))}return e}(this);else if(!s.isAnyArray(r))throw TypeError("scale must be an array");var i=r;for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)/i[t]);return this;case"column":if(void 0===r)r=function(t){let e=[];for(let r=0;r<t.columns;r++){let s=0;for(let e=0;e<t.rows;e++)s+=t.get(e,r)**2/(t.rows-1);e.push(Math.sqrt(s))}return e}(this);else if(!s.isAnyArray(r))throw TypeError("scale must be an array");var n=r;for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)/n[e]);return this;case void 0:if(void 0===r)r=function(t){let e=t.size-1,r=0;for(let s=0;s<t.columns;s++)for(let i=0;i<t.rows;i++)r+=t.get(i,s)**2/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw TypeError("scale must be a number");var o=r;for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)/o);return this;default:throw Error(`invalid option: ${t}`)}}toString(t){return a(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function _(t,e){return t-e}b.prototype.klass="Matrix","u">typeof Symbol&&(b.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return a(this)}),b.random=b.rand,b.randomInt=b.randInt,b.diagonal=b.diag,b.prototype.diagonal=b.prototype.diag,b.identity=b.eye,b.prototype.negate=b.prototype.neg,b.prototype.tensorProduct=b.prototype.kroneckerProduct;class v extends b{data;#t(t,e){if(this.data=[],Number.isInteger(e)&&e>=0)for(let r=0;r<t;r++)this.data.push(new Float64Array(e));else throw TypeError("nColumns must be a positive integer");this.rows=t,this.columns=e}constructor(t,e){if(super(),v.isMatrix(t))this.#t(t.rows,t.columns),v.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#t(t,e);else if(s.isAnyArray(t)){let r=t;if("number"!=typeof(e=(t=r.length)?r[0].length:0))throw TypeError("Data must be a 2D array with at least one element");this.data=[];for(let s=0;s<t;s++){if(r[s].length!==e)throw RangeError("Inconsistent array dimensions");if(!r[s].every(t=>"number"==typeof t))throw TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[s]))}this.rows=t,this.columns=e}else throw TypeError("First argument must be a positive number or an array")}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return u(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),u(this,t,!0),e=Float64Array.from(c(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){h(this,t);for(let e=0;e<this.rows;e++){let r=new Float64Array(this.columns-1);for(let s=0;s<t;s++)r[s]=this.data[e][s];for(let s=t+1;s<this.columns;s++)r[s-1]=this.data[e][s];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),h(this,t,!0),e=f(this,e);for(let r=0;r<this.rows;r++){let s=new Float64Array(this.columns+1),i=0;for(;i<t;i++)s[i]=this.data[r][i];for(s[i++]=e[r];i<this.columns+1;i++)s[i]=this.data[r][i-1];this.data[r]=s}return this.columns+=1,this}}b.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},b.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},b.prototype.addM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},b.add=function(t,e){return new v(t).add(e)},b.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},b.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},b.prototype.subM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},b.sub=function(t,e){return new v(t).sub(e)},b.prototype.subtract=b.prototype.sub,b.prototype.subtractS=b.prototype.subS,b.prototype.subtractM=b.prototype.subM,b.subtract=b.sub,b.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},b.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},b.prototype.mulM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},b.mul=function(t,e){return new v(t).mul(e)},b.prototype.multiply=b.prototype.mul,b.prototype.multiplyS=b.prototype.mulS,b.prototype.multiplyM=b.prototype.mulM,b.multiply=b.mul,b.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},b.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},b.prototype.divM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},b.div=function(t,e){return new v(t).div(e)},b.prototype.divide=b.prototype.div,b.prototype.divideS=b.prototype.divS,b.prototype.divideM=b.prototype.divM,b.divide=b.div,b.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},b.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},b.prototype.modM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},b.mod=function(t,e){return new v(t).mod(e)},b.prototype.modulus=b.prototype.mod,b.prototype.modulusS=b.prototype.modS,b.prototype.modulusM=b.prototype.modM,b.modulus=b.mod,b.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},b.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},b.prototype.andM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},b.and=function(t,e){return new v(t).and(e)},b.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},b.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},b.prototype.orM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},b.or=function(t,e){return new v(t).or(e)},b.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},b.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},b.prototype.xorM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},b.xor=function(t,e){return new v(t).xor(e)},b.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},b.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},b.prototype.leftShiftM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},b.leftShift=function(t,e){return new v(t).leftShift(e)},b.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},b.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},b.prototype.signPropagatingRightShiftM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},b.signPropagatingRightShift=function(t,e){return new v(t).signPropagatingRightShift(e)},b.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},b.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},b.prototype.rightShiftM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},b.rightShift=function(t,e){return new v(t).rightShift(e)},b.prototype.zeroFillRightShift=b.prototype.rightShift,b.prototype.zeroFillRightShiftS=b.prototype.rightShiftS,b.prototype.zeroFillRightShiftM=b.prototype.rightShiftM,b.zeroFillRightShift=b.rightShift,b.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},b.not=function(t){return new v(t).not()},b.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},b.abs=function(t){return new v(t).abs()},b.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},b.acos=function(t){return new v(t).acos()},b.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},b.acosh=function(t){return new v(t).acosh()},b.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},b.asin=function(t){return new v(t).asin()},b.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},b.asinh=function(t){return new v(t).asinh()},b.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},b.atan=function(t){return new v(t).atan()},b.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},b.atanh=function(t){return new v(t).atanh()},b.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},b.cbrt=function(t){return new v(t).cbrt()},b.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},b.ceil=function(t){return new v(t).ceil()},b.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},b.clz32=function(t){return new v(t).clz32()},b.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},b.cos=function(t){return new v(t).cos()},b.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},b.cosh=function(t){return new v(t).cosh()},b.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},b.exp=function(t){return new v(t).exp()},b.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},b.expm1=function(t){return new v(t).expm1()},b.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},b.floor=function(t){return new v(t).floor()},b.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},b.fround=function(t){return new v(t).fround()},b.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},b.log=function(t){return new v(t).log()},b.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},b.log1p=function(t){return new v(t).log1p()},b.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},b.log10=function(t){return new v(t).log10()},b.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},b.log2=function(t){return new v(t).log2()},b.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},b.round=function(t){return new v(t).round()},b.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},b.sign=function(t){return new v(t).sign()},b.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},b.sin=function(t){return new v(t).sin()},b.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},b.sinh=function(t){return new v(t).sinh()},b.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},b.sqrt=function(t){return new v(t).sqrt()},b.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},b.tan=function(t){return new v(t).tan()},b.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},b.tanh=function(t){return new v(t).tanh()},b.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},b.trunc=function(t){return new v(t).trunc()},b.pow=function(t,e){return new v(t).pow(e)},b.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},b.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t);return this},b.prototype.powM=function(t){if(t=v.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t.get(e,r));return this};class k extends b{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return v.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),v.isMatrix(t)){if(!t.isSymmetric())throw TypeError("not symmetric data");this.#e=v.copy(t,new v(t.rows,t.rows))}else if(Number.isInteger(t)&&t>=0)this.#e=new v(t,t);else if(this.#e=new v(t),!this.isSymmetric())throw TypeError("not symmetric data")}clone(){let t=new k(this.diagonalSize);for(let[e,r,s]of this.upperRightEntries())t.set(e,r,s);return t}toMatrix(){return new v(this)}get(t,e){return this.#e.get(t,e)}set(t,e,r){return this.#e.set(t,e,r),this.#e.set(e,t,r),this}removeCross(t){return this.#e.removeRow(t),this.#e.removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);let r=e.slice();return r.splice(t,1),this.#e.addRow(t,r),this.#e.addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw RangeError("Mask size do not match with matrix size");let e=[];for(let[r,s]of t.entries())s||e.push(r);for(let t of(e.reverse(),e))this.removeCross(t);return this}toCompact(){let{diagonalSize:t}=this,e=Array(t*(t+1)/2);for(let r=0,s=0,i=0;i<e.length;i++)e[i]=this.get(s,r),++r>=t&&(r=++s);return e}static fromCompact(t){let e=t.length,r=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(r))throw TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);let s=new k(r);for(let i=0,n=0,o=0;o<e;o++)s.set(i,n,t[o]),++i>=r&&(i=++n);return s}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;){let r=this.get(t,e);yield[t,e,r],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;){let r=this.get(t,e);yield r,++e>=this.diagonalSize&&(e=++t)}}}k.prototype.klassType="SymmetricMatrix";class x extends k{static isDistanceMatrix(t){return k.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw TypeError("Provided arguments do no produce a distance matrix")}set(t,e,r){return t===e&&(r=0),super.set(t,e,r)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),(e=e.slice())[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new k(this)}clone(){let t=new x(this.diagonalSize);for(let[e,r,s]of this.upperRightEntries())e!==r&&t.set(e,r,s);return t}toCompact(){let{diagonalSize:t}=this,e=Array((t-1)*t/2);for(let r=1,s=0,i=0;i<e.length;i++)e[i]=this.get(s,r),++r>=t&&(r=++s+1);return e}static fromCompact(t){let e=t.length;if(0===e)return new this(0);let r=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(r))throw TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);let s=new this(r);for(let i=1,n=0,o=0;o<e;o++)s.set(i,n,t[o]),++i>=r&&(i=++n+1);return s}}x.prototype.klassSubType="DistanceMatrix";class M extends b{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class S extends M{constructor(t,e,r){d(t,e),m(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class E extends b{constructor(t,e={}){let{rows:r=1}=e;if(t.length%r!=0)throw Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let s=this._calculateIndex(t,e);return this.data[s]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class T extends b{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}class O{constructor(t){let e,r,s,i,n,o,a,l,u,h=(t=T.checkMatrix(t)).clone(),c=h.rows,f=h.columns,d=new Float64Array(c),m=1;for(e=0;e<c;e++)d[e]=e;for(r=0,l=new Float64Array(c);r<f;r++){for(e=0;e<c;e++)l[e]=h.get(e,r);for(e=0;e<c;e++){for(s=0,u=Math.min(e,r),n=0;s<u;s++)n+=h.get(e,s)*l[s];l[e]-=n,h.set(e,r,l[e])}for(i=r,e=r+1;e<c;e++)Math.abs(l[e])>Math.abs(l[i])&&(i=e);if(i!==r){for(s=0;s<f;s++)o=h.get(i,s),h.set(i,s,h.get(r,s)),h.set(r,s,o);a=d[i],d[i]=d[r],d[r]=a,m=-m}if(r<c&&0!==h.get(r,r))for(e=r+1;e<c;e++)h.set(e,r,h.get(e,r)/h.get(r,r))}this.LU=h,this.pivotVector=d,this.pivotSign=m}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){let e,r,s;t=v.checkMatrix(t);let i=this.LU;if(i.rows!==t.rows)throw Error("Invalid matrix dimensions");if(this.isSingular())throw Error("LU matrix is singular");let n=t.columns,o=t.subMatrixRow(this.pivotVector,0,n-1),a=i.columns;for(s=0;s<a;s++)for(e=s+1;e<a;e++)for(r=0;r<n;r++)o.set(e,r,o.get(e,r)-o.get(s,r)*i.get(e,s));for(s=a-1;s>=0;s--){for(r=0;r<n;r++)o.set(s,r,o.get(s,r)/i.get(s,s));for(e=0;e<s;e++)for(r=0;r<n;r++)o.set(e,r,o.get(e,r)-o.get(s,r)*i.get(e,s))}return o}get determinant(){let t=this.LU;if(!t.isSquare())throw Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let s=0;s<r;s++)e*=t.get(s,s);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,s=new v(e,r);for(let i=0;i<e;i++)for(let e=0;e<r;e++)i>e?s.set(i,e,t.get(i,e)):i===e?s.set(i,e,1):s.set(i,e,0);return s}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,s=new v(e,r);for(let i=0;i<e;i++)for(let e=0;e<r;e++)i<=e?s.set(i,e,t.get(i,e)):s.set(i,e,0);return s}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function N(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class A{constructor(t){let e,r,s,i,n=(t=T.checkMatrix(t)).clone(),o=t.rows,a=t.columns,l=new Float64Array(a);for(s=0;s<a;s++){let t=0;for(e=s;e<o;e++)t=N(t,n.get(e,s));if(0!==t){for(0>n.get(s,s)&&(t=-t),e=s;e<o;e++)n.set(e,s,n.get(e,s)/t);for(n.set(s,s,n.get(s,s)+1),r=s+1;r<a;r++){for(i=0,e=s;e<o;e++)i+=n.get(e,s)*n.get(e,r);for(i=-i/n.get(s,s),e=s;e<o;e++)n.set(e,r,n.get(e,r)+i*n.get(e,s))}}l[s]=-t}this.QR=n,this.Rdiag=l}solve(t){let e,r,s,i;t=v.checkMatrix(t);let n=this.QR,o=n.rows;if(t.rows!==o)throw Error("Matrix row dimensions must agree");if(!this.isFullRank())throw Error("Matrix is rank deficient");let a=t.columns,l=t.clone(),u=n.columns;for(s=0;s<u;s++)for(r=0;r<a;r++){for(i=0,e=s;e<o;e++)i+=n.get(e,s)*l.get(e,r);for(i=-i/n.get(s,s),e=s;e<o;e++)l.set(e,r,l.get(e,r)+i*n.get(e,s))}for(s=u-1;s>=0;s--){for(r=0;r<a;r++)l.set(s,r,l.get(s,r)/this.Rdiag[s]);for(e=0;e<s;e++)for(r=0;r<a;r++)l.set(e,r,l.get(e,r)-l.get(s,r)*n.get(e,s))}return l.subMatrix(0,u-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,s=r.columns,i=new v(s,s);for(t=0;t<s;t++)for(e=0;e<s;e++)t<e?i.set(t,e,r.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,r,s,i=this.QR,n=i.rows,o=i.columns,a=new v(n,o);for(r=o-1;r>=0;r--){for(t=0;t<n;t++)a.set(t,r,0);for(a.set(r,r,1),e=r;e<o;e++)if(0!==i.get(r,r)){for(s=0,t=r;t<n;t++)s+=i.get(t,r)*a.get(t,e);for(s=-s/i.get(r,r),t=r;t<n;t++)a.set(t,e,a.get(t,e)+s*i.get(t,r))}}return a}}class D{constructor(t,e={}){let r;if((t=T.checkMatrix(t)).isEmpty())throw Error("Matrix must be non-empty");let s=t.rows,i=t.columns,{computeLeftSingularVectors:n=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e,l=!!n,u=!!o,h=!1;if(s<i)if(a){s=(r=t.transpose()).rows,i=r.columns,h=!0;let e=l;l=u,u=e}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=t.clone();let c=Math.min(s,i),f=Math.min(s+1,i),d=new Float64Array(f),m=new v(s,c),g=new v(i,i),w=new Float64Array(i),p=new Float64Array(s),y=new Float64Array(f);for(let t=0;t<f;t++)y[t]=t;let b=Math.min(s-1,i),_=Math.max(0,Math.min(i-2,s)),k=Math.max(b,_);for(let t=0;t<k;t++){if(t<b){d[t]=0;for(let e=t;e<s;e++)d[t]=N(d[t],r.get(e,t));if(0!==d[t]){0>r.get(t,t)&&(d[t]=-d[t]);for(let e=t;e<s;e++)r.set(e,t,r.get(e,t)/d[t]);r.set(t,t,r.get(t,t)+1)}d[t]=-d[t]}for(let e=t+1;e<i;e++){if(t<b&&0!==d[t]){let i=0;for(let n=t;n<s;n++)i+=r.get(n,t)*r.get(n,e);i=-i/r.get(t,t);for(let n=t;n<s;n++)r.set(n,e,r.get(n,e)+i*r.get(n,t))}w[e]=r.get(t,e)}if(l&&t<b)for(let e=t;e<s;e++)m.set(e,t,r.get(e,t));if(t<_){w[t]=0;for(let e=t+1;e<i;e++)w[t]=N(w[t],w[e]);if(0!==w[t]){w[t+1]<0&&(w[t]=0-w[t]);for(let e=t+1;e<i;e++)w[e]/=w[t];w[t+1]+=1}if(w[t]=-w[t],t+1<s&&0!==w[t]){for(let e=t+1;e<s;e++)p[e]=0;for(let e=t+1;e<s;e++)for(let s=t+1;s<i;s++)p[e]+=w[s]*r.get(e,s);for(let e=t+1;e<i;e++){let i=-w[e]/w[t+1];for(let n=t+1;n<s;n++)r.set(n,e,r.get(n,e)+i*p[n])}}if(u)for(let e=t+1;e<i;e++)g.set(e,t,w[e])}}let x=Math.min(i,s+1);if(b<i&&(d[b]=r.get(b,b)),s<x&&(d[x-1]=0),_+1<x&&(w[_]=r.get(_,x-1)),w[x-1]=0,l){for(let t=b;t<c;t++){for(let e=0;e<s;e++)m.set(e,t,0);m.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<c;e++){let r=0;for(let i=t;i<s;i++)r+=m.get(i,t)*m.get(i,e);r=-r/m.get(t,t);for(let i=t;i<s;i++)m.set(i,e,m.get(i,e)+r*m.get(i,t))}for(let e=t;e<s;e++)m.set(e,t,-m.get(e,t));m.set(t,t,1+m.get(t,t));for(let e=0;e<t-1;e++)m.set(e,t,0)}else{for(let e=0;e<s;e++)m.set(e,t,0);m.set(t,t,1)}}if(u)for(let t=i-1;t>=0;t--){if(t<_&&0!==w[t])for(let e=t+1;e<i;e++){let r=0;for(let s=t+1;s<i;s++)r+=g.get(s,t)*g.get(s,e);r=-r/g.get(t+1,t);for(let s=t+1;s<i;s++)g.set(s,e,g.get(s,e)+r*g.get(s,t))}for(let e=0;e<i;e++)g.set(e,t,0);g.set(t,t,1)}let M=x-1,S=Number.EPSILON;for(;x>0;){let t,e;for(t=x-2;t>=-1&&-1!==t;t--){let e=5e-324+S*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(w[t])<=e||Number.isNaN(w[t])){w[t]=0;break}}if(t===x-2)e=4;else{let r;for(r=x-1;r>=t&&r!==t;r--){let e=(r!==x?Math.abs(w[r]):0)+(r!==t+1?Math.abs(w[r-1]):0);if(Math.abs(d[r])<=S*e){d[r]=0;break}}r===t?e=3:r===x-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=w[x-2];w[x-2]=0;for(let r=x-2;r>=t;r--){let s=N(d[r],e),n=d[r]/s,o=e/s;if(d[r]=s,r!==t&&(e=-o*w[r-1],w[r-1]=n*w[r-1]),u)for(let t=0;t<i;t++)s=n*g.get(t,r)+o*g.get(t,x-1),g.set(t,x-1,-o*g.get(t,r)+n*g.get(t,x-1)),g.set(t,r,s)}break}case 2:{let e=w[t-1];w[t-1]=0;for(let r=t;r<x;r++){let i=N(d[r],e),n=d[r]/i,o=e/i;if(d[r]=i,e=-o*w[r],w[r]=n*w[r],l)for(let e=0;e<s;e++)i=n*m.get(e,r)+o*m.get(e,t-1),m.set(e,t-1,-o*m.get(e,r)+n*m.get(e,t-1)),m.set(e,r,i)}break}case 3:{let e=Math.max(Math.abs(d[x-1]),Math.abs(d[x-2]),Math.abs(w[x-2]),Math.abs(d[t]),Math.abs(w[t])),r=d[x-1]/e,n=d[x-2]/e,o=w[x-2]/e,a=d[t]/e,h=w[t]/e,c=((n+r)*(n-r)+o*o)/2,f=r*o*(r*o),p=0;(0!==c||0!==f)&&(p=c<0?0-Math.sqrt(c*c+f):Math.sqrt(c*c+f),p=f/(c+p));let y=(a+r)*(a-r)+p,b=a*h;for(let e=t;e<x-1;e++){let r=N(y,b);0===r&&(r=5e-324);let n=y/r,o=b/r;if(e!==t&&(w[e-1]=r),y=n*d[e]+o*w[e],w[e]=n*w[e]-o*d[e],b=o*d[e+1],d[e+1]=n*d[e+1],u)for(let t=0;t<i;t++)r=n*g.get(t,e)+o*g.get(t,e+1),g.set(t,e+1,-o*g.get(t,e)+n*g.get(t,e+1)),g.set(t,e,r);if(0===(r=N(y,b))&&(r=5e-324),n=y/r,o=b/r,d[e]=r,y=n*w[e]+o*d[e+1],d[e+1]=-o*w[e]+n*d[e+1],b=o*w[e+1],w[e+1]=n*w[e+1],l&&e<s-1)for(let t=0;t<s;t++)r=n*m.get(t,e)+o*m.get(t,e+1),m.set(t,e+1,-o*m.get(t,e)+n*m.get(t,e+1)),m.set(t,e,r)}w[x-2]=y;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,u))for(let e=0;e<=M;e++)g.set(e,t,-g.get(e,t));for(;t<M&&!(d[t]>=d[t+1]);){let e=d[t];if(d[t]=d[t+1],d[t+1]=e,u&&t<i-1)for(let r=0;r<i;r++)e=g.get(r,t+1),g.set(r,t+1,g.get(r,t)),g.set(r,t,e);if(l&&t<s-1)for(let r=0;r<s;r++)e=m.get(r,t+1),m.set(r,t+1,m.get(r,t)),m.set(r,t,e);t++}x--}}if(h){let t=g;g=m,m=t}this.m=s,this.n=i,this.s=d,this.U=m,this.V=g}solve(t){let e=this.threshold,r=this.s.length,s=v.zeros(r,r);for(let t=0;t<r;t++)Math.abs(this.s[t])<=e?s.set(t,t,0):s.set(t,t,1/this.s[t]);let i=this.U,n=this.rightSingularVectors,o=n.mmul(s),a=n.rows,l=i.rows,u=v.zeros(a,l);for(let t=0;t<a;t++)for(let e=0;e<l;e++){let s=0;for(let n=0;n<r;n++)s+=o.get(t,n)*i.get(e,n);u.set(t,e,s)}return u.mmul(t)}solveForDiagonal(t){return this.solve(v.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,s=t.columns,i=new v(r,this.s.length);for(let n=0;n<r;n++)for(let r=0;r<s;r++)Math.abs(this.s[r])>e&&i.set(n,r,t.get(n,r)/this.s[r]);let n=this.U,o=n.rows,a=n.columns,l=new v(r,o);for(let t=0;t<r;t++)for(let e=0;e<o;e++){let r=0;for(let s=0;s<a;s++)r+=i.get(t,s)*n.get(e,s);l.set(t,e,r)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let s=0,i=r.length;s<i;s++)r[s]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return v.diag(this.s)}}function z(t,e,r=!1){return(t=T.checkMatrix(t),e=T.checkMatrix(e),r)?new D(t).solve(e):t.isSquare()?new O(t).solve(e):new A(t).solve(e)}class I{constructor(t,e={}){let r,s,{assumeSymmetric:i=!1}=e;if(!(t=T.checkMatrix(t)).isSquare())throw Error("Matrix is not a square matrix");if(t.isEmpty())throw Error("Matrix must be non-empty");let n=t.columns,o=new v(n,n),a=new Float64Array(n),l=new Float64Array(n),u=t;if(i||t.isSymmetric()){for(r=0;r<n;r++)for(s=0;s<n;s++)o.set(r,s,u.get(r,s));(function(t,e,r,s){let i,n,o,a,l,u,h,c;for(l=0;l<t;l++)r[l]=s.get(t-1,l);for(a=t-1;a>0;a--){for(u=0,c=0,o=0;u<a;u++)c+=Math.abs(r[u]);if(0===c)for(l=0,e[a]=r[a-1];l<a;l++)r[l]=s.get(a-1,l),s.set(a,l,0),s.set(l,a,0);else{for(u=0;u<a;u++)r[u]/=c,o+=r[u]*r[u];for(i=r[a-1],n=Math.sqrt(o),i>0&&(n=-n),e[a]=c*n,o-=i*n,r[a-1]=i-n,l=0;l<a;l++)e[l]=0;for(l=0;l<a;l++){for(i=r[l],s.set(l,a,i),n=e[l]+s.get(l,l)*i,u=l+1;u<=a-1;u++)n+=s.get(u,l)*r[u],e[u]+=s.get(u,l)*i;e[l]=n}for(l=0,i=0;l<a;l++)e[l]/=o,i+=e[l]*r[l];for(l=0,h=i/(o+o);l<a;l++)e[l]-=h*r[l];for(l=0;l<a;l++){for(i=r[l],n=e[l],u=l;u<=a-1;u++)s.set(u,l,s.get(u,l)-(i*e[u]+n*r[u]));r[l]=s.get(a-1,l),s.set(a,l,0)}}r[a]=o}for(a=0;a<t-1;a++){if(s.set(t-1,a,s.get(a,a)),s.set(a,a,1),0!==(o=r[a+1])){for(u=0;u<=a;u++)r[u]=s.get(u,a+1)/o;for(l=0;l<=a;l++){for(u=0,n=0;u<=a;u++)n+=s.get(u,a+1)*s.get(u,l);for(u=0;u<=a;u++)s.set(u,l,s.get(u,l)-n*r[u])}}for(u=0;u<=a;u++)s.set(u,a+1,0)}for(l=0;l<t;l++)r[l]=s.get(t-1,l),s.set(t-1,l,0);s.set(t-1,t-1,1),e[0]=0})(n,l,a,o),function(t,e,r,s){let i,n,o,a,l,u,h,c,f,d,m,g,w,p,y,b;for(o=1;o<t;o++)e[o-1]=e[o];e[t-1]=0;let _=0,v=0,k=Number.EPSILON;for(u=0;u<t;u++){for(v=Math.max(v,Math.abs(r[u])+Math.abs(e[u])),h=u;h<t&&!(Math.abs(e[h])<=k*v);)h++;if(h>u)do{for(i=r[u],f=N(c=(r[u+1]-i)/(2*e[u]),1),c<0&&(f=-f),r[u]=e[u]/(c+f),r[u+1]=e[u]*(c+f),d=r[u+1],n=i-r[u],o=u+2;o<t;o++)r[o]-=n;for(_+=n,c=r[h],g=m=1,w=m,p=e[u+1],y=0,b=0,o=h-1;o>=u;o--)for(l=0,w=g,g=m,b=y,i=m*e[o],n=m*c,f=N(c,e[o]),e[o+1]=y*f,y=e[o]/f,c=(m=c/f)*r[o]-y*i,r[o+1]=n+y*(m*i+y*r[o]);l<t;l++)n=s.get(l,o+1),s.set(l,o+1,y*s.get(l,o)+m*n),s.set(l,o,m*s.get(l,o)-y*n);c=-y*b*w*p*e[u]/d,e[u]=y*c,r[u]=m*c}while(Math.abs(e[u])>k*v)r[u]=r[u]+_,e[u]=0}for(o=0;o<t-1;o++){for(l=o,c=r[o],a=o+1;a<t;a++)r[a]<c&&(l=a,c=r[a]);if(l!==o)for(a=0,r[l]=r[o],r[o]=c;a<t;a++)c=s.get(a,o),s.set(a,o,s.get(a,l)),s.set(a,l,c)}}(n,l,a,o)}else{let t=new v(n,n),e=new Float64Array(n);for(s=0;s<n;s++)for(r=0;r<n;r++)t.set(r,s,u.get(r,s));(function(t,e,r,s){let i,n,o,a,l,u,h,c=t-1;for(u=1;u<=c-1;u++){for(h=0,a=u;a<=c;a++)h+=Math.abs(e.get(a,u-1));if(0!==h){for(o=0,a=c;a>=u;a--)r[a]=e.get(a,u-1)/h,o+=r[a]*r[a];for(n=Math.sqrt(o),r[u]>0&&(n=-n),o-=r[u]*n,r[u]=r[u]-n,l=u;l<t;l++){for(i=0,a=c;a>=u;a--)i+=r[a]*e.get(a,l);for(i/=o,a=u;a<=c;a++)e.set(a,l,e.get(a,l)-i*r[a])}for(a=0;a<=c;a++){for(i=0,l=c;l>=u;l--)i+=r[l]*e.get(a,l);for(i/=o,l=u;l<=c;l++)e.set(a,l,e.get(a,l)-i*r[l])}r[u]=h*r[u],e.set(u,u-1,h*n)}}for(a=0;a<t;a++)for(l=0;l<t;l++)s.set(a,l,+(a===l));for(u=c-1;u>=1;u--)if(0!==e.get(u,u-1)){for(a=u+1;a<=c;a++)r[a]=e.get(a,u-1);for(l=u;l<=c;l++){for(n=0,a=u;a<=c;a++)n+=r[a]*s.get(a,l);for(n=n/r[u]/e.get(u,u-1),a=u;a<=c;a++)s.set(a,l,s.get(a,l)+n*r[a])}}})(n,t,e,o),function(t,e,r,s,i){let n,o,a,l,u,h,c,f,d,m,g,w,p,y,b,_=t-1,v=t-1,k=Number.EPSILON,x=0,M=0,S=0,E=0,T=0,O=0,N=0,A=0;for(n=0;n<t;n++)for((n<0||n>v)&&(r[n]=i.get(n,n),e[n]=0),o=Math.max(n-1,0);o<t;o++)M+=Math.abs(i.get(n,o));for(;_>=0;){for(l=_;l>0&&(0===(O=Math.abs(i.get(l-1,l-1))+Math.abs(i.get(l,l)))&&(O=M),!(Math.abs(i.get(l,l-1))<k*O));)l--;if(l===_)i.set(_,_,i.get(_,_)+x),r[_]=i.get(_,_),e[_]=0,_--,A=0;else if(l===_-1){if(c=i.get(_,_-1)*i.get(_-1,_),N=Math.sqrt(Math.abs(E=(S=(i.get(_-1,_-1)-i.get(_,_))/2)*S+c)),i.set(_,_,i.get(_,_)+x),i.set(_-1,_-1,i.get(_-1,_-1)+x),f=i.get(_,_),E>=0){for(N=S>=0?S+N:S-N,r[_-1]=f+N,r[_]=r[_-1],0!==N&&(r[_]=f-c/N),e[_-1]=0,e[_]=0,O=Math.abs(f=i.get(_,_-1))+Math.abs(N),T=Math.sqrt((S=f/O)*S+(E=N/O)*E),S/=T,E/=T,o=_-1;o<t;o++)N=i.get(_-1,o),i.set(_-1,o,E*N+S*i.get(_,o)),i.set(_,o,E*i.get(_,o)-S*N);for(n=0;n<=_;n++)N=i.get(n,_-1),i.set(n,_-1,E*N+S*i.get(n,_)),i.set(n,_,E*i.get(n,_)-S*N);for(n=0;n<=v;n++)N=s.get(n,_-1),s.set(n,_-1,E*N+S*s.get(n,_)),s.set(n,_,E*s.get(n,_)-S*N)}else r[_-1]=f+S,r[_]=f+S,e[_-1]=N,e[_]=-N;_-=2,A=0}else{if(f=i.get(_,_),d=0,c=0,l<_&&(d=i.get(_-1,_-1),c=i.get(_,_-1)*i.get(_-1,_)),10===A){for(x+=f,n=0;n<=_;n++)i.set(n,n,i.get(n,n)-f);f=d=.75*(O=Math.abs(i.get(_,_-1))+Math.abs(i.get(_-1,_-2))),c=-.4375*O*O}if(30===A&&(O=(O=(d-f)/2)*O+c)>0){for(O=Math.sqrt(O),d<f&&(O=-O),O=f-c/((d-f)/2+O),n=0;n<=_;n++)i.set(n,n,i.get(n,n)-O);x+=O,f=d=c=.964}for(A+=1,u=_-2;u>=l&&(S=((T=f-(N=i.get(u,u)))*(O=d-N)-c)/i.get(u+1,u)+i.get(u,u+1),O=Math.abs(S)+Math.abs(E=i.get(u+1,u+1)-N-T-O)+Math.abs(T=i.get(u+2,u+1)),S/=O,E/=O,T/=O,!(u===l||Math.abs(i.get(u,u-1))*(Math.abs(E)+Math.abs(T))<k*(Math.abs(S)*(Math.abs(i.get(u-1,u-1))+Math.abs(N)+Math.abs(i.get(u+1,u+1))))));)u--;for(n=u+2;n<=_;n++)i.set(n,n-2,0),n>u+2&&i.set(n,n-3,0);for(a=u;a<=_-1&&(y=a!==_-1,a!==u&&(S=i.get(a,a-1),0!==(f=Math.abs(S)+Math.abs(E=i.get(a+1,a-1))+Math.abs(T=y?i.get(a+2,a-1):0))&&(S/=f,E/=f,T/=f)),0!==f);a++)if(O=Math.sqrt(S*S+E*E+T*T),S<0&&(O=-O),0!==O){for(a!==u?i.set(a,a-1,-O*f):l!==u&&i.set(a,a-1,-i.get(a,a-1)),S+=O,f=S/O,d=E/O,N=T/O,E/=S,T/=S,o=a;o<t;o++)S=i.get(a,o)+E*i.get(a+1,o),y&&(S+=T*i.get(a+2,o),i.set(a+2,o,i.get(a+2,o)-S*N)),i.set(a,o,i.get(a,o)-S*f),i.set(a+1,o,i.get(a+1,o)-S*d);for(n=0;n<=Math.min(_,a+3);n++)S=f*i.get(n,a)+d*i.get(n,a+1),y&&(S+=N*i.get(n,a+2),i.set(n,a+2,i.get(n,a+2)-S*T)),i.set(n,a,i.get(n,a)-S),i.set(n,a+1,i.get(n,a+1)-S*E);for(n=0;n<=v;n++)S=f*s.get(n,a)+d*s.get(n,a+1),y&&(S+=N*s.get(n,a+2),s.set(n,a+2,s.get(n,a+2)-S*T)),s.set(n,a,s.get(n,a)-S),s.set(n,a+1,s.get(n,a+1)-S*E)}}}if(0!==M){for(_=t-1;_>=0;_--)if(S=r[_],0===(E=e[_]))for(l=_,i.set(_,_,1),n=_-1;n>=0;n--){for(c=i.get(n,n)-S,T=0,o=l;o<=_;o++)T+=i.get(n,o)*i.get(o,_);if(e[n]<0)N=c,O=T;else if(l=n,0===e[n]?i.set(n,_,0!==c?-T/c:-T/(k*M)):(f=i.get(n,n+1),d=i.get(n+1,n),h=(f*O-N*T)/(E=(r[n]-S)*(r[n]-S)+e[n]*e[n]),i.set(n,_,h),i.set(n+1,_,Math.abs(f)>Math.abs(N)?(-T-c*h)/f:(-O-d*h)/N)),k*(h=Math.abs(i.get(n,_)))*h>1)for(o=n;o<=_;o++)i.set(o,_,i.get(o,_)/h)}else if(E<0)for(l=_-1,Math.abs(i.get(_,_-1))>Math.abs(i.get(_-1,_))?(i.set(_-1,_-1,E/i.get(_,_-1)),i.set(_-1,_,-(i.get(_,_)-S)/i.get(_,_-1))):(b=R(0,-i.get(_-1,_),i.get(_-1,_-1)-S,E),i.set(_-1,_-1,b[0]),i.set(_-1,_,b[1])),i.set(_,_-1,0),i.set(_,_,1),n=_-2;n>=0;n--){for(m=0,g=0,o=l;o<=_;o++)m+=i.get(n,o)*i.get(o,_-1),g+=i.get(n,o)*i.get(o,_);if(c=i.get(n,n)-S,e[n]<0)N=c,T=m,O=g;else if(l=n,0===e[n]?(b=R(-m,-g,c,E),i.set(n,_-1,b[0]),i.set(n,_,b[1])):(f=i.get(n,n+1),d=i.get(n+1,n),w=(r[n]-S)*(r[n]-S)+e[n]*e[n]-E*E,p=(r[n]-S)*2*E,0===w&&0===p&&(w=k*M*(Math.abs(c)+Math.abs(E)+Math.abs(f)+Math.abs(d)+Math.abs(N))),b=R(f*T-N*m+E*g,f*O-N*g-E*m,w,p),i.set(n,_-1,b[0]),i.set(n,_,b[1]),Math.abs(f)>Math.abs(N)+Math.abs(E)?(i.set(n+1,_-1,(-m-c*i.get(n,_-1)+E*i.get(n,_))/f),i.set(n+1,_,(-g-c*i.get(n,_)-E*i.get(n,_-1))/f)):(b=R(-T-d*i.get(n,_-1),-O-d*i.get(n,_),N,E),i.set(n+1,_-1,b[0]),i.set(n+1,_,b[1]))),k*(h=Math.max(Math.abs(i.get(n,_-1)),Math.abs(i.get(n,_))))*h>1)for(o=n;o<=_;o++)i.set(o,_-1,i.get(o,_-1)/h),i.set(o,_,i.get(o,_)/h)}for(n=0;n<t;n++)if(n<0||n>v)for(o=n;o<t;o++)s.set(n,o,i.get(n,o));for(o=t-1;o>=0;o--)for(n=0;n<=v;n++){for(a=0,N=0;a<=Math.min(o,v);a++)N+=s.get(n,a)*i.get(a,o);s.set(n,o,N)}}}(n,l,a,o,t)}this.n=n,this.e=l,this.d=a,this.V=o}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,s=this.e,i=this.d,n=new v(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)n.set(t,e,0);n.set(t,t,i[t]),s[t]>0?n.set(t,t+1,s[t]):s[t]<0&&n.set(t,t-1,s[t])}return n}}function R(t,e,r,s){let i,n;return Math.abs(r)>Math.abs(s)?(i=s/r,n=r+i*s,[(t+i*e)/n,(e-i*t)/n]):(i=r/s,n=s+i*r,[(i*t+e)/n,(i*e-t)/n])}class V{constructor(t){let e,r,s;if(!(t=T.checkMatrix(t)).isSymmetric())throw Error("Matrix is not symmetric");let i=t,n=i.rows,o=new v(n,n),a=!0;for(r=0;r<n;r++){let t=0;for(s=0;s<r;s++){let n=0;for(e=0;e<s;e++)n+=o.get(s,e)*o.get(r,e);n=(i.get(r,s)-n)/o.get(s,s),o.set(r,s,n),t+=n*n}for(t=i.get(r,r)-t,a&&=t>0,o.set(r,r,Math.sqrt(Math.max(t,0))),s=r+1;s<n;s++)o.set(r,s,0)}this.L=o,this.positiveDefinite=a}isPositiveDefinite(){return this.positiveDefinite}solve(t){let e,r,s;t=T.checkMatrix(t);let i=this.L,n=i.rows;if(t.rows!==n)throw Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw Error("Matrix is not positive definite");let o=t.columns,a=t.clone();for(s=0;s<n;s++)for(r=0;r<o;r++){for(e=0;e<s;e++)a.set(s,r,a.get(s,r)-a.get(e,r)*i.get(s,e));a.set(s,r,a.get(s,r)/i.get(s,s))}for(s=n-1;s>=0;s--)for(r=0;r<o;r++){for(e=s+1;e<n;e++)a.set(s,r,a.get(s,r)-a.get(e,r)*i.get(e,s));a.set(s,r,a.get(s,r)/i.get(s,s))}return a}get lowerTriangularMatrix(){return this.L}}class C{constructor(t,e={}){let r,i,n,o,a;t=T.checkMatrix(t);let{Y:l}=e,{scaleScores:u=!1,maxIterations:h=1e3,terminationCriteria:c=1e-10}=e;if(l){if((l=s.isAnyArray(l)&&"number"==typeof l[0]?v.columnVector(l):T.checkMatrix(l)).rows!==t.rows)throw Error("Y should have the same number of rows as X");r=l.getColumnVector(0)}else r=t.getColumnVector(0);let f=1;for(let e=0;e<h&&f>c;e++)o=(o=t.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0))).div(o.norm()),i=t.mmul(o).div(o.transpose().mmul(o).get(0,0)),e>0&&(f=i.clone().sub(a).pow(2).sum()),a=i.clone(),l?(n=(n=l.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0))).div(n.norm()),r=l.mmul(n).div(n.transpose().mmul(n).get(0,0))):r=i;if(l){let e=t.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0));e=e.div(e.norm());let s=t.clone().sub(i.clone().mmul(e.transpose())),a=r.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0)),u=l.clone().sub(i.clone().mulS(a.get(0,0)).mmul(n.transpose()));this.t=i,this.p=e.transpose(),this.w=o.transpose(),this.q=n,this.u=r,this.s=i.transpose().mmul(i),this.xResidual=s,this.yResidual=u,this.betas=a}else this.w=o.transpose(),this.s=i.transpose().mmul(i).sqrt(),u?this.t=i.clone().div(this.s.get(0,0)):this.t=i,this.xResidual=t.sub(i.mmul(o.transpose()))}}e.AbstractMatrix=b,e.CHO=V,e.CholeskyDecomposition=V,e.DistanceMatrix=x,e.EVD=I,e.EigenvalueDecomposition=I,e.LU=O,e.LuDecomposition=O,e.Matrix=v,e.MatrixColumnSelectionView=class extends M{constructor(t,e){m(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}},e.MatrixColumnView=class extends M{constructor(t,e){h(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}},e.MatrixFlipColumnView=class extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}},e.MatrixFlipRowView=class extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}},e.MatrixRowSelectionView=class extends M{constructor(t,e){d(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},e.MatrixRowView=class extends M{constructor(t,e){u(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}},e.MatrixSelectionView=S,e.MatrixSubView=class extends M{constructor(t,e,r,s,i){g(t,e,r,s,i),super(t,r-e+1,i-s+1),this.startRow=e,this.startColumn=s}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}},e.MatrixTransposeView=class extends M{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}},e.NIPALS=C,e.Nipals=C,e.QR=A,e.QrDecomposition=A,e.SVD=D,e.SingularValueDecomposition=D,e.SymmetricMatrix=k,e.WrapperMatrix1D=E,e.WrapperMatrix2D=T,e.correlation=function(t,e=t,r={}){t=new v(t);let i=!1;if("object"!=typeof e||v.isMatrix(e)||s.isAnyArray(e)?e=new v(e):(r=e,e=t,i=!0),t.rows!==e.rows)throw TypeError("Both matrices must have the same number of rows");let{center:n=!0,scale:o=!0}=r;n&&(t.center("column"),i||e.center("column")),o&&(t.scale("column"),i||e.scale("column"));let a=t.standardDeviation("column",{unbiased:!0}),l=i?a:e.standardDeviation("column",{unbiased:!0}),u=t.transpose().mmul(e);for(let e=0;e<u.rows;e++)for(let r=0;r<u.columns;r++)u.set(e,r,u.get(e,r)*(1/(a[e]*l[r]))*(1/(t.rows-1)));return u},e.covariance=function(t,e=t,r={}){t=new v(t);let i=!1;if("object"!=typeof e||v.isMatrix(e)||s.isAnyArray(e)?e=new v(e):(r=e,e=t,i=!0),t.rows!==e.rows)throw TypeError("Both matrices must have the same number of rows");let{center:n=!0}=r;n&&(t=t.center("column"),i||(e=e.center("column")));let o=t.transpose().mmul(e);for(let e=0;e<o.rows;e++)for(let r=0;r<o.columns;r++)o.set(e,r,o.get(e,r)*(1/(t.rows-1)));return o},e.determinant=function t(e){if((e=v.checkMatrix(e)).isSquare()){let r,s,i;if(0===e.columns)return 1;if(2===e.columns)return r=e.get(0,0),s=e.get(0,1),i=e.get(1,0),r*e.get(1,1)-s*i;if(3!==e.columns)return new O(e).determinant;{let n,o,a;return n=new S(e,[1,2],[1,2]),o=new S(e,[1,2],[0,2]),a=new S(e,[1,2],[0,1]),r=e.get(0,0),s=e.get(0,1),i=e.get(0,2),r*t(n)-s*t(o)+i*t(a)}}throw Error("determinant can only be calculated for a square matrix")},e.inverse=function(t,e=!1){return(t=T.checkMatrix(t),e)?new D(t).inverse():z(t,v.eye(t.rows))},e.linearDependencies=function(t,e={}){let{thresholdValue:r=1e-9,thresholdError:s=1e-9}=e,i=(t=v.checkMatrix(t)).rows,n=new v(i,i);for(let e=0;e<i;e++){let o=v.columnVector(t.getRow(e)),a=t.subMatrixRow(function(t,e){let r=[];for(let s=0;s<t;s++)s!==e&&r.push(s);return r}(i,e)).transpose(),l=new D(a).solve(o),u=v.sub(o,a.mmul(l)).abs().max();n.setRow(e,function(t,e,r,s=1e-9,i=1e-9){if(t>i)return Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<s&&t.set(e,0,0);return t.to1DArray()}}(u,l,e,r,s))}return n},e.pseudoInverse=function(t,e=Number.EPSILON){if((t=v.checkMatrix(t)).isEmpty())return t.transpose();let r=new D(t,{autoTranspose:!0}),s=r.leftSingularVectors,i=r.rightSingularVectors,n=r.diagonal;for(let t=0;t<n.length;t++)Math.abs(n[t])>e?n[t]=1/n[t]:n[t]=0;return i.mmul(v.diag(n).mmul(s.transpose()))},e.solve=z,e.wrap=function(t,e){if(s.isAnyArray(t))if(t[0]&&s.isAnyArray(t[0]))return new T(t);else return new E(t,e);throw Error("the argument is not an array")}},28097(t,e,r){"use strict";let s;r.d(e,{c9:()=>rB});class i extends Error{}class n extends i{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class o extends i{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class a extends i{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class l extends i{}class u extends i{constructor(t){super(`Invalid unit ${t}`)}}class h extends i{}class c extends i{constructor(){super("Zone is an abstract class")}}let f="numeric",d="short",m="long",g={year:f,month:f,day:f},w={year:f,month:d,day:f},p={year:f,month:d,day:f,weekday:d},y={year:f,month:m,day:f},b={year:f,month:m,day:f,weekday:m},_={hour:f,minute:f},v={hour:f,minute:f,second:f},k={hour:f,minute:f,second:f,timeZoneName:d},x={hour:f,minute:f,second:f,timeZoneName:m},M={hour:f,minute:f,hourCycle:"h23"},S={hour:f,minute:f,second:f,hourCycle:"h23"},E={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:d},T={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:m},O={year:f,month:f,day:f,hour:f,minute:f},N={year:f,month:f,day:f,hour:f,minute:f,second:f},A={year:f,month:d,day:f,hour:f,minute:f},D={year:f,month:d,day:f,hour:f,minute:f,second:f},z={year:f,month:d,day:f,weekday:d,hour:f,minute:f},I={year:f,month:m,day:f,hour:f,minute:f,timeZoneName:d},R={year:f,month:m,day:f,hour:f,minute:f,second:f,timeZoneName:d},V={year:f,month:m,day:f,weekday:m,hour:f,minute:f,timeZoneName:m},C={year:f,month:m,day:f,weekday:m,hour:f,minute:f,second:f,timeZoneName:m};class F{get type(){throw new c}get name(){throw new c}get ianaName(){return this.name}get isUniversal(){throw new c}offsetName(t,e){throw new c}formatOffset(t,e){throw new c}offset(t){throw new c}equals(t){throw new c}get isValid(){throw new c}}let L=null;class Z extends F{static get instance(){return null===L&&(L=new Z),L}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:r}){return t6(t,e,r)}formatOffset(t,e){return t9(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let $=new Map,U={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},q=new Map;class W extends F{static create(t){let e=q.get(t);return void 0===e&&q.set(t,e=new W(t)),e}static resetCache(){q.clear(),$.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(t){return!1}}constructor(t){super(),this.zoneName=t,this.valid=W.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:r}){return t6(t,e,r,this.name)}formatOffset(t,e){return t9(this.offset(t),e)}offset(t){var e;let r;if(!this.valid)return NaN;let s=new Date(t);if(isNaN(s))return NaN;let i=(e=this.name,void 0===(r=$.get(e))&&(r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),$.set(e,r)),r),[n,o,a,l,u,h,c]=i.formatToParts?function(t,e){let r=t.formatToParts(e),s=[];for(let t=0;t<r.length;t++){let{type:e,value:i}=r[t],n=U[e];"era"===e?s[n]=i:tF(n)||(s[n]=parseInt(i,10))}return s}(i,s):function(t,e){let r=t.format(e).replace(/\u200E/g,""),[,s,i,n,o,a,l,u]=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r);return[n,s,i,o,a,l,u]}(i,s);"BC"===l&&(n=-Math.abs(n)+1);let f=t0({year:n,month:o,day:a,hour:24===u?0:u,minute:h,second:c,millisecond:0}),d=+s,m=d%1e3;return(f-(d-=m>=0?m:1e3+m))/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let j={},P=new Map;function H(t,e={}){let r=JSON.stringify([t,e]),s=P.get(r);return void 0===s&&(s=new Intl.DateTimeFormat(t,e),P.set(r,s)),s}let Y=new Map,B=new Map,G=null,J=new Map;function Q(t){let e=J.get(t);return void 0===e&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),J.set(t,e)),e}let K=new Map;function X(t,e,r,s){let i=t.listingMode();return"error"===i?null:"en"===i?r(e):s(e)}class tt{constructor(t,e,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;let{padTo:s,floor:i,...n}=r;if(!e||Object.keys(n).length>0){let e={useGrouping:!1,...r};r.padTo>0&&(e.minimumIntegerDigits=r.padTo),this.inf=function(t,e={}){let r=JSON.stringify([t,e]),s=Y.get(r);return void 0===s&&(s=new Intl.NumberFormat(t,e),Y.set(r,s)),s}(t,e)}}format(t){if(!this.inf)return tH(this.floor?Math.floor(t):tJ(t,3),this.padTo);{let e=this.floor?Math.floor(t):t;return this.inf.format(e)}}}class te{constructor(t,e,r){let s;if(this.opts=r,this.originalZone=void 0,this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){let e=-1*(t.offset/60),r=e>=0?`Etc/GMT+${e}`:`Etc/GMT${e}`;0!==t.offset&&W.create(r).valid?(s=r,this.dt=t):(s="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);let i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=H(e,i)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(t=>{if("timeZoneName"!==t.type)return t;{let e=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:e}}}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class tr{constructor(t,e,r){this.opts={style:"long",...r},!e&&t$()&&(this.rtf=function(t,e={}){let{base:r,...s}=e,i=JSON.stringify([t,s]),n=B.get(i);return void 0===n&&(n=new Intl.RelativeTimeFormat(t,e),B.set(i,n)),n}(t,r))}format(t,e){return this.rtf?this.rtf.format(t,e):function(t,e,r="always",s=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=-1===["hours","minutes","seconds"].indexOf(t);if("auto"===r&&n){let r="days"===t;switch(e){case 1:return r?"tomorrow":`next ${i[t][0]}`;case -1:return r?"yesterday":`last ${i[t][0]}`;case 0:return r?"today":`this ${i[t][0]}`}}let o=Object.is(e,-0)||e<0,a=Math.abs(e),l=1===a,u=i[t],h=s?l?u[1]:u[2]||u[1]:l?i[t][0]:t;return o?`${a} ${h} ago`:`in ${a} ${h}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}let ts={firstDay:1,minimalDays:4,weekend:[6,7]};class ti{static fromOpts(t){return ti.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,r,s,i=!1){let n=t||tk.defaultLocale;return new ti(n||(i?"en-US":G||(G=new Intl.DateTimeFormat().resolvedOptions().locale)),e||tk.defaultNumberingSystem,r||tk.defaultOutputCalendar,tj(s)||tk.defaultWeekSettings,n)}static resetCache(){G=null,P.clear(),Y.clear(),B.clear(),J.clear(),K.clear()}static fromObject({locale:t,numberingSystem:e,outputCalendar:r,weekSettings:s}={}){return ti.create(t,e,r,s)}constructor(t,e,r,s,i){var n,o,a;let[l,u,h]=function(t){let e=t.indexOf("-x-");-1!==e&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(-1===r)return[t];{let e,s;try{e=H(t).resolvedOptions(),s=t}catch(n){let i=t.substring(0,r);e=H(i).resolvedOptions(),s=i}let{numberingSystem:i,calendar:n}=e;return[s,i,n]}}(t);this.locale=l,this.numberingSystem=e||u||null,this.outputCalendar=r||h||null,this.weekSettings=s,this.intl=(n=this.locale,o=this.numberingSystem,((a=this.outputCalendar)||o)&&(n.includes("-u-")||(n+="-u"),a&&(n+=`-ca-${a}`),o&&(n+=`-nu-${o}`)),n),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===Q(this.locale).numberingSystem)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),e=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return t&&e?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?ti.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,tj(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return X(this,t,es,()=>{let r="ja"===this.intl||this.intl.startsWith("ja-"),s=(e&=!r)?{month:t,day:"numeric"}:{month:t},i=e?"format":"standalone";if(!this.monthsCache[i][t]){let e=r?t=>this.dtFormatter(t,s).format():t=>this.extract(t,s,"month");this.monthsCache[i][t]=function(t){let e=[];for(let r=1;r<=12;r++){let s=rB.utc(2009,r,1);e.push(t(s))}return e}(e)}return this.monthsCache[i][t]})}weekdays(t,e=!1){return X(this,t,ea,()=>{let r=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=e?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=function(t){let e=[];for(let r=1;r<=7;r++){let s=rB.utc(2016,11,13+r);e.push(t(s))}return e}(t=>this.extract(t,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return X(this,void 0,()=>el,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[rB.utc(2016,11,13,9),rB.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return X(this,t,ef,()=>{let e={era:t};return this.eraCache[t]||(this.eraCache[t]=[rB.utc(-40,1,1),rB.utc(2017,1,1)].map(t=>this.extract(t,e,"era"))),this.eraCache[t]})}extract(t,e,r){let s=this.dtFormatter(t,e).formatToParts().find(t=>t.type.toLowerCase()===r);return s?s.value:null}numberFormatter(t={}){return new tt(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new te(t,this.intl,e)}relFormatter(t={}){return new tr(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function(t,e={}){let r=JSON.stringify([t,e]),s=j[r];return s||(s=new Intl.ListFormat(t,e),j[r]=s),s}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||Q(this.intl).locale.startsWith("en-us")}getWeekSettings(){if(this.weekSettings)return this.weekSettings;if(!tU())return ts;var t=this.locale;let e=K.get(t);if(!e){let r=new Intl.Locale(t);"minimalDays"in(e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo)||(e={...ts,...e}),K.set(t,e)}return e}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let tn=null;class to extends F{static get utcInstance(){return null===tn&&(tn=new to(0)),tn}static instance(t){return 0===t?to.utcInstance:new to(t)}static parseSpecifier(t){if(t){let e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new to(t3(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${t9(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${t9(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return t9(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class ta extends F{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function tl(t,e){if(tF(t)||null===t)return e;if(t instanceof F)return t;if("string"==typeof t){let r=t.toLowerCase();return"default"===r?e:"local"===r||"system"===r?Z.instance:"utc"===r||"gmt"===r?to.utcInstance:to.parseSpecifier(r)||W.create(t)}if(tL(t))return to.instance(t);if("object"==typeof t&&"offset"in t&&"function"==typeof t.offset)return t;else return new ta(t)}let tu={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},th={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},tc=tu.hanidec.replace(/[\[|\]]/g,"").split(""),tf=new Map;function td({numberingSystem:t},e=""){let r=t||"latn",s=tf.get(r);void 0===s&&(s=new Map,tf.set(r,s));let i=s.get(e);return void 0===i&&(i=RegExp(`${tu[r]}${e}`),s.set(e,i)),i}let tm=()=>Date.now(),tg="system",tw=null,tp=null,ty=null,tb=60,t_,tv=null;class tk{static get now(){return tm}static set now(t){tm=t}static set defaultZone(t){tg=t}static get defaultZone(){return tl(tg,Z.instance)}static get defaultLocale(){return tw}static set defaultLocale(t){tw=t}static get defaultNumberingSystem(){return tp}static set defaultNumberingSystem(t){tp=t}static get defaultOutputCalendar(){return ty}static set defaultOutputCalendar(t){ty=t}static get defaultWeekSettings(){return tv}static set defaultWeekSettings(t){tv=tj(t)}static get twoDigitCutoffYear(){return tb}static set twoDigitCutoffYear(t){tb=t%100}static get throwOnInvalid(){return t_}static set throwOnInvalid(t){t_=t}static resetCaches(){ti.resetCache(),W.resetCache(),rB.resetCache(),tf.clear()}}class tx{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}let tM=[0,31,59,90,120,151,181,212,243,273,304,334],tS=[0,31,60,91,121,152,182,213,244,274,305,335];function tE(t,e){return new tx("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function tT(t,e,r){let s=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);let i=s.getUTCDay();return 0===i?7:i}function tO(t,e){let r=tQ(t)?tS:tM,s=r.findIndex(t=>t<e),i=e-r[s];return{month:s+1,day:i}}function tN(t,e){return(t-e+7)%7+1}function tA(t,e=4,r=1){let{year:s,month:i,day:n}=t,o=n+(tQ(s)?tS:tM)[i-1],a=tN(tT(s,i,n),r),l=Math.floor((o-a+14-e)/7),u;return l<1?l=t2(u=s-1,e,r):l>t2(s,e,r)?(u=s+1,l=1):u=s,{weekYear:u,weekNumber:l,weekday:a,...t7(t)}}function tD(t,e=4,r=1){let{weekYear:s,weekNumber:i,weekday:n}=t,o=tN(tT(s,1,e),r),a=tK(s),l=7*i+n-o-7+e,u;l<1?l+=tK(u=s-1):l>a?(u=s+1,l-=tK(s)):u=s;let{month:h,day:c}=tO(u,l);return{year:u,month:h,day:c,...t7(t)}}function tz(t){let{year:e,month:r,day:s}=t,i=s+(tQ(e)?tS:tM)[r-1];return{year:e,ordinal:i,...t7(t)}}function tI(t){let{year:e,ordinal:r}=t,{month:s,day:i}=tO(e,r);return{year:e,month:s,day:i,...t7(t)}}function tR(t,e){if(!(!tF(t.localWeekday)||!tF(t.localWeekNumber)||!tF(t.localWeekYear)))return{minDaysInFirstWeek:4,startOfWeek:1};if(!tF(t.weekday)||!tF(t.weekNumber)||!tF(t.weekYear))throw new l("Cannot mix locale-based week fields with ISO-based week fields");return tF(t.localWeekday)||(t.weekday=t.localWeekday),tF(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),tF(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}function tV(t){let e=tZ(t.year),r=tP(t.month,1,12),s=tP(t.day,1,tX(t.year,t.month));return e?r?!s&&tE("day",t.day):tE("month",t.month):tE("year",t.year)}function tC(t){let{hour:e,minute:r,second:s,millisecond:i}=t,n=tP(e,0,23)||24===e&&0===r&&0===s&&0===i,o=tP(r,0,59),a=tP(s,0,59),l=tP(i,0,999);return n?o?a?!l&&tE("millisecond",i):tE("second",s):tE("minute",r):tE("hour",e)}function tF(t){return void 0===t}function tL(t){return"number"==typeof t}function tZ(t){return"number"==typeof t&&t%1==0}function t$(){try{return"u">typeof Intl&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function tU(){try{return"u">typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(t){return!1}}function tq(t,e,r){if(0!==t.length)return t.reduce((t,s)=>{let i=[e(s),s];return t&&r(t[0],i[0])===t[0]?t:i},null)[1]}function tW(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tj(t){if(null==t)return null;if("object"!=typeof t)throw new h("Week settings must be an object");if(!tP(t.firstDay,1,7)||!tP(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(t=>!tP(t,1,7)))throw new h("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function tP(t,e,r){return tZ(t)&&t>=e&&t<=r}function tH(t,e=2){return t<0?"-"+(""+-t).padStart(e,"0"):(""+t).padStart(e,"0")}function tY(t){if(!tF(t)&&null!==t&&""!==t)return parseInt(t,10)}function tB(t){if(!tF(t)&&null!==t&&""!==t)return parseFloat(t)}function tG(t){if(!tF(t)&&null!==t&&""!==t)return Math.floor(1e3*parseFloat("0."+t))}function tJ(t,e,r="round"){let s=10**e;switch(r){case"expand":return t>0?Math.ceil(t*s)/s:Math.floor(t*s)/s;case"trunc":return Math.trunc(t*s)/s;case"round":return Math.round(t*s)/s;case"floor":return Math.floor(t*s)/s;case"ceil":return Math.ceil(t*s)/s;default:throw RangeError(`Value rounding ${r} is out of range`)}}function tQ(t){return t%4==0&&(t%100!=0||t%400==0)}function tK(t){return tQ(t)?366:365}function tX(t,e){var r;let s=(r=e-1)-12*Math.floor(r/12)+1;return 2===s?tQ(t+(e-s)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][s-1]}function t0(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e)).setUTCFullYear(t.year,t.month-1,t.day),+e}function t1(t,e,r){return-tN(tT(t,1,e),r)+e-1}function t2(t,e=4,r=1){let s=t1(t,e,r),i=t1(t+1,e,r);return(tK(t)-s+i)/7}function t5(t){return t>99?t:t>tk.twoDigitCutoffYear?1900+t:2e3+t}function t6(t,e,r,s=null){let i=new Date(t),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(n.timeZone=s);let o={timeZoneName:e,...n},a=new Intl.DateTimeFormat(r,o).formatToParts(i).find(t=>"timezonename"===t.type.toLowerCase());return a?a.value:null}function t3(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let s=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-s:s;return 60*r+i}function t8(t){let e=Number(t);if("boolean"==typeof t||""===t||!Number.isFinite(e))throw new h(`Invalid unit value ${t}`);return e}function t4(t,e){let r={};for(let s in t)if(tW(t,s)){let i=t[s];if(null==i)continue;r[e(s)]=t8(i)}return r}function t9(t,e){let r=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${tH(r,2)}:${tH(s,2)}`;case"narrow":return`${i}${r}${s>0?`:${s}`:""}`;case"techie":return`${i}${tH(r,2)}${tH(s,2)}`;default:throw RangeError(`Value format ${e} is out of range for property format`)}}function t7(t){return["hour","minute","second","millisecond"].reduce((e,r)=>(e[r]=t[r],e),{})}let et=["January","February","March","April","May","June","July","August","September","October","November","December"],ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],er=["J","F","M","A","M","J","J","A","S","O","N","D"];function es(t){switch(t){case"narrow":return[...er];case"short":return[...ee];case"long":return[...et];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}let ei=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],en=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],eo=["M","T","W","T","F","S","S"];function ea(t){switch(t){case"narrow":return[...eo];case"short":return[...en];case"long":return[...ei];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}let el=["AM","PM"],eu=["Before Christ","Anno Domini"],eh=["BC","AD"],ec=["B","A"];function ef(t){switch(t){case"narrow":return[...ec];case"short":return[...eh];case"long":return[...eu];default:return null}}function ed(t,e){let r="";for(let s of t)s.literal?r+=s.val:r+=e(s.val);return r}let em={D:g,DD:w,DDD:y,DDDD:b,t:_,tt:v,ttt:k,tttt:x,T:M,TT:S,TTT:E,TTTT:T,f:O,ff:A,fff:I,ffff:V,F:N,FF:D,FFF:R,FFFF:C};class eg{static create(t,e={}){return new eg(t,e)}static parseFormat(t){let e=null,r="",s=!1,i=[];for(let n=0;n<t.length;n++){let o=t.charAt(n);"'"===o?((r.length>0||s)&&i.push({literal:s||/^\s+$/.test(r),val:""===r?"'":r}),e=null,r="",s=!s):s||o===e?r+=o:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=o,e=o)}return r.length>0&&i.push({literal:s||/^\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(t){return em[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0,r){if(this.opts.forceSimple)return tH(t,e);let s={...this.opts};return e>0&&(s.padTo=e),r&&(s.signDisplay=r),this.loc.numberFormatter(s).format(t)}formatDateTimeFromString(t,e){let r="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=(e,r)=>this.loc.extract(t,e,r),n=e=>t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):"",o=(e,s)=>r?es(e)[t.month-1]:i(s?{month:e}:{month:e,day:"numeric"},"month"),a=(e,s)=>r?ea(e)[t.weekday-1]:i(s?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday"),l=e=>{let r=eg.macroTokenToFormatOpts(e);return r?this.formatWithSystemDefault(t,r):e},u=e=>r?ef(e)[t.year<0?0:1]:i({era:e},"era"),h=e=>{switch(e){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return n({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return n({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return n({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return r?el[t.hour<12?0:1]:i({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return s?i({day:"numeric"},"day"):this.num(t.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return a("short",!0);case"cccc":return a("long",!0);case"ccccc":return a("narrow",!0);case"EEE":return a("short",!1);case"EEEE":return a("long",!1);case"EEEEE":return a("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(t.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(t.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return l(e)}};return ed(eg.parseFormat(e),h)}formatDurationFromString(t,e){let r="negativeLargestOnly"===this.opts.signMode?-1:1,s=t=>{switch(t[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},i=(t,e)=>i=>{let n=s(i);if(!n)return i;{let s,o=e.isNegativeDuration&&n!==e.largestUnit?r:1;return s="negativeLargestOnly"===this.opts.signMode&&n!==e.largestUnit?"never":"all"===this.opts.signMode?"always":"auto",this.num(t.get(n)*o,i.length,s)}},n=eg.parseFormat(e),o=n.reduce((t,{literal:e,val:r})=>e?t:t.concat(r),[]),a=t.shiftTo(...o.map(s).filter(t=>t)),l={isNegativeDuration:a<0,largestUnit:Object.keys(a.values)[0]};return ed(n,i(a,l))}}let ew=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ep(...t){let e=t.reduce((t,e)=>t+e.source,"");return RegExp(`^${e}$`)}function ey(...t){return e=>t.reduce(([t,r,s],i)=>{let[n,o,a]=i(e,s);return[{...t,...n},o||r,a]},[{},null,1]).slice(0,2)}function eb(t,...e){if(null==t)return[null,null];for(let[r,s]of e){let e=r.exec(t);if(e)return s(e)}return[null,null]}function e_(...t){return(e,r)=>{let s,i={};for(s=0;s<t.length;s++)i[t[s]]=tY(e[r+s]);return[i,null,r+s]}}let ev=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,ek=`(?:${ev.source}?(?:\\[(${ew.source})\\])?)?`,ex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,eM=RegExp(`${ex.source}${ek}`),eS=RegExp(`(?:[Tt]${eM.source})?`),eE=e_("weekYear","weekNumber","weekDay"),eT=e_("year","ordinal"),eO=RegExp(`${ex.source} ?(?:${ev.source}|(${ew.source}))?`),eN=RegExp(`(?: ${eO.source})?`);function eA(t,e,r){let s=t[e];return tF(s)?r:tY(s)}function eD(t,e){return[{hours:eA(t,e,0),minutes:eA(t,e+1,0),seconds:eA(t,e+2,0),milliseconds:tG(t[e+3])},null,e+4]}function ez(t,e){let r=!t[e]&&!t[e+1],s=t3(t[e+1],t[e+2]);return[{},r?null:to.instance(s),e+3]}function eI(t,e){return[{},t[e]?W.create(t[e]):null,e+1]}let eR=RegExp(`^T?${ex.source}$`),eV=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function eC(t){let[e,r,s,i,n,o,a,l,u]=t,h="-"===e[0],c=l&&"-"===l[0],f=(t,e=!1)=>void 0!==t&&(e||t&&h)?-t:t;return[{years:f(tB(r)),months:f(tB(s)),weeks:f(tB(i)),days:f(tB(n)),hours:f(tB(o)),minutes:f(tB(a)),seconds:f(tB(l),"-0"===l),milliseconds:f(tG(u),c)}]}let eF={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function eL(t,e,r,s,i,n,o){let a={year:2===e.length?t5(tY(e)):tY(e),month:ee.indexOf(r)+1,day:tY(s),hour:tY(i),minute:tY(n)};return o&&(a.second=tY(o)),t&&(a.weekday=t.length>3?ei.indexOf(t)+1:en.indexOf(t)+1),a}let eZ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function e$(t){let[,e,r,s,i,n,o,a,l,u,h,c]=t;return[eL(e,i,s,r,n,o,a),new to(l?eF[l]:u?0:t3(h,c))]}let eU=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,eq=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,eW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ej(t){let[,e,r,s,i,n,o,a]=t;return[eL(e,i,s,r,n,o,a),to.utcInstance]}function eP(t){let[,e,r,s,i,n,o,a]=t;return[eL(e,a,r,s,i,n,o),to.utcInstance]}let eH=ep(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,eS),eY=ep(/(\d{4})-?W(\d\d)(?:-?(\d))?/,eS),eB=ep(/(\d{4})-?(\d{3})/,eS),eG=ep(eM),eJ=ey(function(t,e){return[{year:eA(t,e),month:eA(t,e+1,1),day:eA(t,e+2,1)},null,e+3]},eD,ez,eI),eQ=ey(eE,eD,ez,eI),eK=ey(eT,eD,ez,eI),eX=ey(eD,ez,eI),e0=ey(eD),e1=ep(/(\d{4})-(\d\d)-(\d\d)/,eN),e2=ep(eO),e5=ey(eD,ez,eI),e6="Invalid Duration",e3={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},e8={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...e3},e4={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:0x1e18558,milliseconds:31556952e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238e3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...e3},e9=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],e7=e9.slice(0).reverse();function rt(t,e,r=!1){return new ri({values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix})}function re(t,e){let r=e.milliseconds??0;for(let s of e7.slice(1))e[s]&&(r+=e[s]*t[s].milliseconds);return r}function rr(t,e){let r=0>re(t,e)?-1:1;e9.reduceRight((s,i)=>{if(tF(e[i]))return s;if(s){let n=e[s]*r,o=t[i][s],a=Math.floor(n/o);e[i]+=a*r,e[s]-=a*o*r}return i},null),e9.reduce((r,s)=>{if(tF(e[s]))return r;if(r){let i=e[r]%1;e[r]-=i,e[s]+=i*t[r][s]}return s},null)}function rs(t){let e={};for(let[r,s]of Object.entries(t))0!==s&&(e[r]=s);return e}class ri{constructor(t){let e="longterm"===t.conversionAccuracy,r=e?e4:e8;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||ti.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,e){return ri.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new h(`Duration.fromObject: argument expected to be an object, got ${null===t?"null":typeof t}`);return new ri({values:t4(t,ri.normalizeUnit),loc:ti.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(tL(t))return ri.fromMillis(t);if(ri.isDuration(t))return t;if("object"==typeof t)return ri.fromObject(t);throw new h(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){let[r]=eb(t,[eV,eC]);return r?ri.fromObject(r,e):ri.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){let[r]=eb(t,[eR,e0]);return r?ri.fromObject(r,e):ri.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new h("need to specify a reason the Duration is invalid");let r=t instanceof tx?t:new tx(t,e);if(!tk.throwOnInvalid)return new ri({invalid:r});throw new a(r)}static normalizeUnit(t){let e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t?t.toLowerCase():t];if(!e)throw new u(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){let r={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?eg.create(this.loc,r).formatDurationFromString(this,t):e6}toHuman(t={}){if(!this.isValid)return e6;let e=!1!==t.showZeros,r=e9.map(r=>{let s=this.values[r];return tF(s)||0===s&&!e?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(s)}).filter(t=>t);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(t+=tJ(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let e=this.toMillis();return e<0||e>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},rB.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?re(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let e=ri.fromDurationLike(t),r={};for(let t of e9)(tW(e.values,t)||tW(this.values,t))&&(r[t]=e.get(t)+this.get(t));return rt(this,{values:r},!0)}minus(t){if(!this.isValid)return this;let e=ri.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=t8(t(this.values[r],r));return rt(this,{values:e},!0)}get(t){return this[ri.normalizeUnit(t)]}set(t){return this.isValid?rt(this,{values:{...this.values,...t4(t,ri.normalizeUnit)}}):this}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:r,matrix:s}={}){return rt(this,{loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:s,conversionAccuracy:r})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return rr(this.matrix,t),rt(this,{values:t},!0)}rescale(){return this.isValid?rt(this,{values:rs(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...t){let e;if(!this.isValid||0===t.length)return this;t=t.map(t=>ri.normalizeUnit(t));let r={},s={},i=this.toObject();for(let n of e9)if(t.indexOf(n)>=0){e=n;let t=0;for(let e in s)t+=this.matrix[e][n]*s[e],s[e]=0;tL(i[n])&&(t+=i[n]);let o=Math.trunc(t);r[n]=o,s[n]=(1e3*t-1e3*o)/1e3}else tL(i[n])&&(s[n]=i[n]);for(let t in s)0!==s[t]&&(r[e]+=t===e?s[t]:s[t]/this.matrix[e][t]);return rr(this.matrix,r),rt(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let t={};for(let e of Object.keys(this.values))t[e]=0===this.values[e]?0:-this.values[e];return rt(this,{values:t},!0)}removeZeros(){return this.isValid?rt(this,{values:rs(this.values)},!0):this}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;for(let s of e9){var e,r;if(e=this.values[s],r=t.values[s],void 0===e||0===e?void 0!==r&&0!==r:e!==r)return!1}return!0}}let rn="Invalid Interval";class ro{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new h("need to specify a reason the Interval is invalid");let r=t instanceof tx?t:new tx(t,e);if(!tk.throwOnInvalid)return new ro({invalid:r});throw new o(r)}static fromDateTimes(t,e){var r,s;let i=rG(t),n=rG(e),o=(r=i,s=n,r&&r.isValid?s&&s.isValid?s<r?ro.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${s.toISO()}`):null:ro.invalid("missing or invalid end"):ro.invalid("missing or invalid start"));return null==o?new ro({start:i,end:n}):o}static after(t,e){let r=ri.fromDurationLike(e),s=rG(t);return ro.fromDateTimes(s,s.plus(r))}static before(t,e){let r=ri.fromDurationLike(e),s=rG(t);return ro.fromDateTimes(s.minus(r),s)}static fromISO(t,e){let[r,s]=(t||"").split("/",2);if(r&&s){let t,i,n,o;try{i=(t=rB.fromISO(r,e)).isValid}catch(t){i=!1}try{o=(n=rB.fromISO(s,e)).isValid}catch(t){o=!1}if(i&&o)return ro.fromDateTimes(t,n);if(i){let r=ri.fromISO(s,e);if(r.isValid)return ro.after(t,r)}else if(o){let t=ri.fromISO(r,e);if(t.isValid)return ro.before(n,t)}}return ro.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){let r;if(!this.isValid)return NaN;let s=this.start.startOf(t,e);return Math.floor((r=(r=e?.useLocaleWeeks?this.end.reconfigure({locale:s.locale}):this.end).startOf(t,e)).diff(s,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&this.s<=t&&this.e>t}set({start:t,end:e}={}){return this.isValid?ro.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];let e=t.map(rG).filter(t=>this.contains(t)).sort((t,e)=>t.toMillis()-e.toMillis()),r=[],{s}=this,i=0;for(;s<this.e;){let t=e[i]||this.e,n=+t>+this.e?this.e:t;r.push(ro.fromDateTimes(s,n)),s=n,i+=1}return r}splitBy(t){let e=ri.fromDurationLike(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let{s:r}=this,s=1,i,n=[];for(;r<this.e;){let t=this.start.plus(e.mapUnits(t=>t*s));i=+t>+this.e?this.e:t,n.push(ro.fromDateTimes(r,i)),r=i,s+=1}return n}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e}equals(t){return!!this.isValid&&!!t.isValid&&this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let e=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return e>=r?null:ro.fromDateTimes(e,r)}union(t){if(!this.isValid)return this;let e=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return ro.fromDateTimes(e,r)}static merge(t){let[e,r]=t.sort((t,e)=>t.s-e.s).reduce(([t,e],r)=>e?e.overlaps(r)||e.abutsStart(r)?[t,e.union(r)]:[t.concat([e]),r]:[t,r],[[],null]);return r&&e.push(r),e}static xor(t){let e=null,r=0,s=[],i=t.map(t=>[{time:t.s,type:"s"},{time:t.e,type:"e"}]);for(let t of Array.prototype.concat(...i).sort((t,e)=>t.time-e.time))1===(r+="s"===t.type?1:-1)?e=t.time:(e&&+e!=+t.time&&s.push(ro.fromDateTimes(e,t.time)),e=null);return ro.merge(s)}difference(...t){return ro.xor([this].concat(t)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u{2013} ${this.e.toISO()})`:rn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=g,e={}){return this.isValid?eg.create(this.s.loc.clone(e),t).formatInterval(this):rn}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:rn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rn}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:rn}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:rn}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):ri.invalid(this.invalidReason)}mapEndpoints(t){return ro.fromDateTimes(t(this.s),t(this.e))}}class ra{static hasDST(t=tk.defaultZone){let e=rB.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return W.isValidZone(t)}static normalizeZone(t){return tl(t,tk.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||ti.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||ti.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||ti.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:r=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||ti.create(e,r,i)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:r=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||ti.create(e,r,i)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:r=null,locObj:s=null}={}){return(s||ti.create(e,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:r=null,locObj:s=null}={}){return(s||ti.create(e,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return ti.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return ti.create(e,null,"gregory").eras(t)}static features(){return{relative:t$(),localeWeek:tU()}}}function rl(t,e){let r=t=>t.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(e)-r(t);return Math.floor(ri.fromMillis(s).as("days"))}function ru(t,e=t=>t){return{regex:t,deser:([t])=>e(function(t){let e=parseInt(t,10);if(!isNaN(e))return e;e="";for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(-1!==t[r].search(tu.hanidec))e+=tc.indexOf(t[r]);else for(let t in th){let[r,i]=th[t];s>=r&&s<=i&&(e+=s-r)}}return parseInt(e,10)}(t))}}let rh=String.fromCharCode(160),rc=`[ ${rh}]`,rf=RegExp(rc,"g");function rd(t){return t.replace(/\./g,"\\.?").replace(rf,rc)}function rm(t){return t.replace(/\./g,"").replace(rf," ").toLowerCase()}function rg(t,e){return null===t?null:{regex:RegExp(t.map(rd).join("|")),deser:([r])=>t.findIndex(t=>rm(r)===rm(t))+e}}function rw(t,e){return{regex:t,deser:([,t,e])=>t3(t,e),groups:e}}function rp(t){return{regex:t,deser:([t])=>t}}let ry={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}},rb=null;function r_(t,e){return Array.prototype.concat(...t.map(t=>(function(t,e){if(t.literal)return t;let r=rx(eg.macroTokenToFormatOpts(t.val),e);return null==r||r.includes(void 0)?t:r})(t,e)))}class rv{constructor(t,e){if(this.locale=t,this.format=e,this.tokens=r_(eg.parseFormat(e),t),this.units=this.tokens.map(e=>{let r,s,i,n,o,a,l,u,h,c,f,d,m;return r=td(t),s=td(t,"{2}"),i=td(t,"{3}"),n=td(t,"{4}"),o=td(t,"{6}"),a=td(t,"{1,2}"),l=td(t,"{1,3}"),u=td(t,"{1,6}"),h=td(t,"{1,9}"),c=td(t,"{2,4}"),f=td(t,"{4,6}"),d=t=>({regex:RegExp(t.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")),deser:([t])=>t,literal:!0}),(m=(m=>{if(e.literal)return d(m);switch(m.val){case"G":return rg(t.eras("short"),0);case"GG":return rg(t.eras("long"),0);case"y":return ru(u);case"yy":case"kk":return ru(c,t5);case"yyyy":case"kkkk":return ru(n);case"yyyyy":return ru(f);case"yyyyyy":return ru(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return ru(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return ru(s);case"MMM":return rg(t.months("short",!0),1);case"MMMM":return rg(t.months("long",!0),1);case"LLL":return rg(t.months("short",!1),1);case"LLLL":return rg(t.months("long",!1),1);case"o":case"S":return ru(l);case"ooo":case"SSS":return ru(i);case"u":return rp(h);case"uu":return rp(a);case"uuu":case"E":case"c":return ru(r);case"a":return rg(t.meridiems(),0);case"EEE":return rg(t.weekdays("short",!1),1);case"EEEE":return rg(t.weekdays("long",!1),1);case"ccc":return rg(t.weekdays("short",!0),1);case"cccc":return rg(t.weekdays("long",!0),1);case"Z":case"ZZ":return rw(RegExp(`([+-]${a.source})(?::(${s.source}))?`),2);case"ZZZ":return rw(RegExp(`([+-]${a.source})(${s.source})?`),2);case"z":return rp(/[a-z_+-/]{1,256}?/i);case" ":return rp(/[^\S\n\r]/);default:return d(m)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"}).token=e,m}),this.disqualifyingUnit=this.units.find(t=>t.invalidReason),!this.disqualifyingUnit){var r;let t,[e,s]=(t=(r=this.units).map(t=>t.regex).reduce((t,e)=>`${t}(${e.source})`,""),[`^${t}$`,r]);this.regex=RegExp(e,"i"),this.handlers=s}}explainFromTokens(t){if(!this.isValid)return{input:t,tokens:this.tokens,invalidReason:this.invalidReason};{let e,r,[s,i]=function(t,e,r){let s=t.match(e);if(!s)return[s,{}];{let t={},e=1;for(let i in r)if(tW(r,i)){let n=r[i],o=n.groups?n.groups+1:1;!n.literal&&n.token&&(t[n.token.val[0]]=n.deser(s.slice(e,e+o))),e+=o}return[s,t]}}(t,this.regex,this.handlers),[n,o,a]=i?(r=null,tF(i.z)||(r=W.create(i.z)),tF(i.Z)||(r||(r=new to(i.Z)),e=i.Z),tF(i.q)||(i.M=(i.q-1)*3+1),tF(i.h)||(i.h<12&&1===i.a?i.h+=12:12===i.h&&0===i.a&&(i.h=0)),0===i.G&&i.y&&(i.y=-i.y),tF(i.u)||(i.S=tG(i.u)),[Object.keys(i).reduce((t,e)=>{let r=(t=>{switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(e);return r&&(t[r]=i[e]),t},{}),r,e]):[null,null,void 0];if(tW(i,"a")&&tW(i,"H"))throw new l("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:s,matches:i,result:n,zone:o,specificOffset:a}}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function rk(t,e,r){return new rv(t,r).explainFromTokens(e)}function rx(t,e){if(!t)return null;let r=eg.create(e,t).dtFormatter((rb||(rb=rB.fromMillis(0x16a2e5618e3)),rb)),s=r.formatToParts(),i=r.resolvedOptions();return s.map(e=>(function(t,e,r){let{type:s,value:i}=t;if("literal"===s){let t=/^\s+$/.test(i);return{literal:!t,val:t?" ":i}}let n=e[s],o=s;"hour"===s&&(o=null!=e.hour12?e.hour12?"hour12":"hour24":null!=e.hourCycle?"h11"===e.hourCycle||"h12"===e.hourCycle?"hour12":"hour24":r.hour12?"hour12":"hour24");let a=ry[o];if("object"==typeof a&&(a=a[n]),a)return{literal:!1,val:a}})(e,t,i))}let rM="Invalid DateTime";function rS(t){return new tx("unsupported zone",`the zone "${t.name}" is not supported`)}function rE(t){return null===t.weekData&&(t.weekData=tA(t.c)),t.weekData}function rT(t){return null===t.localWeekData&&(t.localWeekData=tA(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function rO(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new rB({...r,...e,old:r})}function rN(t,e,r){let s=t-60*e*1e3,i=r.offset(s);if(e===i)return[s,e];s-=(i-e)*6e4;let n=r.offset(s);return i===n?[s,i]:[t-60*Math.min(i,n)*1e3,Math.max(i,n)]}function rA(t,e){let r=new Date(t+=60*e*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function rD(t,e){let r=t.o,s=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters),n={...t.c,year:s,month:i,day:Math.min(t.c.day,tX(s,i))+Math.trunc(e.days)+7*Math.trunc(e.weeks)},o=ri.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),[a,l]=rN(t0(n),r,t.zone);return 0!==o&&(a+=o,l=t.zone.offset(a)),{ts:a,o:l}}function rz(t,e,r,s,i,n){let{setZone:o,zone:a}=r;if((!t||0===Object.keys(t).length)&&!e)return rB.invalid(new tx("unparsable",`the input "${i}" can't be parsed as ${s}`));{let s=rB.fromObject(t,{...r,zone:e||a,specificOffset:n});return o?s:s.setZone(a)}}function rI(t,e,r=!0){return t.isValid?eg.create(ti.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function rR(t,e,r){let s=t.c.year>9999||t.c.year<0,i="";if(s&&t.c.year>=0&&(i+="+"),i+=tH(t.c.year,s?6:4),"year"===r)return i;if(e){if(i+="-",i+=tH(t.c.month),"month"===r)return i;i+="-"}else if(i+=tH(t.c.month),"month"===r)return i;return i+tH(t.c.day)}function rV(t,e,r,s,i,n,o){let a=!r||0!==t.c.millisecond||0!==t.c.second,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=tH(t.c.hour),"hour"===o)break;if(e){if(l+=":",l+=tH(t.c.minute),"minute"===o)break;a&&(l+=":",l+=tH(t.c.second))}else{if(l+=tH(t.c.minute),"minute"===o)break;a&&(l+=tH(t.c.second))}if("second"===o)break;a&&(!s||0!==t.c.millisecond)&&(l+=".",l+=tH(t.c.millisecond,3))}return i&&(t.isOffsetFixed&&0===t.offset&&!n?l+="Z":t.o<0?(l+="-",l+=tH(Math.trunc(-t.o/60)),l+=":",l+=tH(Math.trunc(-t.o%60))):(l+="+",l+=tH(Math.trunc(t.o/60)),l+=":",l+=tH(Math.trunc(t.o%60)))),n&&(l+="["+t.zone.ianaName+"]"),l}let rC={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},rF={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},rZ=["year","month","day","hour","minute","second","millisecond"],r$=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],rU=["year","ordinal","hour","minute","second","millisecond"];function rq(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new u(t);return e}function rW(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return rq(t)}}function rj(t,e){let r,i,n=tl(e.zone,tk.defaultZone);if(!n.isValid)return rB.invalid(rS(n));let o=ti.fromObject(e);if(tF(t.year))r=tk.now();else{for(let e of rZ)tF(t[e])&&(t[e]=rC[e]);let e=tV(t)||tC(t);if(e)return rB.invalid(e);let o=function(t){if(void 0===s&&(s=tk.now()),"iana"!==t.type)return t.offset(s);let e=t.name,r=rY.get(e);return void 0===r&&(r=t.offset(s),rY.set(e,r)),r}(n);[r,i]=rN(t0(t),o,n)}return new rB({ts:r,zone:n,loc:o,o:i})}function rP(t,e,r){let s=!!tF(r.round)||r.round,i=tF(r.rounding)?"trunc":r.rounding,n=(t,n)=>(t=tJ(t,s||r.calendary?0:2,r.calendary?"round":i),e.loc.clone(r).relFormatter(r).format(t,n)),o=s=>r.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(r.unit)return n(o(r.unit),r.unit);for(let t of r.units){let e=o(t);if(Math.abs(e)>=1)return n(e,t)}return n(t>e?-0:0,r.units[r.units.length-1])}function rH(t){let e={},r;return t.length>0&&"object"==typeof t[t.length-1]?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let rY=new Map;class rB{constructor(t){let e=t.zone||tk.defaultZone,r=t.invalid||(Number.isNaN(t.ts)?new tx("invalid input"):null)||(e.isValid?null:rS(e));this.ts=tF(t.ts)?tk.now():t.ts;let s=null,i=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[s,i]=[t.old.c,t.old.o];else{let n=tL(t.o)&&!t.old?t.o:e.offset(this.ts);s=(r=Number.isNaN((s=rA(this.ts,n)).year)?new tx("invalid input"):null)?null:s,i=r?null:n}this._zone=e,this.loc=t.loc||ti.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new rB({})}static local(){let[t,e]=rH(arguments),[r,s,i,n,o,a,l]=e;return rj({year:r,month:s,day:i,hour:n,minute:o,second:a,millisecond:l},t)}static utc(){let[t,e]=rH(arguments),[r,s,i,n,o,a,l]=e;return t.zone=to.utcInstance,rj({year:r,month:s,day:i,hour:n,minute:o,second:a,millisecond:l},t)}static fromJSDate(t,e={}){let r="[object Date]"===Object.prototype.toString.call(t)?t.valueOf():NaN;if(Number.isNaN(r))return rB.invalid("invalid input");let s=tl(e.zone,tk.defaultZone);return s.isValid?new rB({ts:r,zone:s,loc:ti.fromObject(e)}):rB.invalid(rS(s))}static fromMillis(t,e={}){if(tL(t))if(t<-864e13||t>864e13)return rB.invalid("Timestamp out of range");else return new rB({ts:t,zone:tl(e.zone,tk.defaultZone),loc:ti.fromObject(e)});throw new h(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(tL(t))return new rB({ts:1e3*t,zone:tl(e.zone,tk.defaultZone),loc:ti.fromObject(e)});throw new h("fromSeconds requires a numerical input")}static fromObject(t,e={}){var r;let s,i;t=t||{};let n=tl(e.zone,tk.defaultZone);if(!n.isValid)return rB.invalid(rS(n));let o=ti.fromObject(e),a=t4(t,rW),{minDaysInFirstWeek:u,startOfWeek:h}=tR(a,o),c=tk.now(),f=tF(e.specificOffset)?n.offset(c):e.specificOffset,d=!tF(a.ordinal),m=!tF(a.year),g=!tF(a.month)||!tF(a.day),w=m||g,p=a.weekYear||a.weekNumber;if((w||d)&&p)throw new l("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&d)throw new l("Can't mix ordinal dates with month/day");let y=p||a.weekday&&!w,b,_,v=rA(c,f);y?(b=r$,_=rF,v=tA(v,u,h)):d?(b=rU,_=rL,v=tz(v)):(b=rZ,_=rC);let k=!1;for(let t of b)tF(a[t])?k?a[t]=_[t]:a[t]=v[t]:k=!0;let x=(y?function(t,e=4,r=1){let s=tZ(t.weekYear),i=tP(t.weekNumber,1,t2(t.weekYear,e,r)),n=tP(t.weekday,1,7);return s?i?!n&&tE("weekday",t.weekday):tE("week",t.weekNumber):tE("weekYear",t.weekYear)}(a,u,h):d?(s=tZ(a.year),i=tP(a.ordinal,1,tK(a.year)),s?!i&&tE("ordinal",a.ordinal):tE("year",a.year)):tV(a))||tC(a);if(x)return rB.invalid(x);let[M,S]=(r=y?tD(a,u,h):d?tI(a):a,rN(t0(r),f,n)),E=new rB({ts:M,zone:n,o:S,loc:o});return a.weekday&&w&&t.weekday!==E.weekday?rB.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${E.toISO()}`):E.isValid?E:rB.invalid(E.invalid)}static fromISO(t,e={}){let[r,s]=eb(t,[eH,eJ],[eY,eQ],[eB,eK],[eG,eX]);return rz(r,s,e,"ISO 8601",t)}static fromRFC2822(t,e={}){let[r,s]=eb(t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[eZ,e$]);return rz(r,s,e,"RFC 2822",t)}static fromHTTP(t,e={}){let[r,s]=eb(t,[eU,ej],[eq,ej],[eW,eP]);return rz(r,s,e,"HTTP",e)}static fromFormat(t,e,r={}){if(tF(t)||tF(e))throw new h("fromFormat requires an input string and a format");let{locale:s=null,numberingSystem:i=null}=r,[n,o,a,l]=function(t,e,r){let{result:s,zone:i,specificOffset:n,invalidReason:o}=rk(t,e,r);return[s,i,n,o]}(ti.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),t,e);return l?rB.invalid(l):rz(n,o,r,`format ${e}`,t,a)}static fromString(t,e,r={}){return rB.fromFormat(t,e,r)}static fromSQL(t,e={}){let[r,s]=eb(t,[e1,eJ],[e2,e5]);return rz(r,s,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new h("need to specify a reason the DateTime is invalid");let r=t instanceof tx?t:new tx(t,e);if(!tk.throwOnInvalid)return new rB({invalid:r});throw new n(r)}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){let r=rx(t,ti.fromObject(e));return r?r.map(t=>t?t.val:null).join(""):null}static expandFormat(t,e={}){return r_(eg.parseFormat(t),ti.fromObject(e)).map(t=>t.val).join("")}static resetCache(){s=void 0,rY.clear()}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?rE(this).weekYear:NaN}get weekNumber(){return this.isValid?rE(this).weekNumber:NaN}get weekday(){return this.isValid?rE(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?rT(this).weekday:NaN}get localWeekNumber(){return this.isValid?rT(this).weekNumber:NaN}get localWeekYear(){return this.isValid?rT(this).weekYear:NaN}get ordinal(){return this.isValid?tz(this.c).ordinal:NaN}get monthShort(){return this.isValid?ra.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ra.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ra.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ra.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let t=t0(this.c),e=this.zone.offset(t-864e5),r=this.zone.offset(t+864e5),s=this.zone.offset(t-6e4*e),i=this.zone.offset(t-6e4*r);if(s===i)return[this];let n=t-6e4*s,o=t-6e4*i,a=rA(n,s),l=rA(o,i);return a.hour===l.hour&&a.minute===l.minute&&a.second===l.second&&a.millisecond===l.millisecond?[rO(this,{ts:n}),rO(this,{ts:o})]:[this]}get isInLeapYear(){return tQ(this.year)}get daysInMonth(){return tX(this.year,this.month)}get daysInYear(){return this.isValid?tK(this.year):NaN}get weeksInWeekYear(){return this.isValid?t2(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?t2(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){let{locale:e,numberingSystem:r,calendar:s}=eg.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:r,outputCalendar:s}}toUTC(t=0,e={}){return this.setZone(to.instance(t),e)}toLocal(){return this.setZone(tk.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:r=!1}={}){if((t=tl(t,tk.defaultZone)).equals(this.zone))return this;{if(!t.isValid)return rB.invalid(rS(t));let i=this.ts;if(e||r){var s;let e=t.offset(this.ts),r=this.toObject();[i]=(s=t,rN(t0(r),e,s))}return rO(this,{ts:i,zone:t})}}reconfigure({locale:t,numberingSystem:e,outputCalendar:r}={}){return rO(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:r})})}setLocale(t){return this.reconfigure({locale:t})}set(t){var e,r,s;let i;if(!this.isValid)return this;let n=t4(t,rW),{minDaysInFirstWeek:o,startOfWeek:a}=tR(n,this.loc),u=!tF(n.weekYear)||!tF(n.weekNumber)||!tF(n.weekday),h=!tF(n.ordinal),c=!tF(n.year),f=!tF(n.month)||!tF(n.day),d=n.weekYear||n.weekNumber;if((c||f||h)&&d)throw new l("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&h)throw new l("Can't mix ordinal dates with month/day");u?i=tD({...tA(this.c,o,a),...n},o,a):tF(n.ordinal)?(i={...this.toObject(),...n},tF(n.day)&&(i.day=Math.min(tX(i.year,i.month),i.day))):i=tI({...tz(this.c),...n});let[m,g]=(e=i,r=this.o,s=this.zone,rN(t0(e),r,s));return rO(this,{ts:m,o:g})}plus(t){return this.isValid?rO(this,rD(this,ri.fromDurationLike(t))):this}minus(t){return this.isValid?rO(this,rD(this,ri.fromDurationLike(t).negate())):this}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;let r={},s=ri.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===s)if(e){let t=this.loc.getStartOfWeek(),{weekday:e}=this;e<t&&(r.weekNumber=this.weekNumber-1),r.weekday=t}else r.weekday=1;return"quarters"===s&&(r.month=(Math.ceil(this.month/3)-1)*3+1),this.set(r)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?eg.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):rM}toLocaleString(t=g,e={}){return this.isValid?eg.create(this.loc.clone(e),t).formatDateTime(this):rM}toLocaleParts(t={}){return this.isValid?eg.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:i=!1,precision:n="milliseconds"}={}){if(!this.isValid)return null;n=rq(n);let o="extended"===t,a=rR(this,o,n);return rZ.indexOf(n)>=3&&(a+="T"),a+=rV(this,o,e,r,s,i,n)}toISODate({format:t="extended",precision:e="day"}={}){return this.isValid?rR(this,"extended"===t,rq(e)):null}toISOWeekDate(){return rI(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:i=!1,format:n="extended",precision:o="milliseconds"}={}){return this.isValid?(o=rq(o),(s&&rZ.indexOf(o)>=3?"T":"")+rV(this,"extended"===n,e,t,r,i,o)):null}toRFC2822(){return rI(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return rI(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?rR(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(e||t)&&(r&&(s+=" "),e?s+="z":t&&(s+="ZZ")),rI(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():rM}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",r={}){if(!this.isValid||!t.isValid)return ri.invalid("created by diffing an invalid DateTime");let s={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=(Array.isArray(e)?e:[e]).map(ri.normalizeUnit),n=t.valueOf()>this.valueOf(),o=function(t,e,r,s){let[i,n,o,a]=function(t,e,r){let s,i,n={},o=t;for(let[a,l]of[["years",(t,e)=>e.year-t.year],["quarters",(t,e)=>e.quarter-t.quarter+(e.year-t.year)*4],["months",(t,e)=>e.month-t.month+(e.year-t.year)*12],["weeks",(t,e)=>{let r=rl(t,e);return(r-r%7)/7}],["days",rl]])r.indexOf(a)>=0&&(s=a,n[a]=l(t,e),(i=o.plus(n))>e?(n[a]--,(t=o.plus(n))>e&&(i=t,n[a]--,t=o.plus(n))):t=i);return[t,n,i,s]}(t,e,r),l=e-i,u=r.filter(t=>["hours","minutes","seconds","milliseconds"].indexOf(t)>=0);0===u.length&&(o<e&&(o=i.plus({[a]:1})),o!==i&&(n[a]=(n[a]||0)+l/(o-i)));let h=ri.fromObject(n,s);return u.length>0?ri.fromMillis(l,s).shiftTo(...u).plus(h):h}(n?this:t,n?t:this,i,s);return n?o.negate():o}diffNow(t="milliseconds",e={}){return this.diff(rB.now(),t,e)}until(t){return this.isValid?ro.fromDateTimes(this,t):this}hasSame(t,e,r){if(!this.isValid)return!1;let s=t.valueOf(),i=this.setZone(t.zone,{keepLocalTime:!0});return i.startOf(e,r)<=s&&s<=i.endOf(e,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let e=t.base||rB.fromObject({},{zone:this.zone}),r=t.padding?this<e?-t.padding:t.padding:0,s=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(s=t.unit,i=void 0),rP(e,this.plus(r),{...t,numeric:"always",units:s,unit:i})}toRelativeCalendar(t={}){return this.isValid?rP(t.base||rB.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(rB.isDateTime))throw new h("min requires all arguments be DateTimes");return tq(t,t=>t.valueOf(),Math.min)}static max(...t){if(!t.every(rB.isDateTime))throw new h("max requires all arguments be DateTimes");return tq(t,t=>t.valueOf(),Math.max)}static fromFormatExplain(t,e,r={}){let{locale:s=null,numberingSystem:i=null}=r;return rk(ti.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,r={}){return rB.fromFormatExplain(t,e,r)}static buildFormatParser(t,e={}){let{locale:r=null,numberingSystem:s=null}=e;return new rv(ti.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),t)}static fromFormatParser(t,e,r={}){if(tF(t)||tF(e))throw new h("fromFormatParser requires an input string and a format parser");let{locale:s=null,numberingSystem:i=null}=r,n=ti.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});if(!n.equals(e.locale))throw new h(`fromFormatParser called with a locale of ${n}, but the format parser was created for ${e.locale}`);let{result:o,zone:a,specificOffset:l,invalidReason:u}=e.explainFromTokens(t);return u?rB.invalid(u):rz(o,a,r,`format ${e.format}`,t,l)}static get DATE_SHORT(){return g}static get DATE_MED(){return w}static get DATE_MED_WITH_WEEKDAY(){return p}static get DATE_FULL(){return y}static get DATE_HUGE(){return b}static get TIME_SIMPLE(){return _}static get TIME_WITH_SECONDS(){return v}static get TIME_WITH_SHORT_OFFSET(){return k}static get TIME_WITH_LONG_OFFSET(){return x}static get TIME_24_SIMPLE(){return M}static get TIME_24_WITH_SECONDS(){return S}static get TIME_24_WITH_SHORT_OFFSET(){return E}static get TIME_24_WITH_LONG_OFFSET(){return T}static get DATETIME_SHORT(){return O}static get DATETIME_SHORT_WITH_SECONDS(){return N}static get DATETIME_MED(){return A}static get DATETIME_MED_WITH_SECONDS(){return D}static get DATETIME_MED_WITH_WEEKDAY(){return z}static get DATETIME_FULL(){return I}static get DATETIME_FULL_WITH_SECONDS(){return R}static get DATETIME_HUGE(){return V}static get DATETIME_HUGE_WITH_SECONDS(){return C}}function rG(t){if(rB.isDateTime(t))return t;if(t&&t.valueOf&&tL(t.valueOf()))return rB.fromJSDate(t);if(t&&"object"==typeof t)return rB.fromObject(t);throw new h(`Unknown datetime argument: ${t}, of type ${typeof t}`)}},55533(t,e,r){"use strict";function s(t,e){let r=0;for(let s=0;s<t.length;s++)r+=(t[s]-e[s])*(t[s]-e[s]);return r}r.d(e,{Y:()=>g});let i={distanceFunction:s};function n(t,e,r,s){for(let n=0;n<t.length;n++)r[n]=function(t,e,r=i){let s=r.distanceFunction||i.distanceFunction,n=r.similarityFunction||i.similarityFunction,o=-1;if("function"==typeof n){let r=5e-324;for(let s=0;s<t.length;s++){let i=n(e,t[s]);i>r&&(r=i,o=s)}}else if("function"==typeof s){let r=Number.MAX_VALUE;for(let i=0;i<t.length;i++){let n=s(e,t[i]);n<r&&(r=n,o=i)}}else throw Error("A similarity or distance function it's required");return o}(e,t[n],{distanceFunction:s});return r}class o{clusters;centroids;converged;iterations;distance;constructor(t,e,r,s,i){this.clusters=t,this.centroids=e,this.converged=r,this.iterations=s,this.distance=i}nearest(t){let e=Array(t.length);return n(t,this.centroids,e,this.distance)}computeInformation(t){let e=this.centroids.map(t=>({centroid:t,error:0,size:0}));for(let r=0;r<t.length;r++)e[this.clusters[r]].error+=this.distance(t[r],this.centroids[this.clusters[r]]),e[this.clusters[r]].size++;for(let t=0;t<this.centroids.length;t++){let r=e[t].error;e[t].size>0&&-1!==r?r/=e[t].size:e[t].error=-1}return e}}var a=r(10673);a.AbstractMatrix,a.CHO,a.CholeskyDecomposition,a.DistanceMatrix,a.EVD,a.EigenvalueDecomposition,a.LU,a.LuDecomposition;let l=a.Matrix;a.MatrixColumnSelectionView,a.MatrixColumnView,a.MatrixFlipColumnView,a.MatrixFlipRowView,a.MatrixRowSelectionView,a.MatrixRowView,a.MatrixSelectionView,a.MatrixSubView,a.MatrixTransposeView,a.NIPALS,a.Nipals,a.QR,a.QrDecomposition,a.SVD,a.SingularValueDecomposition,a.SymmetricMatrix,a.WrapperMatrix1D,a.WrapperMatrix2D,a.correlation,a.covariance,a.Matrix,a.Matrix,a.determinant,a.inverse,a.linearDependencies,a.pseudoInverse,a.solve,a.wrap;let u=1/0x1000000;class h{random;state;constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*u}init(t){if(!Number.isInteger(t))throw TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let t=1;t<8;t++)this.state[3&t]^=t+function(t,e){let r=65535&(t>>>=0);return((t-r)*(e>>>=0)>>>0)+r*e>>>0}(0x6c078965,this.state[t-1&3]^this.state[t-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let t=0;t<8;t++)this.nextState()}periodCertification(){0===this.state[0]&&0===this.state[1]&&0===this.state[2]&&0===this.state[3]&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<15,t^=t>>>18,t^=this.state[3]<<11,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}let c=function(t,e={},r=Math.random){let s,i,{size:n=1,replace:o=!1,probabilities:a}=e;if(s="number"==typeof t?function(t){let e=[];for(let r=0;r<t;r++)e.push(r);return e}(t):t.slice(),a){if(!o)throw Error("choice with probabilities and no replacement is not implemented");if(a.length!==s.length)throw Error("the length of probabilities option should be equal to the number of choices");i=[a[0]];for(let t=1;t<a.length;t++)i[t]=i[t-1]+a[t];if(Math.abs(1-i.at(-1))>1e-8)throw Error(`probabilities should sum to 1, but instead sums to ${i.at(-1)}`)}if(!o&&n>s.length)throw Error("size option is too large");let l=[];for(let t=0;t<n;t++){let t=function(t,e,r){let s=e();if(!r)return Math.floor(s*t);{let t=0;for(;s>r[t];)t++;return t}}(s.length,r,i);l.push(s[t]),o||s.splice(t,1)}return l};class f{randomGenerator;constructor(t=Math.random){if("number"==typeof t){let e=new h(t);this.randomGenerator=e.random}else this.randomGenerator=t}choice(t,e){return c(t,e,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,e){return void 0===e&&(e=t,t=0),t+Math.floor(this.randomGenerator()*(e-t))}randomSample(t){let e=[];for(let r=0;r<t;r++)e.push(this.random());return e}}function d(t){let e=[t[0]];for(let r=1;r<t.length;r++)e[r]=e[r-1]+t[r];return e}let m={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:s};function g(t,e,r){var i;let a,u=(i=r,{...m,...i});if(e<=0||e>t.length||!Number.isInteger(e))throw Error("K should be a positive integer smaller than the number of points");let h=function(t,e,r){let i;if(Array.isArray(r.initialization))if(r.initialization.length!==e)throw Error("The initial centers should have the same length as K");else i=r.initialization;else switch(r.initialization){case"kmeans++":i=function(t,e,r={}){let i=new l(t),n=i.rows,o=new f(r.seed),a=[],u=r.localTrials||2+Math.floor(Math.log(e)),h=o.randInt(n);a.push(i.getRow(h));let c=new l(1,i.rows);for(let t=0;t<i.rows;t++)c.set(0,t,s(i.getRow(t),a[0]));let m=[d(c.getRow(0))],g=1/m[0][n-1],w=l.mul(c,g);for(let t=1;t<e;t++){let e=o.choice(n,{replace:!0,size:u,probabilities:w.getRow(0)}),r=function(t,e){let r=new l(t.rows,e.rows);for(let i=0;i<t.rows;i++)for(let n=0;n<e.rows;n++)r.set(i,n,s(t.getRow(i),e.getRow(n)));return r}(i.selection(e,function(t){let e=[];for(let r=0;r<t;r++)e.push(r);return e}(i.columns)),i),h=1/0,f=1/0,g=c;for(let t=0;t<u;t++){let s=l.min(c,[r.getRow(t)]),i=s.sum();i<f&&(h=e[t],f=i,g=s)}a[t]=i.getRow(h),m=[d((c=g).getRow(0))],w=l.mul(c,1/m[0][n-1])}return a}(t,e,r);break;case"random":i=new f(r.seed).choice(t,{size:e});break;case"mostDistant":i=function(t,e,r,s){let i=new f(s),n=Array(e);if(n[0]=Math.floor(i.random()*t.length),e>1){let s={dist:-1,index:-1};for(let e=0;e<t.length;++e)r[n[0]][e]>s.dist&&(s.dist=r[n[0]][e],s.index=e);if(n[1]=s.index,e>2)for(let s=2;s<e;++s){let e={dist:-1,index:-1};for(let i=0;i<t.length;++i){let t={dist:Number.MAX_VALUE,index:-1};for(let e=0;e<s;++e)r[e][i]<t.dist&&!n.includes(i)&&(t={dist:r[e][i],index:i});t.dist!==Number.MAX_VALUE&&t.dist>e.dist&&(e={...t})}n[s]=e.index}}return n.map(e=>t[e])}(t,e,function(t,e){let r=Array(t.length);for(let s=0;s<t.length;++s)for(let i=s;i<t.length;++i){r[s]||(r[s]=Array(t.length)),r[i]||(r[i]=Array(t.length));let n=e(t[s],t[i]);r[s][i]=n,r[i][s]=n}return r}(t,r.distanceFunction),r.seed);break;default:var n=r.initialization;throw Error(`Unknown initialization method: "${String(n)}"`)}return i}(t,e,u);0===u.maxIterations&&(u.maxIterations=Number.MAX_VALUE);let c=Array(t.length),g=!1,w=0;for(;!g&&w<u.maxIterations;)g=(a=function(t,e,r,s,i,a){r=n(e,t,r,i.distanceFunction);let l=function(t,e,r,s){let i=e[0].length,n=Array(s),o=Array(s);for(let t=0;t<s;t++){n[t]=Array(i),o[t]=0;for(let e=0;e<i;e++)n[t][e]=0}for(let t=0;t<e.length;t++){o[r[t]]++;for(let s=0;s<i;s++)n[r[t]][s]+=e[t][s]}for(let e=0;e<s;e++)for(let r=0;r<i;r++)o[e]?n[e][r]/=o[e]:n[e][r]=t[e][r];return n}(t,e,r,s),u=function(t,e,r,s){for(let i=0;i<t.length;i++)if(r(t[i],e[i])>s)return!1;return!0}(l,t,i.distanceFunction,i.tolerance);return new o(r,l,u,a,i.distanceFunction)}(h,t,c,e,u,++w)).converged,h=a.centroids;if(!a)throw Error("unreachable: no kmeans step executed");return a}},3075(t,e,r){"use strict";let s,i,n,o,a;function l(t){let e=t.length;for(;--e>=0;)t[e]=0}r.d(e,{Kc:()=>eZ});let u=573,h=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),c=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m=Array(576);l(m);let g=Array(60);l(g);let w=Array(512);l(w);let p=Array(256);l(p);let y=Array(29);l(y);let b=Array(30);function _(t,e,r,s,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=s,this.max_length=i,this.has_stree=t&&t.length}function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}l(b);let k=t=>t<256?w[t]:w[256+(t>>>7)],x=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},M=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},S=(t,e,r)=>{M(t,r[2*e],r[2*e+1])},E=(t,e)=>{let r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0)return r>>>1},T=(t,e,r)=>{let s,i,n=Array(16),o=0;for(s=1;s<=15;s++)o=o+r[s-1]<<1,n[s]=o;for(i=0;i<=e;i++){let e=t[2*i+1];0!==e&&(t[2*i]=E(n[e]++,e))}},O=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},N=t=>{t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=(t,e,r,s)=>{let i=2*e,n=2*r;return t[i]<t[n]||t[i]===t[n]&&s[e]<=s[r]},D=(t,e,r)=>{let s=t.heap[r],i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&A(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!A(e,s,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=s},z=(t,e,r)=>{let s,i,n,o,a=0;if(0!==t.sym_next)do s=(255&t.pending_buf[t.sym_buf+a++])+((255&t.pending_buf[t.sym_buf+a++])<<8),i=t.pending_buf[t.sym_buf+a++],0===s?S(t,i,e):(S(t,(n=p[i])+256+1,e),0!==(o=h[n])&&M(t,i-=y[n],o),S(t,n=k(--s),r),0!==(o=c[n])&&M(t,s-=b[n],o));while(a<t.sym_next)S(t,256,e)},I=(t,e)=>{let r,s,i,n=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(r=0,t.heap_len=0,t.heap_max=u;r<l;r++)0!==n[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):n[2*r+1]=0;for(;t.heap_len<2;)n[2*(i=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=o[2*i+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)D(t,n,r);i=l;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],D(t,n,1),s=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=s,n[2*i]=n[2*r]+n[2*s],t.depth[i]=(t.depth[r]>=t.depth[s]?t.depth[r]:t.depth[s])+1,n[2*r+1]=n[2*s+1]=i,t.heap[1]=i++,D(t,n,1);while(t.heap_len>=2)t.heap[--t.heap_max]=t.heap[1],((t,e)=>{let r,s,i,n,o,a,l=e.dyn_tree,h=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,m=e.stat_desc.extra_base,g=e.stat_desc.max_length,w=0;for(n=0;n<=15;n++)t.bl_count[n]=0;for(l[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<u;r++)(n=l[2*l[2*(s=t.heap[r])+1]+1]+1)>g&&(n=g,w++),l[2*s+1]=n,!(s>h)&&(t.bl_count[n]++,o=0,s>=m&&(o=d[s-m]),a=l[2*s],t.opt_len+=a*(n+o),f&&(t.static_len+=a*(c[2*s+1]+o)));if(0!==w){do{for(n=g-1;0===t.bl_count[n];)n--;t.bl_count[n]--,t.bl_count[n+1]+=2,t.bl_count[g]--,w-=2}while(w>0)for(n=g;0!==n;n--)for(s=t.bl_count[n];0!==s;)!((i=t.heap[--r])>h)&&(l[2*i+1]!==n&&(t.opt_len+=(n-l[2*i+1])*l[2*i],l[2*i+1]=n),s--)}})(t,e),T(n,h,t.bl_count)},R=(t,e,r)=>{let s,i,n=-1,o=e[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),e[(r+1)*2+1]=65535,s=0;s<=r;s++)i=o,o=e[(s+1)*2+1],++a<l&&i===o||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==n&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,n=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4))},V=(t,e,r)=>{let s,i,n=-1,o=e[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),s=0;s<=r;s++)if(i=o,o=e[(s+1)*2+1],!(++a<l)||i!==o){if(a<u)do S(t,i,t.bl_tree);while(0!=--a)else 0!==i?(i!==n&&(S(t,i,t.bl_tree),a--),S(t,16,t.bl_tree),M(t,a-3,2)):a<=10?(S(t,17,t.bl_tree),M(t,a-3,3)):(S(t,18,t.bl_tree),M(t,a-11,7));a=0,n=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4)}},C=!1,F=(t,e,r,s)=>{M(t,0+ +!!s,3),N(t),x(t,r),x(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var L={_tr_init:t=>{C||((()=>{let t,e,r,o,a,l=Array(16);for(o=0,r=0;o<28;o++)for(t=0,y[o]=r;t<1<<h[o];t++)p[r++]=o;for(p[r-1]=o,a=0,o=0;o<16;o++)for(t=0,b[o]=a;t<1<<c[o];t++)w[a++]=o;for(a>>=7;o<30;o++)for(t=0,b[o]=a<<7;t<1<<c[o]-7;t++)w[256+a++]=o;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)m[2*t+1]=8,t++,l[8]++;for(;t<=255;)m[2*t+1]=9,t++,l[9]++;for(;t<=279;)m[2*t+1]=7,t++,l[7]++;for(;t<=287;)m[2*t+1]=8,t++,l[8]++;for(T(m,287,l),t=0;t<30;t++)g[2*t+1]=5,g[2*t]=E(t,5);s=new _(m,h,257,286,15),i=new _(g,c,0,30,15),n=new _([],f,0,19,7)})(),C=!0),t.l_desc=new v(t.dyn_ltree,s),t.d_desc=new v(t.dyn_dtree,i),t.bl_desc=new v(t.bl_tree,n),t.bi_buf=0,t.bi_valid=0,O(t)},_tr_stored_block:F,_tr_flush_block:(t,e,r,s)=>{let i,n,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=0xf3ffc07f;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),I(t,t.l_desc),I(t,t.d_desc),o=(t=>{let e;for(R(t,t.dyn_ltree,t.l_desc.max_code),R(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,(n=t.static_len+3+7>>>3)<=i&&(i=n)):i=n=r+5,r+4<=i&&-1!==e?F(t,e,r,s):4===t.strategy||n===i?(M(t,2+ +!!s,3),z(t,m,g)):(M(t,4+ +!!s,3),((t,e,r,s)=>{let i;for(M(t,e-257,5),M(t,r-1,5),M(t,s-4,4),i=0;i<s;i++)M(t,t.bl_tree[2*d[i]+1],3);V(t,t.dyn_ltree,e-1),V(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),z(t,t.dyn_ltree,t.dyn_dtree)),O(t),s&&N(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[(p[r]+256+1)*2]++,t.dyn_dtree[2*k(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{M(t,2,3),S(t,256,m),16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},Z=(t,e,r,s)=>{let i=65535&t,n=t>>>16&65535,o=0;for(;0!==r;){o=r>2e3?2e3:r,r-=o;do n=n+(i=i+e[s++]|0)|0;while(--o)i%=65521,n%=65521}return i|n<<16};let $=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var s=0;s<8;s++)t=1&t?0xedb88320^t>>>1:t>>>1;e[r]=t}return e})());var U=(t,e,r,s)=>{let i=s+r;t^=-1;for(let r=s;r<i;r++)t=t>>>8^$[(t^e[r])&255];return -1^t},q={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},W={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:j,_tr_stored_block:P,_tr_flush_block:H,_tr_tally:Y,_tr_align:B}=L,{Z_NO_FLUSH:G,Z_PARTIAL_FLUSH:J,Z_FULL_FLUSH:Q,Z_FINISH:K,Z_BLOCK:X,Z_OK:tt,Z_STREAM_END:te,Z_STREAM_ERROR:tr,Z_DATA_ERROR:ts,Z_BUF_ERROR:ti,Z_DEFAULT_COMPRESSION:tn,Z_FILTERED:to,Z_HUFFMAN_ONLY:ta,Z_RLE:tl,Z_FIXED:tu,Z_DEFAULT_STRATEGY:th,Z_UNKNOWN:tc,Z_DEFLATED:tf}=W,td=573,tm=(t,e)=>(t.msg=q[e],e),tg=t=>2*t-9*(t>4),tw=t=>{let e=t.length;for(;--e>=0;)t[e]=0},tp=t=>{let e,r,s,i=t.w_size;s=e=t.hash_size;do r=t.head[--s],t.head[s]=r>=i?r-i:0;while(--e)s=e=i;do r=t.prev[--s],t.prev[s]=r>=i?r-i:0;while(--e)},ty=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,tb=t=>{let e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},t_=(t,e)=>{H(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tb(t.strm)},tv=(t,e)=>{t.pending_buf[t.pending++]=e},tk=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tx=(t,e,r,s)=>{let i=t.avail_in;return(i>s&&(i=s),0===i)?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=Z(t.adler,e,i,r):2===t.state.wrap&&(t.adler=U(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},tM=(t,e)=>{let r,s,i=t.max_chain_length,n=t.strstart,o=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,u=t.window,h=t.w_mask,c=t.prev,f=t.strstart+258,d=u[n+o-1],m=u[n+o];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(r=e)+o]!==m||u[r+o-1]!==d||u[r]!==u[n]||u[++r]!==u[n+1])continue;n+=2,r++;do;while(u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&n<f)if(s=258-(f-n),n=f-258,s>o){if(t.match_start=e,o=s,s>=a)break;d=u[n+o-1],m=u[n+o]}}while((e=c[e&h])>l&&0!=--i)return o<=t.lookahead?o:t.lookahead},tS=t=>{let e,r,s,i=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-262)&&(t.window.set(t.window.subarray(i,i+i-r),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),tp(t),r+=i),0===t.strm.avail_in)break;if(e=tx(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=e,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=ty(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=ty(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},tE=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s,i,n,o=0,a=t.strm.avail_in;do{if(s=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n||(n=t.strm.avail_out-n,s>(i=t.strstart-t.block_start)+t.strm.avail_in&&(s=i+t.strm.avail_in),s>n&&(s=n),s<r&&(0===s&&e!==K||e===G||s!==i+t.strm.avail_in)))break;o=+(e===K&&s===i+t.strm.avail_in),P(t,0,0,o),t.pending_buf[t.pending-4]=s,t.pending_buf[t.pending-3]=s>>8,t.pending_buf[t.pending-2]=~s,t.pending_buf[t.pending-1]=~s>>8,tb(t.strm),i&&(i>s&&(i=s),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,s-=i),s&&(tx(t.strm,t.strm.output,t.strm.next_out,s),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s)}while(0===o)return((a-=t.strm.avail_in)&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o)?4:e!==G&&e!==K&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(tx(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,r=(n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n)>t.w_size?t.w_size:n,((i=t.strstart-t.block_start)>=r||(i||e===K)&&e!==G&&0===t.strm.avail_in&&i<=n)&&(s=i>n?n:i,o=+(e===K&&0===t.strm.avail_in&&s===i),P(t,t.block_start,s,o),t.block_start+=s,tb(t.strm)),o?3:1)},tT=(t,e)=>{let r,s;for(;;){if(t.lookahead<262){if(tS(t),t.lookahead<262&&e===G)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=ty(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=tM(t,r)),t.match_length>=3)if(s=Y(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=ty(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!=--t.match_length)t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ty(t,t.ins_h,t.window[t.strstart+1]);else s=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(t_(t,!1),0===t.strm.avail_out))return 1}return(t.insert=t.strstart<2?t.strstart:2,e===K)?(t_(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(t_(t,!1),0===t.strm.avail_out)?1:2},tO=(t,e)=>{let r,s,i;for(;;){if(t.lookahead<262){if(tS(t),t.lookahead<262&&e===G)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=ty(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=tM(t,r),t.match_length<=5&&(t.strategy===to||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,s=Y(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=ty(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!=--t.prev_length)if(t.match_available=0,t.match_length=2,t.strstart++,s&&(t_(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((s=Y(t,0,t.window[t.strstart-1]))&&t_(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return(t.match_available&&(s=Y(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===K)?(t_(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(t_(t,!1),0===t.strm.avail_out)?1:2};function tN(t,e,r,s,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=s,this.func=i}let tA=[new tN(0,0,0,0,tE),new tN(4,4,8,4,tT),new tN(4,5,16,8,tT),new tN(4,6,32,32,tT),new tN(4,4,16,16,tO),new tN(8,16,32,32,tO),new tN(8,16,128,128,tO),new tN(8,32,128,256,tO),new tN(32,128,258,1024,tO),new tN(32,258,258,4096,tO)];function tD(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tf,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*td),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),tw(this.dyn_ltree),tw(this.dyn_dtree),tw(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),tw(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),tw(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let tz=t=>{if(!t)return 1;let e=t.state;return e&&e.strm===t&&(42===e.status||57===e.status||69===e.status||73===e.status||91===e.status||103===e.status||113===e.status||666===e.status)?0:1};var tI=(t,e)=>{if(tz(t)||e>X||e<0)return t?tm(t,tr):tr;let r=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===r.status&&e!==K)return tm(t,0===t.avail_out?ti:tr);let s=r.last_flush;if(r.last_flush=e,0!==r.pending){if(tb(t),0===t.avail_out)return r.last_flush=-1,tt}else if(0===t.avail_in&&tg(e)<=tg(s)&&e!==K)return tm(t,ti);if(666===r.status&&0!==t.avail_in)return tm(t,ti);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){let e=tf+(r.w_bits-8<<4)<<8;if(e|=(r.strategy>=ta||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(e|=32),tk(r,e+=31-e%31),0!==r.strstart&&(tk(r,t.adler>>>16),tk(r,65535&t.adler)),t.adler=1,r.status=113,tb(t),0!==r.pending)return r.last_flush=-1,tt}if(57===r.status){if(t.adler=0,tv(r,31),tv(r,139),tv(r,8),r.gzhead)tv(r,+!!r.gzhead.text+2*!!r.gzhead.hcrc+4*!!r.gzhead.extra+8*!!r.gzhead.name+16*!!r.gzhead.comment),tv(r,255&r.gzhead.time),tv(r,r.gzhead.time>>8&255),tv(r,r.gzhead.time>>16&255),tv(r,r.gzhead.time>>24&255),tv(r,9===r.level?2:4*(r.strategy>=ta||r.level<2)),tv(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(tv(r,255&r.gzhead.extra.length),tv(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=U(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(tv(r,0),tv(r,0),tv(r,0),tv(r,0),tv(r,0),tv(r,9===r.level?2:4*(r.strategy>=ta||r.level<2)),tv(r,3),r.status=113,tb(t),0!==r.pending)return r.last_flush=-1,tt}if(69===r.status){if(r.gzhead.extra){let e=r.pending,s=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=U(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,tb(t),0!==r.pending)return r.last_flush=-1,tt;e=0,s-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>e&&(t.adler=U(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,s=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(t.adler=U(t.adler,r.pending_buf,r.pending-s,s)),tb(t),0!==r.pending)return r.last_flush=-1,tt;s=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,tv(r,e)}while(0!==e)r.gzhead.hcrc&&r.pending>s&&(t.adler=U(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,s=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(t.adler=U(t.adler,r.pending_buf,r.pending-s,s)),tb(t),0!==r.pending)return r.last_flush=-1,tt;s=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,tv(r,e)}while(0!==e)r.gzhead.hcrc&&r.pending>s&&(t.adler=U(t.adler,r.pending_buf,r.pending-s,s))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(tb(t),0!==r.pending))return r.last_flush=-1,tt;tv(r,255&t.adler),tv(r,t.adler>>8&255),t.adler=0}if(r.status=113,tb(t),0!==r.pending)return r.last_flush=-1,tt}if(0!==t.avail_in||0!==r.lookahead||e!==G&&666!==r.status){let s=0===r.level?tE(r,e):r.strategy===ta?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(tS(t),0===t.lookahead)){if(e===G)return 1;break}if(t.match_length=0,r=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(t_(t,!1),0===t.strm.avail_out))return 1}return(t.insert=0,e===K)?(t_(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(t_(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===tl?((t,e)=>{let r,s,i,n,o=t.window;for(;;){if(t.lookahead<=258){if(tS(t),t.lookahead<=258&&e===G)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(s=o[i=t.strstart-1])===o[++i]&&s===o[++i]&&s===o[++i]){n=t.strstart+258;do;while(s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&i<n)t.match_length=258-(n-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=Y(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(t_(t,!1),0===t.strm.avail_out))return 1}return(t.insert=0,e===K)?(t_(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(t_(t,!1),0===t.strm.avail_out)?1:2})(r,e):tA[r.level].func(r,e);if((3===s||4===s)&&(r.status=666),1===s||3===s)return 0===t.avail_out&&(r.last_flush=-1),tt;if(2===s&&(e===J?B(r):e!==X&&(P(r,0,0,!1),e===Q&&(tw(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tb(t),0===t.avail_out))return r.last_flush=-1,tt}return e!==K?tt:r.wrap<=0?te:(2===r.wrap?(tv(r,255&t.adler),tv(r,t.adler>>8&255),tv(r,t.adler>>16&255),tv(r,t.adler>>24&255),tv(r,255&t.total_in),tv(r,t.total_in>>8&255),tv(r,t.total_in>>16&255),tv(r,t.total_in>>24&255)):(tk(r,t.adler>>>16),tk(r,65535&t.adler)),tb(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?tt:te)},tR=t=>{if(tz(t))return tr;let e=t.state.status;return t.state=null,113===e?tm(t,ts):tt};let tV=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tC=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let r=e.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(let e in r)tV(r,e)&&(t[e]=r[e])}}return t},tF=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;let r=new Uint8Array(e);for(let e=0,s=0,i=t.length;e<i;e++){let i=t[e];r.set(i,s),s+=i.length}return r};let tL=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){tL=!1}let tZ=new Uint8Array(256);for(let t=0;t<256;t++)tZ[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;tZ[254]=tZ[254]=1;var t$=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,s,i,n,o=t.length,a=0;for(i=0;i<o;i++)(64512&(r=t.charCodeAt(i)))==55296&&i+1<o&&(64512&(s=t.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(s-56320),i++),a+=r<128?1:r<2048?2:r<65536?3:4;for(n=0,e=new Uint8Array(a),i=0;n<a;i++)(64512&(r=t.charCodeAt(i)))==55296&&i+1<o&&(64512&(s=t.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(s-56320),i++),r<128?e[n++]=r:(r<2048?e[n++]=192|r>>>6:(r<65536?e[n++]=224|r>>>12:(e[n++]=240|r>>>18,e[n++]=128|r>>>12&63),e[n++]=128|r>>>6&63),e[n++]=128|63&r);return e},tU=(t,e)=>{let r,s,i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n=Array(2*i);for(s=0,r=0;r<i;){let e=t[r++];if(e<128){n[s++]=e;continue}let o=tZ[e];if(o>4){n[s++]=65533,r+=o-1;continue}for(e&=2===o?31:3===o?15:7;o>1&&r<i;)e=e<<6|63&t[r++],o--;if(o>1){n[s++]=65533;continue}e<65536?n[s++]=e:(e-=65536,n[s++]=55296|e>>10&1023,n[s++]=56320|1023&e)}var o=s;if(o<65534&&n.subarray&&tL)return String.fromCharCode.apply(null,n.length===o?n:n.subarray(0,o));let a="";for(let t=0;t<o;t++)a+=String.fromCharCode(n[t]);return a},tq=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(192&t[r])==128;)r--;return r<0||0===r?e:r+tZ[t[r]]>e?r:e},tW=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let tj=Object.prototype.toString,{Z_NO_FLUSH:tP,Z_SYNC_FLUSH:tH,Z_FULL_FLUSH:tY,Z_FINISH:tB,Z_OK:tG,Z_STREAM_END:tJ,Z_DEFAULT_COMPRESSION:tQ,Z_DEFAULT_STRATEGY:tK,Z_DEFLATED:tX}=W;function t0(t){let e,r;this.options=tC({level:tQ,method:tX,chunkSize:16384,windowBits:15,memLevel:8,strategy:tK},t||{});let s=this.options;s.raw&&s.windowBits>0?s.windowBits=-s.windowBits:s.gzip&&s.windowBits>0&&s.windowBits<16&&(s.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tW,this.strm.avail_out=0;let i=((t,e,r,s,i,n)=>{var o,a;let l;if(!t)return tr;let u=1;if(e===tn&&(e=6),s<0?(u=0,s=-s):s>15&&(u=2,s-=16),i<1||i>9||r!==tf||s<8||s>15||e<0||e>9||n<0||n>tu||8===s&&1!==u)return tm(t,tr);8===s&&(s=9);let h=new tD;return t.state=h,h.strm=t,h.status=42,h.wrap=u,h.gzhead=null,h.w_bits=s,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=i+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<i+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=(h.lit_bufsize-1)*3,h.level=e,h.strategy=n,h.method=r,(l=(t=>{if(tz(t))return tm(t,tr);t.total_in=t.total_out=0,t.data_type=tc;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=+(2!==e.wrap),e.last_flush=-2,j(e),tt})(o=t))===tt&&((a=o.state).window_size=2*a.w_size,tw(a.head),a.max_lazy_match=tA[a.level].max_lazy,a.good_match=tA[a.level].good_length,a.nice_match=tA[a.level].nice_length,a.max_chain_length=tA[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),l})(this.strm,s.level,s.method,s.windowBits,s.memLevel,s.strategy);if(i!==tG)throw Error(q[i]);if(s.header&&(e=this.strm,r=s.header,tz(e)||2!==e.state.wrap||(e.state.gzhead=r)),s.dictionary){let t;if(t="string"==typeof s.dictionary?t$(s.dictionary):"[object ArrayBuffer]"===tj.call(s.dictionary)?new Uint8Array(s.dictionary):s.dictionary,(i=((t,e)=>{let r=e.length;if(tz(t))return tr;let s=t.state,i=s.wrap;if(2===i||1===i&&42!==s.status||s.lookahead)return tr;if(1===i&&(t.adler=Z(t.adler,e,r,0)),s.wrap=0,r>=s.w_size){0===i&&(tw(s.head),s.strstart=0,s.block_start=0,s.insert=0);let t=new Uint8Array(s.w_size);t.set(e.subarray(r-s.w_size,r),0),e=t,r=s.w_size}let n=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,tS(s);s.lookahead>=3;){let t=s.strstart,e=s.lookahead-2;do s.ins_h=ty(s,s.ins_h,s.window[t+3-1]),s.prev[t&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=t,t++;while(--e)s.strstart=t,s.lookahead=2,tS(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=2,s.match_available=0,t.next_in=o,t.input=a,t.avail_in=n,s.wrap=i,tt})(this.strm,t))!==tG)throw Error(q[i]);this._dict_set=!0}}function t1(t,e){let r=new t0(e);if(r.push(t,!0),r.err)throw r.msg||q[r.err];return r.result}t0.prototype.push=function(t,e){let r,s,i=this.strm,n=this.options.chunkSize;if(this.ended)return!1;for(s=e===~~e?e:!0===e?tB:tP,"string"==typeof t?i.input=t$(t):"[object ArrayBuffer]"===tj.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(s===tH||s===tY)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if((r=tI(i,s))===tJ)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=tR(this.strm),this.onEnd(r),this.ended=!0,r===tG;if(0===i.avail_out){this.onData(i.output);continue}if(s>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(0===i.avail_in)break}return!0},t0.prototype.onData=function(t){this.chunks.push(t)},t0.prototype.onEnd=function(t){t===tG&&(this.result=tF(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var t2=function(t,e){let r,s,i,n,o,a,l,u,h,c,f,d,m,g,w,p,y,b,_,v,k,x,M,S,E=t.state;r=t.next_in,M=t.input,s=r+(t.avail_in-5),i=t.next_out,S=t.output,n=i-(e-t.avail_out),o=i+(t.avail_out-257),a=E.dmax,l=E.wsize,u=E.whave,h=E.wnext,c=E.window,f=E.hold,d=E.bits,m=E.lencode,g=E.distcode,w=(1<<E.lenbits)-1,p=(1<<E.distbits)-1;e:do for(d<15&&(f+=M[r++]<<d,d+=8,f+=M[r++]<<d,d+=8),y=m[f&w];;){if(f>>>=b=y>>>24,d-=b,0==(b=y>>>16&255))S[i++]=65535&y;else if(16&b)for(_=65535&y,(b&=15)&&(d<b&&(f+=M[r++]<<d,d+=8),_+=f&(1<<b)-1,f>>>=b,d-=b),d<15&&(f+=M[r++]<<d,d+=8,f+=M[r++]<<d,d+=8),y=g[f&p];;){if(f>>>=b=y>>>24,d-=b,16&(b=y>>>16&255)){if(v=65535&y,d<(b&=15)&&(f+=M[r++]<<d,(d+=8)<b&&(f+=M[r++]<<d,d+=8)),(v+=f&(1<<b)-1)>a){t.msg="invalid distance too far back",E.mode=16209;break e}if(f>>>=b,d-=b,v>(b=i-n)){if((b=v-b)>u&&E.sane){t.msg="invalid distance too far back",E.mode=16209;break e}if(k=0,x=c,0===h){if(k+=l-b,b<_){_-=b;do S[i++]=c[k++];while(--b)k=i-v,x=S}}else if(h<b){if(k+=l+h-b,(b-=h)<_){_-=b;do S[i++]=c[k++];while(--b)if(k=0,h<_){_-=b=h;do S[i++]=c[k++];while(--b)k=i-v,x=S}}}else if(k+=h-b,b<_){_-=b;do S[i++]=c[k++];while(--b)k=i-v,x=S}for(;_>2;)S[i++]=x[k++],S[i++]=x[k++],S[i++]=x[k++],_-=3;_&&(S[i++]=x[k++],_>1&&(S[i++]=x[k++]))}else{k=i-v;do S[i++]=S[k++],S[i++]=S[k++],S[i++]=S[k++],_-=3;while(_>2)_&&(S[i++]=S[k++],_>1&&(S[i++]=S[k++]))}}else if((64&b)==0){y=g[(65535&y)+(f&(1<<b)-1)];continue}else{t.msg="invalid distance code",E.mode=16209;break e}break}else if((64&b)==0){y=m[(65535&y)+(f&(1<<b)-1)];continue}else if(32&b){E.mode=16191;break e}else{t.msg="invalid literal/length code",E.mode=16209;break e}break}while(r<s&&i<o)r-=_=d>>3,d-=_<<3,f&=(1<<d)-1,t.next_in=r,t.next_out=i,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=i<o?257+(o-i):257-(i-o),E.hold=f,E.bits=d};let t5=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),t6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),t3=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),t8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var t4=(t,e,r,s,i,n,o,a)=>{let l,u,h,c,f,d,m,g,w,p=a.bits,y=0,b=0,_=0,v=0,k=0,x=0,M=0,S=0,E=0,T=0,O=null,N=new Uint16Array(16),A=new Uint16Array(16),D=null;for(y=0;y<=15;y++)N[y]=0;for(b=0;b<s;b++)N[e[r+b]]++;for(v=15,k=p;v>=1&&0===N[v];v--);if(k>v&&(k=v),0===v)return i[n++]=0x1400000,i[n++]=0x1400000,a.bits=1,0;for(_=1;_<v&&0===N[_];_++);for(k<_&&(k=_),S=1,y=1;y<=15;y++)if(S<<=1,(S-=N[y])<0)return -1;if(S>0&&(0===t||1!==v))return -1;for(y=1,A[1]=0;y<15;y++)A[y+1]=A[y]+N[y];for(b=0;b<s;b++)0!==e[r+b]&&(o[A[e[r+b]]++]=b);if(0===t?(O=D=o,d=20):1===t?(O=t5,D=t6,d=257):(O=t3,D=t8,d=0),T=0,b=0,y=_,f=n,x=k,M=0,h=-1,c=(E=1<<k)-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){m=y-M,o[b]+1<d?(g=0,w=o[b]):o[b]>=d?(g=D[o[b]-d],w=O[o[b]-d]):(g=96,w=0),l=1<<y-M,_=u=1<<x;do i[f+(T>>M)+(u-=l)]=m<<24|g<<16|w;while(0!==u)for(l=1<<y-1;T&l;)l>>=1;if(0!==l?(T&=l-1,T+=l):T=0,b++,0==--N[y]){if(y===v)break;y=e[r+o[b]]}if(y>k&&(T&c)!==h){for(0===M&&(M=k),f+=_,S=1<<(x=y-M);x+M<v&&!((S-=N[x+M])<=0);)x++,S<<=1;if(E+=1<<x,1===t&&E>852||2===t&&E>592)return 1;i[h=T&c]=k<<24|x<<16|f-n}}return 0!==T&&(i[f+T]=y-M<<24|4194304),a.bits=k,0};let{Z_FINISH:t9,Z_BLOCK:t7,Z_TREES:et,Z_OK:ee,Z_STREAM_END:er,Z_NEED_DICT:es,Z_STREAM_ERROR:ei,Z_DATA_ERROR:en,Z_MEM_ERROR:eo,Z_BUF_ERROR:ea,Z_DEFLATED:el}=W,eu=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function eh(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let ec=t=>{if(!t)return 1;let e=t.state;return+(!e||e.strm!==t||e.mode<16180||e.mode>16211)},ef=t=>{if(ec(t))return ei;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,(t=>{if(ec(t))return ei;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ee})(t)},ed=!0,em=t=>{if(ed){o=new Int32Array(512),a=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(t4(1,t.lens,0,288,o,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;t4(2,t.lens,0,32,a,0,t.work,{bits:5}),ed=!1}t.lencode=o,t.lenbits=9,t.distcode=a,t.distbits=5},eg=(t,e,r,s)=>{let i,n=t.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),s>=n.wsize?(n.window.set(e.subarray(r-n.wsize,r),0),n.wnext=0,n.whave=n.wsize):((i=n.wsize-n.wnext)>s&&(i=s),n.window.set(e.subarray(r-s,r-s+i),n.wnext),(s-=i)?(n.window.set(e.subarray(r-s,r),0),n.wnext=s,n.whave=n.wsize):(n.wnext+=i,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=i))),0};var ew=(t,e)=>{let r,s,i,n,o,a,l,u,h,c,f,d,m,g,w,p,y,b,_,v,k,x,M,S,E=0,T=new Uint8Array(4),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ec(t)||!t.output||!t.input&&0!==t.avail_in)return ei;16191===(r=t.state).mode&&(r.mode=16192),o=t.next_out,i=t.output,l=t.avail_out,n=t.next_in,s=t.input,a=t.avail_in,u=r.hold,h=r.bits,c=a,f=l,x=ee;r:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;h<16;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if(2&r.wrap&&35615===u){0===r.wbits&&(r.wbits=15),r.check=0,T[0]=255&u,T[1]=u>>>8&255,r.check=U(r.check,T,2,0),u=0,h=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=16209;break}if((15&u)!==el){t.msg="unknown compression method",r.mode=16209;break}if(u>>>=4,h-=4,k=(15&u)+8,0===r.wbits&&(r.wbits=k),k>15||k>r.wbits){t.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&u?16189:16191,u=0,h=0;break;case 16181:for(;h<16;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if(r.flags=u,(255&r.flags)!==el){t.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&4&r.wrap&&(T[0]=255&u,T[1]=u>>>8&255,r.check=U(r.check,T,2,0)),u=0,h=0,r.mode=16182;case 16182:for(;h<32;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}r.head&&(r.head.time=u),512&r.flags&&4&r.wrap&&(T[0]=255&u,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=U(r.check,T,4,0)),u=0,h=0,r.mode=16183;case 16183:for(;h<16;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&4&r.wrap&&(T[0]=255&u,T[1]=u>>>8&255,r.check=U(r.check,T,2,0)),u=0,h=0,r.mode=16184;case 16184:if(1024&r.flags){for(;h<16;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&4&r.wrap&&(T[0]=255&u,T[1]=u>>>8&255,r.check=U(r.check,T,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((d=r.length)>a&&(d=a),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(n,n+d),k)),512&r.flags&&4&r.wrap&&(r.check=U(r.check,s,d,n)),a-=d,n+=d,r.length-=d),r.length))break r;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===a)break r;d=0;do k=s[n+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&d<a)if(512&r.flags&&4&r.wrap&&(r.check=U(r.check,s,d,n)),a-=d,n+=d,k)break r}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===a)break r;d=0;do k=s[n+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&d<a)if(512&r.flags&&4&r.wrap&&(r.check=U(r.check,s,d,n)),a-=d,n+=d,k)break r}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;h<16;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if(4&r.wrap&&u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=16209;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=16191;break;case 16189:for(;h<32;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}t.adler=r.check=eu(u),u=0,h=0,r.mode=16190;case 16190:if(0===r.havedict)return t.next_out=o,t.avail_out=l,t.next_in=n,t.avail_in=a,r.hold=u,r.bits=h,es;t.adler=r.check=1,r.mode=16191;case 16191:if(e===t7||e===et)break r;case 16192:if(r.last){u>>>=7&h,h-=7&h,r.mode=16206;break}for(;h<3;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}switch(r.last=1&u,h-=1,3&(u>>>=1)){case 0:r.mode=16193;break;case 1:if(em(r),r.mode=16199,e===et){u>>>=2,h-=2;break r}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=16209}u>>>=2,h-=2;break;case 16193:for(u>>>=7&h,h-=7&h;h<32;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&u,u=0,h=0,r.mode=16194,e===et)break r;case 16194:r.mode=16195;case 16195:if(d=r.length){if(d>a&&(d=a),d>l&&(d=l),0===d)break r;i.set(s.subarray(n,n+d),o),a-=d,n+=d,l-=d,o+=d,r.length-=d;break}r.mode=16191;break;case 16196:for(;h<14;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if(r.nlen=(31&u)+257,h-=5,r.ndist=(31&(u>>>=5))+1,h-=5,r.ncode=(15&(u>>>=5))+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;h<3;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}r.lens[O[r.have++]]=7&u,u>>>=3,h-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},x=t4(0,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,x){t.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;w=(E=r.lencode[u&(1<<r.lenbits)-1])>>>24,p=E>>>16&255,y=65535&E,!(w<=h);){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if(y<16)u>>>=w,h-=w,r.lens[r.have++]=y;else{if(16===y){for(S=w+2;h<S;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if(u>>>=w,h-=w,0===r.have){t.msg="invalid bit length repeat",r.mode=16209;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,h-=2}else if(17===y){for(S=w+3;h<S;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}u>>>=w,h-=w,k=0,d=3+(7&u),u>>>=3,h-=3}else{for(S=w+7;h<S;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}u>>>=w,h-=w,k=0,d=11+(127&u),u>>>=7,h-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=16209;break}for(;d--;)r.lens[r.have++]=k}}if(16209===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,M={bits:r.lenbits},x=t4(1,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,x){t.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},x=t4(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,x){t.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,e===et)break r;case 16199:r.mode=16200;case 16200:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=n,t.avail_in=a,r.hold=u,r.bits=h,t2(t,f),o=t.next_out,i=t.output,l=t.avail_out,n=t.next_in,s=t.input,a=t.avail_in,u=r.hold,h=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;w=(E=r.lencode[u&(1<<r.lenbits)-1])>>>24,p=E>>>16&255,y=65535&E,!(w<=h);){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if(p&&(240&p)==0){for(b=w,_=p,v=y;w=(E=r.lencode[v+((u&(1<<b+_)-1)>>b)])>>>24,p=E>>>16&255,y=65535&E,!(b+w<=h);){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}u>>>=b,h-=b,r.back+=b}if(u>>>=w,h-=w,r.back+=w,r.length=y,0===p){r.mode=16205;break}if(32&p){r.back=-1,r.mode=16191;break}if(64&p){t.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&p,r.mode=16201;case 16201:if(r.extra){for(S=r.extra;h<S;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;w=(E=r.distcode[u&(1<<r.distbits)-1])>>>24,p=E>>>16&255,y=65535&E,!(w<=h);){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if((240&p)==0){for(b=w,_=p,v=y;w=(E=r.distcode[v+((u&(1<<b+_)-1)>>b)])>>>24,p=E>>>16&255,y=65535&E,!(b+w<=h);){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}u>>>=b,h-=b,r.back+=b}if(u>>>=w,h-=w,r.back+=w,64&p){t.msg="invalid distance code",r.mode=16209;break}r.offset=y,r.extra=15&p,r.mode=16203;case 16203:if(r.extra){for(S=r.extra;h<S;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===l)break r;if(d=f-l,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=16209;break}d>r.wnext?(d-=r.wnext,m=r.wsize-d):m=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=i,m=o-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do i[o++]=g[m++];while(--d)0===r.length&&(r.mode=16200);break;case 16205:if(0===l)break r;i[o++]=r.length,l--,r.mode=16200;break;case 16206:if(r.wrap){for(;h<32;){if(0===a)break r;a--,u|=s[n++]<<h,h+=8}if(f-=l,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?U(r.check,i,f,o-f):Z(r.check,i,f,o-f)),f=l,4&r.wrap&&(r.flags?u:eu(u))!==r.check){t.msg="incorrect data check",r.mode=16209;break}u=0,h=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;h<32;){if(0===a)break r;a--,u+=s[n++]<<h,h+=8}if(4&r.wrap&&u!==(0|r.total)){t.msg="incorrect length check",r.mode=16209;break}u=0,h=0}r.mode=16208;case 16208:x=er;break r;case 16209:x=en;break r;case 16210:return eo;default:return ei}return t.next_out=o,t.avail_out=l,t.next_in=n,t.avail_in=a,r.hold=u,r.bits=h,(r.wsize||f!==t.avail_out&&r.mode<16209&&(r.mode<16206||e!==t9))&&eg(t,t.output,t.next_out,f-t.avail_out),c-=t.avail_in,f-=t.avail_out,t.total_in+=c,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?U(r.check,i,f,t.next_out-f):Z(r.check,i,f,t.next_out-f)),t.data_type=r.bits+64*!!r.last+128*(16191===r.mode)+256*(16199===r.mode||16194===r.mode),(0===c&&0===f||e===t9)&&x===ee&&(x=ea),x},ep=t=>{if(ec(t))return ei;let e=t.state;return e.window&&(e.window=null),t.state=null,ee},ey=(t,e)=>{let r,s=e.length;return ec(t)||0!==(r=t.state).wrap&&16190!==r.mode?ei:16190===r.mode&&Z(1,e,s,0)!==r.check?en:eg(t,e,s,s)?(r.mode=16210,eo):(r.havedict=1,ee)},eb=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let e_=Object.prototype.toString,{Z_NO_FLUSH:ev,Z_FINISH:ek,Z_OK:ex,Z_STREAM_END:eM,Z_NEED_DICT:eS,Z_STREAM_ERROR:eE,Z_DATA_ERROR:eT,Z_MEM_ERROR:eO}=W;function eN(t){this.options=tC({chunkSize:65536,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tW,this.strm.avail_out=0;let r=((t,e)=>{if(!t)return ei;let r=new eh;t.state=r,r.strm=t,r.window=null,r.mode=16180;let s=((t,e)=>{let r;if(ec(t))return ei;let s=t.state;return(e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15))?ei:(null!==s.window&&s.wbits!==e&&(s.window=null),s.wrap=r,s.wbits=e,ef(t))})(t,e);return s!==ee&&(t.state=null),s})(this.strm,e.windowBits);if(r!==ex||(this.header=new eb,((t,e)=>{if(ec(t))return;let r=t.state;return(2&r.wrap)==0||(r.head=e,e.done=!1)})(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=t$(e.dictionary):"[object ArrayBuffer]"===e_.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw)&&(r=ey(this.strm,e.dictionary))!==ex))throw Error(q[r])}function eA(t,e){let r=new eN(e);if(r.push(t),r.err)throw r.msg||q[r.err];return r.result}eN.prototype.push=function(t,e){let r,s,i,n=this.strm,o=this.options.chunkSize,a=this.options.dictionary;if(this.ended)return!1;for(s=e===~~e?e:!0===e?ek:ev,"[object ArrayBuffer]"===e_.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(o),n.next_out=0,n.avail_out=o),(r=ew(n,s))===eS&&a&&((r=ey(n,a))===ex?r=ew(n,s):r===eT&&(r=eS));n.avail_in>0&&r===eM&&n.state.wrap>0&&0!==t[n.next_in];)ef(n),r=ew(n,s);switch(r){case eE:case eT:case eS:case eO:return this.onEnd(r),this.ended=!0,!1}if(i=n.avail_out,n.next_out&&(0===n.avail_out||r===eM))if("string"===this.options.to){let t=tq(n.output,n.next_out),e=n.next_out-t,r=tU(n.output,t);n.next_out=e,n.avail_out=o-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(r!==ex||0!==i){if(r===eM)return r=ep(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},eN.prototype.onData=function(t){this.chunks.push(t)},eN.prototype.onEnd=function(t){t===ex&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=tF(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};let{Deflate:eD,deflate:ez,deflateRaw:eI,gzip:eR}={Deflate:t0,deflate:t1,deflateRaw:function(t,e){return(e=e||{}).raw=!0,t1(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,t1(t,e)},constants:W},{Inflate:eV,inflate:eC,inflateRaw:eF,ungzip:eL}={Inflate:eN,inflate:eA,inflateRaw:function(t,e){return(e=e||{}).raw=!0,eA(t,e)},ungzip:eA,constants:W};var eZ=ez}}]);